(()=>{var e,t,a={7464:(e,t,a)=>{"use strict";var i=a(6254),o=a.n(i);class s{constructor(){this.paths={},this.models={},this.units="mm"}}class n extends s{constructor(e,t,a=!1){super();let i=[];a&&e.push(e[0]);for(let t=0;t<=e.length-2;t++)i.push([e[t],e[t+1]]);let s=i.map((e=>new(o().paths.Line)(e[0],e[1]))),n=[];t.forEach(((e,t)=>{e&&n.push(o().path.fillet(s[t],s[t+1>=s.length?0:t+1],e))})),s.concat(n).forEach(((e,t)=>{o().path.addTo(e,this,t)}))}}class l extends s{constructor(e,t,a=[],i=!0,s=null,n=!1){super();let l=o().angle.ofPointInDegrees(e,t)+90,r=0;(a=Array.isArray(a)?a:[a]).forEach((a=>{let n;if(i?r+=a:r=a,0==r)n=new(o().paths.Line)(e,t);else{let a=o().point.fromPolar(o().angle.toRadians(l),r);n=new(o().paths.Line)(o().point.add(e,a),o().point.add(t,a))}s&&o().path.layer(n,s),o().model.addPath(this,n)}))}}class r{EmptyModel=s;FilletedPathModel=n;OffsetLinesAtIntervals=l;lineFromPointAtAngle(e,t,a){let i=o().angle.toRadians(a),s=o().point.add(e,o().point.fromPolar(i,t));return new(o().paths.Line)(e,s)}enableSplitting(e){e.split={ifNeeded:!0,axis:"auto"}}autoCaptionModel(e,t,a=12,i="bottom"){let s=o().measure.modelExtents(e);return o().model.addCaption(e,t,[s.low[0],s.low[1]],[s.high[0],s.high[1]]),e}cloneAndOffset(e,t=[0,0]){return o().model.moveRelative(o().model.clone(e),t)}pointFromPointAtAngle(e,t,a){let i=o().angle.toRadians(a);return o().point.add(e,o().point.fromPolar(i,t))}pointFromPointLineAtAngle(e,t,a,i){i=Object.assign({clockwise:!1,angle:90,inset:0},i);let s=o().angle.ofPointInDegrees(e,t)-(i.clockwise?i.angle:-i.angle),n=a;return i.angle>0&&(n=a/Math.sin(Math.PI*i.angle/180)),this.pointFromPointAtAngle(e,n,s)}tabPointsFromPointLine(e,t,a){if(0!=(a=Object.assign({distance:0,clockwise:!1,angle:90,baseInset:0,baseInset2:null,angle2:null},a)).distance){let i=e.slice(),o=t.slice();null==a.baseInset2&&(a.baseInset2=a.baseInset),a.baseInset>0&&(i=this.pointFromPointLineAtAngle(e,t,a.baseInset,{clockwise:a.clockwise,angle:0})),a.baseInset2>0&&(o=this.pointFromPointLineAtAngle(t,e,a.baseInset2,{clockwise:a.clockwise,angle:0}));let s=this.pointFromPointLineAtAngle(i,o,a.distance,{clockwise:a.clockwise,angle:a.angle,inset:a.inset});null==a.angle2&&(a.angle2=a.angle);let n=this.pointFromPointLineAtAngle(o,i,a.distance,{clockwise:!a.clockwise,angle:a.angle2,inset:a.inset}),l=[];return a.baseInset>0&&l.push(i),l.push(s),l.push(n),a.baseInset2>0&&l.push(o),l}return[e,t]}relativePointListToAbsolute(e){let t=[0,0];return e.map((e=>{let a=o().point.add(t,e);return t=a,a}))}drawEnglishPoint(e,t,a){let i=Object.assign({},{riserPCT:1.2},a).riserPCT,s=o().measure.pointDistance(e,t)*i,n=o().angle.ofPointInDegrees(e,t),l=this.pointFromPointAtAngle(e,s,n),r=this.pointFromPointAtAngle(t,s,180+n),h=o().point.average(e,t),d=new(o().paths.Circle)(l,s),c=new(o().paths.Circle)(r,s),p=o().path.intersection(d,c),g=o().measure.pointDistance(p.intersectionPoints[0],p.intersectionPoints[1]),u=this.pointFromPointAtAngle(h,g/2,n+90),m=o().angle.ofPointInDegrees(l,u),w=o().angle.ofPointInDegrees(r,u),P=new this.EmptyModel;return o().model.addPath(P,o().path.layer(new(o().paths.Line)(h,u),"stitch")),o().model.addPath(P,new(o().paths.Arc)(l,s,m,n+180)),o().model.addPath(P,new(o().paths.Arc)(r,s,n,w)),P}addTabAtPointLineAtLineIndex(e,t,a){a=Object.assign({distance:0,clockwise:!1,angle:90,angle2:null,autoWrap:!0},a);let i=e[t],o=t+1;t+1>e.length-1&&a.autoWrap&&(o=0);let s=e[o],n=this.tabPointsFromPointLine(i,s,a);return e.splice(t+1,0,...n),e}determineBendAllowance(e){null==(e=Object.assign({angle:90,materialThickness:1,innerRadius:null,k:.5,singleSided:!1},e)).innerRadius&&(e.innerRadius=Math.max(.5,e.materialThickness/4));let t=e.angle*(Math.PI/180)*(e.innerRadius+e.k*e.materialThickness);return e.singleSided&&(t/=2),t}chordalTrapezoidPointLine(e){(e=Object.assign({radiusDelta:45,innerChordLength:10,outerChordLength:null,innerRadius:null,outerRadius:null,angle:30},e)).innerRadius||(e.innerRadius=e.innerChordLength/Math.sin(e.angle/2*(Math.PI/180))),e.radiusDelta?e.outerRadius=e.innerRadius+e.radiusDelta:e.radiusDelta||(e.outerRadius=e.outerChordLength/Math.sin(e.angle/2*(Math.PI/180)));let t=[];return t.push([0,0]),t.push(this.pointFromPointAtAngle([0,-e.innerRadius],e.innerRadius,90-e.angle)),t.push(this.pointFromPointAtAngle([0,-e.innerRadius],e.outerRadius,90-e.angle)),t.push([0,e.outerRadius-e.innerRadius]),t}cardSlotPointLine(e,t,a=!1,i=null){null==(i=Object.assign({baseWidthPCT:.75,baseWidth:null,stitchAllowance:3.8,sideInset:null,cardStickOutPCT:.2,cardStickOut:null,slotRiseAmountPCT:.2,slotRiseAmount:null,topLineSlopePCT:null,topLineSlopeRise:0,topLinePoints:null},i)).sideInset&&(i.sideInset=i.stitchAllowance),null==i.baseWidth&&(i.baseWidth=i.baseWidthPCT*e),null==i.cardStickOut&&(i.cardStickOut=i.cardStickOutPCT*t),null==i.slotRiseAmount&&(i.slotRiseAmount=i.slotRiseAmountPCT*t),null!=i.topLineSlopePCT&&(i.topLineSlopeRise=t*i.topLineSlopePCT),null==i.topLineSlopeRise&&(i.topLineSlopeRise=0);let o=t-i.cardStickOut,s=e,n=[];return n.push([0,o]),n.push([i.stitchAllowance,o]),n.push([s-i.stitchAllowance,o+i.topLineSlopeRise]),n.push([s,o+i.topLineSlopeRise]),a?(n.push([s,o+i.topLineSlopeRise-i.slotRiseAmount]),n.push([s-i.sideInset,o+i.topLineSlopeRise-i.slotRiseAmount]),n.push([(s+i.baseWidth)/2,0]),n.push([(s-i.baseWidth)/2,0]),n.push([i.sideInset,o-i.slotRiseAmount]),n.push([0,o-i.slotRiseAmount])):(n.push([s,0]),n.push([0,0])),n}}class h{constructor(e){let t=Object.assign({defaultPackAreaHeight:1e3,defaultPackAreaWidth:2e3,growLimitHeight:-1,growLimitWidth:-1,canGrowPackArea:!1,canAddPackAreas:!0},e);this.defaultPackAreaHeight=t.defaultPackAreaHeight,this.defaultPackAreaWidth=t.defaultPackAreaWidth,this.canGrowPackArea=t.canGrowPackArea,this.canAddPackAreas=t.canAddPackAreas,this.availableHeap=[],this.packAreaDefinitions=[],this.packAreaMaxIndex=0,this.packedBlocks=[],this.addPackArea()}packedAreas(){return this.packAreaDefinitions.map((e=>({id:e.a,h:e.h,w:e.w,blocks:this.packedBlocks.filter((t=>t.a==e.a))})))}addPackArea(e=null,t=null){e||(e=this.defaultPackAreaWidth),t||(t=this.defaultPackAreaHeight);let a={x:0,y:0,w:e,h:t,a:++this.packAreaMaxIndex};return this.packAreaDefinitions.push(Object.assign({},a)),this.availableHeap.push(a),a}growPackArea(e,t,a=-1){let i=null;i=a<0?this.packAreaDefinitions[this.packAreaDefinitions.length-1]:this.packAreaDefinitions.find((e=>e.id==a)),i.w,Math.max(i.h,t),i.h,Math.max(i.w,e);let o=i.w+e<i.h+t,s=o?i.w+e:Math.max(i.w,e),n=o?Math.max(i.h,t):i.h+t,l=this.availableHeap.filter((e=>e.a==i.a)),r=(l.filter((e=>e.x+e.w==i.w)),l.filter((e=>e.y+e.h==i.h)),s-i.w),h=n-i.h;o?(this.availableHeap.push({s:1,a:i.a,x:i.x+i.w,y:i.y,w:r,h:i.h+h}),this.availableHeap.push({s:2,a:i.a,x:i.x,y:i.y+i.h,w:i.w,h})):(this.availableHeap.push({e:1,a:i.a,x:i.x,y:i.y+i.h,w:i.w+r,h}),this.availableHeap.push({e:2,a:i.a,x:i.x+i.w,y:i.y,w:r,h:i.h})),i.w=s,i.h=n,this.sortHeapForPacking()}sortBlocksForPacking(e){return e.sort(((e,t)=>t.w*t.h-e.w*e.h)),e}sortHeapForPacking(){this.availableHeap.sort(((e,t)=>e.w*e.h-t.w*t.h))}splitRemainingHeap(e,t){let a,i;return e.w-t.w>=e.h-t.h?(a={x:e.x+t.w,y:e.y,w:e.w-t.w,h:e.h},i={x:e.x,y:e.y+t.h,w:t.w,h:e.h-t.h}):(a={x:e.x,y:e.y+t.h,w:e.w,h:e.h-t.h},i={x:e.x+t.w,y:e.y,w:e.w-t.w,h:t.h}),a.a=e.a,i.a=e.a,[a,i]}packBlockInAvailableAreas(e){let t=!1,a=this.availableHeap.findIndex((t=>t.w>=e.w&&t.h>=e.h));if(a>-1){let i=this.availableHeap[a],o={w:e.w,h:e.h,x:i.x,y:i.y,a:i.a,id:e.id,rotated:e.rotated,model:e.model};this.packedBlocks.push(o);let s=this.splitRemainingHeap(i,e);this.availableHeap.splice(a,1,s[0],s[1]),this.sortHeapForPacking(),t=!0}return t}trimEmptyPackAreas(){this.packAreaDefinitions=this.packAreaDefinitions.filter((e=>this.packedBlocks.filter((t=>t.a==e.a)).length>0));let e=this.packAreaDefinitions.map((e=>e.a));this.availableHeap=this.availableHeap.filter((t=>e.includes(t.a)))}packBlock(e){this.packAreaDefinitions.length<1&&this.addPackArea();let t=this.packBlockInAvailableAreas(e);return!t&&this.canGrowPackArea&&(this.growPackArea(e.w+1,e.h+1),t=this.packBlockInAvailableAreas(e)),!t&&this.canAddPackAreas&&(this.addPackArea(),t=this.packBlockInAvailableAreas(e)),t||this.trimEmptyPackAreas(),t}}class d{trimModelToLine(e,t,a=!0,i=!0,s=5,n=!0,l=!0){const r=.2;l&&(e=o().model.clone(e));let h,d,c,p,g,u,m=o().measure.modelExtents(e);if(console.log("Cutting"),i?(h=new(o().paths.Line)([m.low[0]+t+(a?-s:s),m.low[1]-m.height*r],[m.low[0]+t+(a?-s:s),m.high[1]+m.height*r]),c=(a?m.width-t:t)+2*s,p=a?m.low[0]+t-s:m.low[0]-s,g=m.height+2*s,u=m.low[1]-s):(h=new(o().paths.Line)([m.low[0]-m.width*r,m.low[1]+t+(a?-s:s)],[m.high[0]+m.width*r,m.low[1]+t+(a?-s:s)]),c=m.width+2*s,p=m.low[0]-s,g=(a?m.height-t:t)+2*s,u=a?m.low[0]+t-s:m.low[0]-s),d=o().model.move(new(o().models.Rectangle)(c,g),[p,u]),console.log(m,p,c,u,d,g),o().model.walk(e,{onPath:e=>{let t=o().path.intersection(e.pathContext,h);t&&t.intersectionPoints.forEach((t=>{let a=o().path.breakAtPoint(e.pathContext,t);o().model.addPath(e.modelContext,a)}))}}),o().model.walk(e,{onPath:e=>{o().model.isPathInsideModel(e.pathContext,d,e.offset)||delete e.modelContext.paths[e.pathId]}}),n){let a;a=i?new(o().paths.Line)([m.low[0]+t,m.low[1]-3],[m.low[0]+t,m.high[1]+3]):new(o().paths.Line)([m.low[0]-3,m.low[1]+t],[m.high[0]+3,m.low[1]+t]),o().path.layer(a,"patternJoinLine"),o().model.addPath(e,a)}return e}splitModel(e,t=.5,a=!0){let i=o().measure.modelExtents(e),s=a?t*i.width:t*i.height;return{models:{a:this.trimModelToLine(e,s,!0,a),b:this.trimModelToLine(e,s,!1,a)}}}}class c{constructor(e){let t=Object.assign({pageSize:{x:1e3,y:1e3},pageSizeGrowLimit:{x:-1,y:-1},canAddPages:!0,canGrowPageSize:!1,allowRotation:!0,allowSplitting:!0,maxSplitIterations:1},e);this.pageSize=t.pageSize,this.pageSizeGrowLimit=t.pageSizeGrowLimit,this.canAddPages=t.canAddPages,this.canGrowPageSize=t.canGrowPageSize,this.allowRotation=t.allowRotation,this.allowSplitting=t.allowSplitting}createModelBlock(e,t){let a=o().measure.modelExtents(e);return{id:t,model:e,w:a.width,h:a.height,rotated:!1,splitCount:0}}packModels(e){let t=[],a=e.reduce(((e,a,i)=>{let o=this.createModelBlock(a,i);return o.w&&o.h?e.push(o):t.push(o),e}),[]),i=new h({defaultPackAreaHeight:this.pageSize.y,defaultPackAreaWidth:this.pageSize.x,growLimitHeight:this.pageSizeGrowLimit.y,growLimitWidth:this.pageSizeGrowLimit.x,canGrowPackArea:this.canGrowPageSize,canAddPackAreas:this.canAddPages});function s(e){let t=e.w;e.w=e.h,e.h=t,e.rotated=!e.rotated}console.log("HEAP PACKER",i);let n=[],l=[];if(i.sortBlocksForPacking(a),a.forEach((e=>{i.packBlock(e)?l.push(e):n.push(e)})),a=n,this.allowRotation&&(a.forEach((e=>{s(e)})),n=[],i.sortBlocksForPacking(a),a.forEach((e=>{i.packBlock(e)?l.push(e):n.push(e)})),a=n,a.forEach((e=>{e=s(e)}))),this.allowSplitting){let e=[],t=new d,o=a.reduce(((e,t)=>Math.max(e,t.id)),0)+1;a=a.reduce(((a,i)=>{let s=!0;if(i.model.split&&0==i.model.split.ifNeeded&&(s=!1),s){let s=.5;i.model.split&&i.model.split.splitAtPct&&(s=i.model.split.splitAtPct);let n=!1;i.model.split&&"y"==i.model.split.axis&&(n=!0);let l=t.splitModel(i.model,s,n);l?(a.push(this.createModelBlock(l.models.a,o++)),a.push(this.createModelBlock(l.models.b,o++))):e.push(i)}else e.push(i);return a}),[]),n=[],i.sortBlocksForPacking(a),a.forEach((e=>{i.packBlock(e)?l.push(e):n.push(e)})),this.allowRotation&&(a=n,a.forEach((e=>{s(e)})),n=[],i.sortBlocksForPacking(a),a.forEach((e=>{i.packBlock(e)?l.push(e):n.push(e)}))),n=n.concat(e)}return n=n.concat(t),i.trimEmptyPackAreas(),{packedPages:i.packedAreas().map((e=>{let t={models:{},pages:{},origin:[0,0]};return e.blocks.forEach((e=>{e.rotated&&o().model.rotate(e.model,90);let a=o().measure.modelExtents(e.model).low;o().model.addModel(t,o().model.move(e.model,o().point.subtract([e.x,e.y],a))),e.model.caption&&o().path.move(e.model.caption.anchor,[e.x,e.y])})),t})),unpackedModels:n.map((e=>e.model))}}}var p=a(3125),g=a.n(p),u=a(7152),m=a.n(u);function w(e){return 72*e/25.4}class P{constructor(){this.renderInProgress=!1}getRenderInProgress(){return this.renderInProgress}scaleModelToPDFPPI(e){var t=1;return t=o().units.conversionScale("mm",o().unitType.Inch),t*=72,o().model.scale(o().model.clone(e),t)}renderModelToSVG(e,t){let a={styleSet:{stitch:{stroke:"red",strokeWidth:"1",cssStyle:"stroke-dasharray: 5, 5"},center:{stroke:"green",strokeWidth:"1",cssStyle:"stroke-dasharray: 5, 5, 12, 5"},hint:{stroke:"blue",strokeWidth:"1",cssStyle:"stroke-dasharray: 2, 8"}}};return Object.assign(a,t),e.units=o().unitType.Millimeter,o().exporter.toSVG(e,{useSvgPathOnly:!1,units:"mm",layerOptions:a.styleSet})}renderPageModelsToSVG(e,t){let a=e.map((e=>this.renderModelToSVG(e,t)));return Promise.resolve(a)}modelToPDF(e,t,a,i){i||(i={}),i.base||(i.base={strokeWidth:1,strokeColor:"#000"});let s=this.scaleModelToPDFPPI(t),n=o().measure.modelExtents(s),l=o().exporter.toSVGPathData(s,{origin:[w(a.left),n.high[1]+w(a.top)],byLayers:!0});for(const[t,a]of Object.entries(l)){e.save(),e.path(a);let o=i[t&&""!=t?t:"base"];o||(o=i.base),o&&(o.strokeWidth&&e.lineWidth(o.strokeWidth),o.dashed?e.dash(o.dashed[0],o.dashed[1]):e.undash(),o.strokeColor&&e.stroke(o.strokeColor)),e.restore()}o().model.getAllCaptionsOffset(s).forEach((t=>{console.log("Processing",t),e.text(t.text,n.low[0]+w(a.left)+t.anchor.origin[0],n.high[1]+w(a.top)-t.anchor.origin[1]-(t.anchor.end[1]-t.anchor.origin[1])/2,{baseline:"top"}),console.log("Processing",t,n,w(a.top),n.low[0]+w(a.left)+t.anchor.origin[0],n.high[1]+w(a.top)-t.anchor.origin[1])}))}renderPageModelsToPDF(e,t){let a={styleSet:{base:{strokeWidth:"1",strokeColor:"#000"},center:{strokeWidth:"1",dashed:[10,20],strokeColor:"#0F0"},hint:{strokeWidth:"1",dashed:[5,5],strokeColor:"#00F"},stitch:{strokeWidth:"1",dashed:[2,10],strokeColor:"#F000"},patternJoinLine:{strokeWidth:"1",dashed:[2,10],strokeColor:"#b2c"}},pageMargins:5,units:"mm",layout:"portrait",pageSize:"A4"};if(Object.assign(a,t),!a.pageSize)throw"Page size must be specified for PDF rendering, try A4";a.pageMargins&&"object"!=typeof a.pageMargins&&(a.pageMargins={left:a.pageMargins,right:a.pageMargins,top:a.pageMargins,bottom:a.pageMargins});let i={layout:a.layout,size:"string"==typeof a.pageSize?a.pageSize:[w(a.pageSize.x),w(a.pageSize.y)]};console.log("PDF Setup",i);let o=new(g())({autoFirstPage:!1}),s=o.pipe(m()());return e.forEach((e=>{o.addPage(i),this.modelToPDF(o,e,a.pageMargins,a.styleSet)})),o.end(),new Promise((function(e,t){s.on("finish",(function(){const t=s.toBlob("application/pdf");e(function(e){const t=new FileReader;return t.readAsDataURL(e),new Promise((e=>{t.onloadend=()=>{e(t.result)}}))}(t))})),s.on("error",(function(){t()}))}))}renderCode(e,t,a){this.renderInProgress=!0;let i={format:"SVG",pageSize:{x:1e3,y:1e3},packToPages:!1,canAddPages:!0,canGrowPageSize:!1,pageMargins:10,allowSplitting:!0,allowRotation:!0};Object.assign(i,t),i.pageMargins&&"object"!=typeof i.pageMargins&&(i.pageMargins={left:i.pageMargins,right:i.pageMargins,top:i.pageMargins,bottom:i.pageMargins});let s=function(e,t){let a=new Function("console","makerjs","MakerJs","userParameters","utils",e);a.prototype.models={};let i=new r,s=new a(console,o(),o(),t,i),n=null;if(s)if(n={},s.userParameters&&(n.userParameters=s.userParameters),s.styleSet&&(n.styleSet=s.styleSet),s.log&&(n.log=s.log),s.models&&"legacy"!=s.models){let e=[];e=Object.keys(s.models).map((e=>s.models[e])),n.output=e}else if(s&&Object.keys(s).length>0){let e=[];e=Object.keys(s).filter((e=>!["userParameters","styleSet","models","log","instructions","bom","notes"].includes(e))).map((e=>s[e])),n.output=e}return console,n}(e,Object.assign({},t.userParameters)).output;if(Array.isArray(s)&&s.length>0){let e=new c({pageSize:{x:Math.max(i.pageSize.x-(i.pageMargins.left+i.pageMargins.right),0),y:Math.max(i.pageSize.y-(i.pageMargins.top+i.pageMargins.bottom),0)},pageSizeGrowLimit:{x:-1,y:-1},canAddPages:i.canAddPages,canGrowPageSize:i.canGrowPageSize,allowRotation:i.allowRotation,allowSplitting:i.allowSplitting}).packModels(s);console.log("Packing Result",e);let o=[];"SVG"==i.format?o=this.renderPageModelsToSVG(e.packedPages,i):"PDF"==i.format&&(o=this.renderPageModelsToPDF(e.packedPages,i)),o.then((o=>{Array.isArray(o)||(o=[o]),a({type:"renderResponse",contentType:i.format,renderFor:t.renderFor,successContent:o,errorContent:e.unpackedModels,logMessages:[]})}))}else a({type:"renderResponse",contentType:i.format,renderFor:t.renderFor,successContent:[],errorContent:[],logMessages:[]});this.renderInProgress=!1}reset(){}}self.onmessage=({data:e})=>{let t=new P;"renderRequest"==e.type&&t.renderCode(e.code,e.options,(e=>{self.postMessage(e)}))}},9862:()=>{},964:()=>{}},i={};function o(e){var t=i[e];if(void 0!==t)return t.exports;var s=i[e]={exports:{}};return a[e](s,s.exports,o),s.exports}o.m=a,o.x=()=>{var e=o.O(void 0,[8],(()=>o(7464)));return o.O(e)},e=[],o.O=(t,a,i,s)=>{if(!a){var n=1/0;for(d=0;d<e.length;d++){for(var[a,i,s]=e[d],l=!0,r=0;r<a.length;r++)(!1&s||n>=s)&&Object.keys(o.O).every((e=>o.O[e](a[r])))?a.splice(r--,1):(l=!1,s<n&&(n=s));if(l){e.splice(d--,1);var h=i();void 0!==h&&(t=h)}}return t}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[a,i,s]},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce(((t,a)=>(o.f[a](e,t),t)),[])),o.u=e=>e+".bundle.js",o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;o.g.importScripts&&(e=o.g.location+"");var t=o.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var a=t.getElementsByTagName("script");a.length&&(e=a[a.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=e})(),(()=>{var e={825:1};o.f.i=(t,a)=>{e[t]||importScripts(o.p+o.u(t))};var t=self.webpackChunk=self.webpackChunk||[],a=t.push.bind(t);t.push=t=>{var[i,s,n]=t;for(var l in s)o.o(s,l)&&(o.m[l]=s[l]);for(n&&n(o);i.length;)e[i.pop()]=1;a(t)}})(),t=o.x,o.x=()=>o.e(8).then(t),o.x()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODI1LmJ1bmRsZS5qcyIsIm1hcHBpbmdzIjoiVUFBSUEsRUNBQUMsRSxzRENBRyxNQUFNQyxFQUNYQyxjQUNFQyxLQUFLQyxNQUFRLEdBQ2JELEtBQUtFLE9BQVMsR0FDZEYsS0FBS0csTUFBUSxNQ1FqQixNQUFNQyxVQUEwQk4sRUFROUJDLFlBQVlNLEVBQVdDLEVBQVlDLEdBQVMsR0FDMUNDLFFBS0EsSUFBSUMsRUFBWSxHQUNaRixHQUVGRixFQUFXSyxLQUFLTCxFQUFXLElBRTdCLElBQUssSUFBSU0sRUFBSSxFQUFHQSxHQUFLTixFQUFXTyxPQUFPLEVBQUdELElBQ3hDRixFQUFVQyxLQUFLLENBQUNMLEVBQVdNLEdBQUdOLEVBQVdNLEVBQUUsS0FHN0MsSUFBSVYsRUFBUVEsRUFBVUksS0FBS0MsR0FDbEIsSUFBSSxnQkFBbUJBLEVBQVMsR0FBR0EsRUFBUyxNQUlqREMsRUFBTyxHQUNYVCxFQUFZVSxTQUFRLENBQUNDLEVBQWFDLEtBQzVCRCxHQUNGRixFQUFLTCxLQUFLLGdCQUNSVCxFQUFNaUIsR0FDTmpCLEVBQVNpQixFQUFNLEdBQUlqQixFQUFNVyxPQUFRLEVBQUVNLEVBQU0sR0FDekNELE9BS05oQixFQUFNa0IsT0FBT0osR0FBTUMsU0FBUSxDQUFDSSxFQUFRRixLQUNsQyxlQUFtQkUsRUFBUXBCLEtBQUtrQixPQVF0QyxNQUFNRyxVQUErQnZCLEVBV25DQyxZQUFZdUIsRUFBY0MsRUFBWUMsRUFBWSxHQUFHQyxHQUFvQixFQUFLQyxFQUFZLEtBQUtDLEdBQXdCLEdBQ3JIbkIsUUFFQSxJQUNJb0IsRUFEZ0IsMkJBQStCTixFQUFjQyxHQUN6QixHQUNwQ00sRUFBc0IsR0FDMUJMLEVBQVlNLE1BQU1DLFFBQVFQLEdBQVdBLEVBQVUsQ0FBQ0EsSUFDdENSLFNBQVFnQixJQUNoQixJQUFJQyxFQU9KLEdBTklSLEVBQ0ZJLEdBQXVCRyxFQUV2QkgsRUFBc0JHLEVBR0csR0FBdkJILEVBQ0ZJLEVBQWEsSUFBSSxnQkFBbUJYLEVBQWNDLE9BQzdDLENBQ0wsSUFBSVcsRUFBWSxvQkFBd0Isb0JBQXdCTixHQUFvQkMsR0FDcEZJLEVBQWEsSUFBSSxnQkFDZixjQUFrQlgsRUFBY1ksR0FDaEMsY0FBa0JYLEVBQVlXLElBSzlCUixHQUNGLGVBQW1CTyxFQUFXUCxHQUdoQyxrQkFBc0IxQixLQUFLaUMsT0FNMUIsTUFBTUUsRUFJWHJDLFdBQWFBLEVBQ2JNLGtCQUFvQkEsRUFDcEJpQix1QkFBeUJBLEVBU3pCZSxxQkFBcUJDLEVBQVV6QixFQUFPMEIsR0FDcEMsSUFBSUMsRUFBaUIsb0JBQXdCRCxHQUN6Q0UsRUFBVSxjQUFrQkgsRUFBVSxvQkFBd0JFLEVBQWUzQixJQUNqRixPQUFPLElBQUksZ0JBQW1CeUIsRUFBVUcsR0FNMUNDLGdCQUFnQkMsR0FDZEEsRUFBV0MsTUFBUSxDQUNqQkMsVUFBVSxFQUNWQyxLQUFNLFFBV1ZDLGlCQUFpQkMsRUFBZUMsRUFBUUMsRUFBYSxHQUFHQyxFQUFXLFVBQ2pFLElBQUlDLEVBQWUseUJBQTZCSixHQU9oRCxPQU5BLHFCQUNFQSxFQUNBQyxFQUNBLENBQUNHLEVBQWFDLElBQUksR0FBR0QsRUFBYUMsSUFBSSxJQUN0QyxDQUFDRCxFQUFhRSxLQUFLLEdBQUdGLEVBQWFFLEtBQUssS0FFbkNOLEVBUVRPLGVBQWVDLEVBQWFDLEVBQVMsQ0FBQyxFQUFFLElBQ3RDLE9BQU8sdUJBQTJCLGdCQUFvQkQsR0FBY0MsR0FTdEVDLHNCQUFzQnBCLEVBQVV6QixFQUFPMEIsR0FDckMsSUFBSUMsRUFBaUIsb0JBQXdCRCxHQUU3QyxPQURjLGNBQWtCRCxFQUFVLG9CQUF3QkUsRUFBZTNCLElBY25GOEMsMEJBQTBCQyxFQUFHQyxFQUFHQyxFQUFTQyxHQUV2Q0EsRUFBU0MsT0FBT0MsT0FBTyxDQUNyQkMsV0FBVyxFQUNYQyxNQUFPLEdBQ1BDLE1BQU8sR0FDUEwsR0FFRixJQUVJTSxFQUZZLDJCQUErQlQsRUFBR0MsSUFFcEJFLEVBQU9HLFVBQVVILEVBQU9JLE9BQU9KLEVBQU9JLE9BRWhFRyxFQUFJUixFQUlSLE9BSElDLEVBQU9JLE1BQVEsSUFDakJHLEVBQUlSLEVBQVlTLEtBQUtDLElBQUlELEtBQUtFLEdBQUtWLEVBQU9JLE1BQVEsTUFFN0NsRSxLQUFLeUQsc0JBQXNCRSxFQUFHVSxFQUFFRCxHQWV6Q0ssdUJBQXVCZCxFQUFHQyxFQUFHRSxHQVkzQixHQUF1QixJQVh2QkEsRUFBU0MsT0FBT0MsT0FBTyxDQUNyQkgsU0FBVSxFQUNWSSxXQUFXLEVBQ1hDLE1BQU8sR0FDUFEsVUFBVyxFQUNYQyxXQUFZLEtBQ1pDLE9BQVEsTUFDUmQsSUFJU0QsU0FBZSxDQUV4QixJQUFJZ0IsRUFBTWxCLEVBQUdtQixRQUNUQyxFQUFNbkIsRUFBR2tCLFFBRVksTUFBckJoQixFQUFPYSxhQUFvQmIsRUFBT2EsV0FBYWIsRUFBT1ksV0FFdERaLEVBQU9ZLFVBQVksSUFDckJHLEVBQU03RSxLQUFLMEQsMEJBQTBCQyxFQUFHQyxFQUFHRSxFQUFPWSxVQUFVLENBQUNULFVBQVdILEVBQU9HLFVBQVVDLE1BQU8sS0FJOUZKLEVBQU9hLFdBQWEsSUFDdEJJLEVBQU0vRSxLQUFLMEQsMEJBQTBCRSxFQUFHRCxFQUFHRyxFQUFPYSxXQUFXLENBQUNWLFVBQVdILEVBQU9HLFVBQVVDLE1BQU8sS0FHbkcsSUFBSWMsRUFBUWhGLEtBQUswRCwwQkFBMEJtQixFQUFJRSxFQUFJakIsRUFBT0QsU0FBUyxDQUNqRUksVUFBV0gsRUFBT0csVUFDbEJDLE1BQU9KLEVBQU9JLE1BQ2RDLE1BQU9MLEVBQU9LLFFBR0ssTUFBakJMLEVBQU9jLFNBQWdCZCxFQUFPYyxPQUFTZCxFQUFPSSxPQUVsRCxJQUFJZSxFQUFRakYsS0FBSzBELDBCQUEwQnFCLEVBQUlGLEVBQUlmLEVBQU9ELFNBQVMsQ0FDakVJLFdBQVdILEVBQU9HLFVBQ2xCQyxNQUFNSixFQUFPYyxPQUNiVCxNQUFNTCxFQUFPSyxRQUdYZSxFQUFTLEdBVWIsT0FUSXBCLEVBQU9ZLFVBQVksR0FDckJRLEVBQU94RSxLQUFLbUUsR0FFZEssRUFBT3hFLEtBQUtzRSxHQUNaRSxFQUFPeEUsS0FBS3VFLEdBQ1JuQixFQUFPYSxXQUFhLEdBQ3RCTyxFQUFPeEUsS0FBS3FFLEdBR1BHLEVBRVAsTUFBTyxDQUFDdkIsRUFBR0MsR0FRZnVCLDRCQUE0QkMsR0FDMUIsSUFBSUMsRUFBWSxDQUFDLEVBQUUsR0FDbkIsT0FBT0QsRUFBT3ZFLEtBQUt5RSxJQUNmLElBQUlDLEVBQVcsY0FBa0JGLEVBQVVDLEdBRTNDLE9BREFELEVBQVlFLEVBQ0xBLEtBYWJDLGlCQUFpQkMsRUFBS0MsRUFBR0MsR0FFdkIsSUFLSUMsRUFMbUI3QixPQUFPQyxPQUFPLEdBQUcsQ0FDdEM0QixTQUFVLEtBQ1ZELEdBRzhCQyxTQUU1QkMsRUFEYSwwQkFBOEJKLEVBQUtDLEdBQ3JCRSxFQUUzQkUsRUFBWSwyQkFBK0JMLEVBQUtDLEdBRWhESyxFQUFhL0YsS0FBS3lELHNCQUFzQmdDLEVBQUtJLEVBQVlDLEdBQ3pERSxFQUFXaEcsS0FBS3lELHNCQUFzQmlDLEVBQUdHLEVBQVksSUFBSUMsR0FHekRHLEVBQVcsa0JBQXNCUixFQUFLQyxHQUV0Q1EsRUFBYSxJQUFJLGtCQUFxQkgsRUFBV0YsR0FDakRNLEVBQVcsSUFBSSxrQkFBcUJILEVBQVNILEdBRTdDTyxFQUFlLHNCQUEwQkYsRUFBV0MsR0FDcERFLEVBQXVCLDBCQUE4QkQsRUFBYUUsbUJBQW1CLEdBQUdGLEVBQWFFLG1CQUFtQixJQUV4SEMsRUFBY3ZHLEtBQUt5RCxzQkFBc0J3QyxFQUFTSSxFQUFxQixFQUFFUCxFQUFVLElBRW5GVSxFQUFvQiwyQkFBK0JULEVBQVdRLEdBQzlERSxFQUFrQiwyQkFBK0JULEVBQVNPLEdBRzFERyxFQUFlLElBQUkxRyxLQUFLRixXQXFCNUIsT0FuQkEsa0JBQ0U0RyxFQUNBLGVBQW1CLElBQUksZ0JBQW1CVCxFQUFTTSxHQUFhLFdBSWxFLGtCQUNFRyxFQUNBLElBQUksZUFBa0JYLEVBQVdGLEVBQVlXLEVBQWtCVixFQUFZLE1BRzdFLGtCQUNFWSxFQUNBLElBQUksZUFBa0JWLEVBQVNILEVBQVlDLEVBQVVXLElBTWhEQyxFQWlCVEMsNkJBQTZCQyxFQUFVMUYsRUFBTTRDLEdBQzNDQSxFQUFTQyxPQUFPQyxPQUFPLENBQ3JCSCxTQUFVLEVBQ1ZJLFdBQVcsRUFDWEMsTUFBTyxHQUNQVSxPQUFRLEtBQ1JpQyxVQUFVLEdBQ1YvQyxHQUVILElBQUlILEVBQUtpRCxFQUFVMUYsR0FHZjRGLEVBQVU1RixFQUFNLEVBQ2RBLEVBQU0sRUFBTTBGLEVBQVVoRyxPQUFPLEdBQVFrRCxFQUFlLFdBQUlnRCxFQUFVLEdBRXhFLElBQUlsRCxFQUFLZ0QsRUFBVUUsR0FDZkMsRUFBWS9HLEtBQUt5RSx1QkFBdUJkLEVBQUdDLEVBQUdFLEdBR2xELE9BREE4QyxFQUFVSSxPQUFPOUYsRUFBTSxFQUFFLEtBQUs2RixHQUN2QkgsRUFZUkssdUJBQXVCbkQsR0FTSyxPQVIxQkEsRUFBU0MsT0FBT0MsT0FBTyxDQUNyQkUsTUFBTyxHQUNQZ0Qsa0JBQW1CLEVBQ25CQyxZQUFhLEtBQ2JDLEVBQUcsR0FDSEMsYUFBYSxHQUNidkQsSUFFU3FELGNBQ1RyRCxFQUFPcUQsWUFBYzdDLEtBQUtnRCxJQUFJLEdBQUt4RCxFQUFPb0Qsa0JBQWtCLElBTTlELElBQUlLLEVBQWlCekQsRUFBT0ksT0FBU0ksS0FBS0UsR0FBSyxNQUFTVixFQUFPcUQsWUFBZXJELEVBQU9zRCxFQUFJdEQsRUFBT29ELG1CQU1oRyxPQUpJcEQsRUFBT3VELGNBQ1RFLEdBQStCLEdBRzFCQSxFQUdUQywwQkFBMEIxRCxJQUN4QkEsRUFBU0MsT0FBT0MsT0FBTyxDQUNyQnlELFlBQWEsR0FDYkMsaUJBQWtCLEdBQ2xCQyxpQkFBa0IsS0FDbEJSLFlBQWEsS0FDYlMsWUFBYSxLQUNiMUQsTUFBTyxJQUNQSixJQUlVcUQsY0FDVnJELEVBQU9xRCxZQUFjckQsRUFBTzRELGlCQUFvQnBELEtBQUtDLElBQUtULEVBQU9JLE1BQU0sR0FBTUksS0FBS0UsR0FBSyxPQUdyRlYsRUFBTzJELFlBQ1QzRCxFQUFPOEQsWUFBYzlELEVBQU9xRCxZQUFjckQsRUFBTzJELFlBRXZDM0QsRUFBTzJELGNBQ2pCM0QsRUFBTzhELFlBQWM5RCxFQUFPNkQsaUJBQW9CckQsS0FBS0MsSUFBS1QsRUFBT0ksTUFBTSxHQUFNSSxLQUFLRSxHQUFLLE9BTXpGLElBQUlvQyxFQUFZLEdBTWhCLE9BTEFBLEVBQVVsRyxLQUFLLENBQUMsRUFBRSxJQUNsQmtHLEVBQVVsRyxLQUFLVixLQUFLeUQsc0JBQXNCLENBQUMsR0FBR0ssRUFBT3FELGFBQWFyRCxFQUFPcUQsWUFBWSxHQUFHckQsRUFBT0ksUUFDL0YwQyxFQUFVbEcsS0FBS1YsS0FBS3lELHNCQUFzQixDQUFDLEdBQUdLLEVBQU9xRCxhQUFhckQsRUFBTzhELFlBQVksR0FBRzlELEVBQU9JLFFBQy9GMEMsRUFBVWxHLEtBQUssQ0FBQyxFQUFFb0QsRUFBTzhELFlBQWM5RCxFQUFPcUQsY0FFdkNQLEVBcUJUaUIsa0JBQWtCQyxFQUFZQyxFQUFhQyxHQUFRLEVBQU9sRSxFQUFPLE1BZ0J2QyxPQWZ4QkEsRUFBU0MsT0FBT0MsT0FBTyxDQUNyQmlFLGFBQWMsSUFDZEMsVUFBVyxLQUNYQyxnQkFBaUIsSUFDakJDLFVBQVcsS0FDWEMsZ0JBQWlCLEdBQ2pCQyxhQUFjLEtBQ2RDLGtCQUFtQixHQUNuQkMsZUFBZ0IsS0FDaEJDLGdCQUFpQixLQUNqQkMsaUJBQWtCLEVBQ2xCQyxjQUFlLE1BQ2Y3RSxJQUdTc0UsWUFDVHRFLEVBQU9zRSxVQUFZdEUsRUFBT3FFLGlCQUdKLE1BQXBCckUsRUFBT29FLFlBQ1RwRSxFQUFPb0UsVUFBWXBFLEVBQU9tRSxhQUFlSCxHQUdoQixNQUF2QmhFLEVBQU93RSxlQUNUeEUsRUFBT3dFLGFBQWV4RSxFQUFPdUUsZ0JBQWtCTixHQUdwQixNQUF6QmpFLEVBQU8wRSxpQkFDVDFFLEVBQU8wRSxlQUFpQjFFLEVBQU95RSxrQkFBb0JSLEdBR3ZCLE1BQTFCakUsRUFBTzJFLGtCQUNUM0UsRUFBTzRFLGlCQUFtQlgsRUFBY2pFLEVBQU8yRSxpQkFHbEIsTUFBM0IzRSxFQUFPNEUsbUJBQ1Q1RSxFQUFPNEUsaUJBQW1CLEdBRzVCLElBQUlFLEVBQWNiLEVBQWNqRSxFQUFPd0UsYUFDbkNPLEVBQWFmLEVBRWJ6SCxFQUFhLEdBbUJqQixPQWxCQUEsRUFBV0ssS0FBSyxDQUFDLEVBQUdrSSxJQUNwQnZJLEVBQVdLLEtBQUssQ0FBQ29ELEVBQU9xRSxnQkFBaUJTLElBQ3pDdkksRUFBV0ssS0FBSyxDQUFDbUksRUFBVy9FLEVBQU9xRSxnQkFBaUJTLEVBQWM5RSxFQUFPNEUsbUJBQ3pFckksRUFBV0ssS0FBSyxDQUFDbUksRUFBWUQsRUFBYzlFLEVBQU80RSxtQkFFOUNWLEdBQ0YzSCxFQUFXSyxLQUFLLENBQUNtSSxFQUFZRCxFQUFjOUUsRUFBTzRFLGlCQUFtQjVFLEVBQU8wRSxpQkFDNUVuSSxFQUFXSyxLQUFLLENBQUNtSSxFQUFhL0UsRUFBT3NFLFVBQVdRLEVBQWM5RSxFQUFPNEUsaUJBQW1CNUUsRUFBTzBFLGlCQUUvRm5JLEVBQVdLLEtBQUssRUFBRW1JLEVBQWEvRSxFQUFPb0UsV0FBVyxFQUFHLElBQ3BEN0gsRUFBV0ssS0FBSyxFQUFFbUksRUFBYS9FLEVBQU9vRSxXQUFXLEVBQUcsSUFFcEQ3SCxFQUFXSyxLQUFLLENBQUNvRCxFQUFPc0UsVUFBV1EsRUFBYzlFLEVBQU8wRSxpQkFDeERuSSxFQUFXSyxLQUFLLENBQUMsRUFBR2tJLEVBQWM5RSxFQUFPMEUsbUJBRXpDbkksRUFBV0ssS0FBSyxDQUFDbUksRUFBVyxJQUM1QnhJLEVBQVdLLEtBQUssQ0FBQyxFQUFFLEtBRWRMLEdDMWhCSSxNQUFNeUksRUFDbkIvSSxZQUFZNEYsR0FDVixJQUFJb0QsRUFBaUJoRixPQUFPQyxPQUFPLENBQ2pDZ0Ysc0JBQXVCLElBQ3ZCQyxxQkFBc0IsSUFDdEJDLGlCQUFrQixFQUNsQkMsZ0JBQWlCLEVBQ2pCQyxpQkFBaUIsRUFDakJDLGlCQUFpQixHQUNqQjFELEdBRUYzRixLQUFLZ0osc0JBQXdCRCxFQUFlQyxzQkFDNUNoSixLQUFLaUoscUJBQXVCRixFQUFlRSxxQkFDM0NqSixLQUFLb0osZ0JBQWtCTCxFQUFlSyxnQkFDdENwSixLQUFLcUosZ0JBQWtCTixFQUFlTSxnQkFFdENySixLQUFLc0osY0FBZ0IsR0FDckJ0SixLQUFLdUosb0JBQXNCLEdBQzNCdkosS0FBS3dKLGlCQUFtQixFQUN4QnhKLEtBQUt5SixhQUFlLEdBR3BCekosS0FBSzBKLGNBR1BDLGNBQ0UsT0FBTzNKLEtBQUt1SixvQkFBb0IxSSxLQUFLK0ksSUFDNUIsQ0FDTEMsR0FBSUQsRUFBU0UsRUFDYkMsRUFBR0gsRUFBU0csRUFDWkMsRUFBR0osRUFBU0ksRUFDWkMsT0FBUWpLLEtBQUt5SixhQUFhUyxRQUFRQyxHQUFXQSxFQUFNTCxHQUFLRixFQUFTRSxRQUt2RUosWUFBWVUsRUFBbUIsS0FBS0MsRUFBb0IsTUFDakRELElBQW1CQSxFQUFtQnBLLEtBQUtpSixzQkFDM0NvQixJQUFvQkEsRUFBb0JySyxLQUFLZ0osdUJBQ2xELElBQ0lzQixFQUFjLENBQ2hCQyxFQUFHLEVBQ0hDLEVBQUcsRUFDSFIsRUFBR0ksRUFDSEwsRUFBR00sRUFDSFAsSUFOb0I5SixLQUFLd0osa0JBVzNCLE9BRkF4SixLQUFLdUosb0JBQW9CN0ksS0FBS3FELE9BQU9DLE9BQU8sR0FBR3NHLElBQy9DdEssS0FBS3NKLGNBQWM1SSxLQUFLNEosR0FDakJBLEVBR1RHLGFBQWFDLEVBQWVDLEVBQWdCQyxHQUFhLEdBY3ZELElBQUlDLEVBQWtCLEtBR3BCQSxFQUZFRCxFQUFhLEVBRUc1SyxLQUFLdUosb0JBQW9CdkosS0FBS3VKLG9CQUFvQjNJLE9BQU8sR0FFekRaLEtBQUt1SixvQkFBb0J1QixNQUFNbEIsR0FBY0EsRUFBU0MsSUFBTWUsSUFLeERDLEVBQWdCYixFQUF1QjFGLEtBQUtnRCxJQUFJdUQsRUFBZ0JkLEVBQUVZLEdBQ2pFRSxFQUFnQmQsRUFBd0J6RixLQUFLZ0QsSUFBSXVELEVBQWdCYixFQUFFVSxHQUQ1RixJQUlJSyxFQUFlRixFQUFnQmIsRUFBSVUsRUFBbUJHLEVBQWdCZCxFQUFJWSxFQUMxRUssRUFBb0JELEVBQVlGLEVBQWdCYixFQUFJVSxFQUFlcEcsS0FBS2dELElBQUl1RCxFQUFnQmIsRUFBRVUsR0FDOUZPLEVBQXFCRixFQUFZekcsS0FBS2dELElBQUl1RCxFQUFnQmQsRUFBRVksR0FBaUJFLEVBQWdCZCxFQUFJWSxFQUdqR08sRUFBZ0JsTCxLQUFLc0osY0FBY1ksUUFBUWlCLEdBQVVBLEVBQUtyQixHQUFLZSxFQUFnQmYsSUFNL0VzQixHQUppQkYsRUFBY2hCLFFBQVFpQixHQUFVQSxFQUFLWixFQUFFWSxFQUFLbkIsR0FBS2EsRUFBZ0JiLElBQ2hFa0IsRUFBY2hCLFFBQVFpQixHQUFVQSxFQUFLWCxFQUFFVyxFQUFLcEIsR0FBS2MsRUFBZ0JkLElBR2xFaUIsRUFBbUJILEVBQWdCYixHQUNwRHFCLEVBQWtCSixFQUFvQkosRUFBZ0JkLEVBSXREZ0IsR0FFRi9LLEtBQUtzSixjQUFjNUksS0FBSyxDQUN0QjRLLEVBQUcsRUFDSHhCLEVBQUdlLEVBQWdCZixFQUNuQlMsRUFBR00sRUFBZ0JOLEVBQUlNLEVBQWdCYixFQUN2Q1EsRUFBR0ssRUFBZ0JMLEVBQ25CUixFQUFHb0IsRUFDSHJCLEVBQUdjLEVBQWdCZCxFQUFJc0IsSUFHekJyTCxLQUFLc0osY0FBYzVJLEtBQUssQ0FDdEI0SyxFQUFHLEVBQ0h4QixFQUFHZSxFQUFnQmYsRUFDbkJTLEVBQUdNLEVBQWdCTixFQUNuQkMsRUFBR0ssRUFBZ0JMLEVBQUlLLEVBQWdCZCxFQUN2Q0MsRUFBR2EsRUFBZ0JiLEVBQ25CRCxNQUlGL0osS0FBS3NKLGNBQWM1SSxLQUFLLENBQ3RCNkssRUFBRyxFQUNIekIsRUFBR2UsRUFBZ0JmLEVBQ25CUyxFQUFHTSxFQUFnQk4sRUFDbkJDLEVBQUdLLEVBQWdCTCxFQUFJSyxFQUFnQmQsRUFDdkNDLEVBQUdhLEVBQWdCYixFQUFJb0IsRUFDdkJyQixJQUdGL0osS0FBS3NKLGNBQWM1SSxLQUFLLENBQ3RCNkssRUFBRyxFQUNIekIsRUFBR2UsRUFBZ0JmLEVBQ25CUyxFQUFHTSxFQUFnQk4sRUFBSU0sRUFBZ0JiLEVBQ3ZDUSxFQUFHSyxFQUFnQkwsRUFDbkJSLEVBQUdvQixFQUNIckIsRUFBR2MsRUFBZ0JkLEtBS3ZCYyxFQUFnQmIsRUFBSWdCLEVBQ3BCSCxFQUFnQmQsRUFBSWtCLEVBZ0JwQmpMLEtBQUt3TCxxQkFHUEMscUJBQXFCQyxHQUluQixPQUhBQSxFQUFhQyxNQUFLLENBQUM3QixFQUFFOEIsSUFDVkEsRUFBRTVCLEVBQUU0QixFQUFFN0IsRUFBTUQsRUFBRUUsRUFBRUYsRUFBRUMsSUFFdEIyQixFQUdURixxQkFFRXhMLEtBQUtzSixjQUFjcUMsTUFBSyxDQUFDN0IsRUFBRThCLElBQ2I5QixFQUFFRSxFQUFFRixFQUFFQyxFQUNONkIsRUFBRTVCLEVBQUU0QixFQUFFN0IsSUFLdEI4QixtQkFBbUJDLEVBQVMzQixHQUMxQixJQUFJNEIsRUFBUUMsRUErQlosT0E5QktGLEVBQVM5QixFQUFJRyxFQUFNSCxHQUFPOEIsRUFBUy9CLEVBQUlJLEVBQU1KLEdBQ2hEZ0MsRUFBUyxDQUNQeEIsRUFBR3VCLEVBQVN2QixFQUFJSixFQUFNSCxFQUN0QlEsRUFBR3NCLEVBQVN0QixFQUNaUixFQUFHOEIsRUFBUzlCLEVBQUlHLEVBQU1ILEVBQ3RCRCxFQUFHK0IsRUFBUy9CLEdBRWRpQyxFQUFTLENBQ1B6QixFQUFHdUIsRUFBU3ZCLEVBQ1pDLEVBQUdzQixFQUFTdEIsRUFBSUwsRUFBTUosRUFDdEJDLEVBQUdHLEVBQU1ILEVBQ1RELEVBQUcrQixFQUFTL0IsRUFBSUksRUFBTUosS0FHeEJnQyxFQUFTLENBQ1B4QixFQUFHdUIsRUFBU3ZCLEVBQ1pDLEVBQUdzQixFQUFTdEIsRUFBSUwsRUFBTUosRUFDdEJDLEVBQUc4QixFQUFTOUIsRUFDWkQsRUFBRytCLEVBQVMvQixFQUFJSSxFQUFNSixHQUV4QmlDLEVBQVMsQ0FDUHpCLEVBQUd1QixFQUFTdkIsRUFBSUosRUFBTUgsRUFDdEJRLEVBQUdzQixFQUFTdEIsRUFDWlIsRUFBRzhCLEVBQVM5QixFQUFJRyxFQUFNSCxFQUN0QkQsRUFBR0ksRUFBTUosSUFJYmdDLEVBQU9qQyxFQUFJZ0MsRUFBU2hDLEVBQ3BCa0MsRUFBT2xDLEVBQUlnQyxFQUFTaEMsRUFDYixDQUFDaUMsRUFBT0MsR0FLakJDLDBCQUEwQjlCLEdBQ3hCLElBQUkrQixHQUFjLEVBRWRDLEVBQW1Cbk0sS0FBS3NKLGNBQWM4QyxXQUFXTixHQUMxQ0EsRUFBUzlCLEdBQUtHLEVBQU1ILEdBQU84QixFQUFTL0IsR0FBS0ksRUFBTUosSUFTMUQsR0FBSW9DLEdBQW9CLEVBQUcsQ0FDekIsSUFBSUUsRUFBY3JNLEtBQUtzSixjQUFjNkMsR0FHakNHLEVBQWMsQ0FDaEJ0QyxFQUFHRyxFQUFNSCxFQUNURCxFQUFHSSxFQUFNSixFQUNUUSxFQUFHOEIsRUFBWTlCLEVBQ2ZDLEVBQUc2QixFQUFZN0IsRUFDZlYsRUFBR3VDLEVBQVl2QyxFQUNmRCxHQUFJTSxFQUFNTixHQUNWMEMsUUFBU3BDLEVBQU1vQyxRQUNmQyxNQUFPckMsRUFBTXFDLE9BRWZ4TSxLQUFLeUosYUFBYS9JLEtBQUs0TCxHQUV2QixJQUFJRyxFQUFnQnpNLEtBQUs2TCxtQkFBbUJRLEVBQVlsQyxHQUN4RG5LLEtBQUtzSixjQUFjdEMsT0FBT21GLEVBQWlCLEVBQUVNLEVBQWMsR0FBR0EsRUFBYyxJQUM1RXpNLEtBQUt3TCxxQkFDTFUsR0FBYyxFQUdoQixPQUFPQSxFQVFUUSxxQkFDRTFNLEtBQUt1SixvQkFBc0J2SixLQUFLdUosb0JBQW9CVyxRQUFRTixHQUNsRDVKLEtBQUt5SixhQUFhUyxRQUFRQyxHQUFXQSxFQUFNTCxHQUFLRixFQUFTRSxJQUFJbEosT0FBUyxJQUdoRixJQUFJK0wsRUFBaUIzTSxLQUFLdUosb0JBQW9CMUksS0FBSytJLEdBQWNBLEVBQVUsSUFDM0U1SixLQUFLc0osY0FBZ0J0SixLQUFLc0osY0FBY1ksUUFBUWlCLEdBQ3RDd0IsRUFBZUMsU0FBU3pCLEVBQUtyQixLQUl6QytDLFVBQVUxQyxHQUdKbkssS0FBS3VKLG9CQUFvQjNJLE9BQVMsR0FDcENaLEtBQUswSixjQUlQLElBQUl3QyxFQUFjbE0sS0FBS2lNLDBCQUEwQjlCLEdBb0NqRCxPQXJCTStCLEdBQWlCbE0sS0FBb0Isa0JBR3pDQSxLQUFLeUssYUFBYU4sRUFBTUgsRUFBRSxFQUFFRyxFQUFNSixFQUFFLEdBRXBDbUMsRUFBY2xNLEtBQUtpTSwwQkFBMEI5QixLQUd6QytCLEdBQWlCbE0sS0FBb0Isa0JBRXpDQSxLQUFLMEosY0FDTHdDLEVBQWNsTSxLQUFLaU0sMEJBQTBCOUIsSUFJMUMrQixHQUdIbE0sS0FBSzBNLHFCQUdBUixHQ2xUSixNQUFNWSxFQUVYQyxnQkFBZ0JDLEVBQWFDLEVBQU9DLEdBQW1CLEVBQU1DLEdBQWEsRUFBTUMsRUFBVSxFQUFHQyxHQUF5QixFQUFNQyxHQUFVLEdBQ3BJLE1BQU1DLEVBQXNCLEdBR3hCRCxJQUNGTixFQUFlLGdCQUFvQkEsSUFHckMsSUFJSVEsRUFBWUMsRUFDWkMsRUFBa0JDLEVBQW9CQyxFQUFtQkMsRUFMekRDLEVBQVkseUJBQTZCZCxHQXdEN0MsR0F2REFlLFFBQVFDLElBQUksV0FNUmIsR0FDRkssRUFBYSxJQUFJLGdCQUNmLENBQUNNLEVBQVUxSyxJQUFJLEdBQUc2SixHQUFRQyxHQUFrQkUsRUFBUUEsR0FBU1UsRUFBVTFLLElBQUksR0FBTTBLLEVBQVVHLE9BQU9WLEdBQ2xHLENBQUNPLEVBQVUxSyxJQUFJLEdBQUc2SixHQUFRQyxHQUFrQkUsRUFBUUEsR0FBU1UsRUFBVXpLLEtBQUssR0FBTXlLLEVBQVVHLE9BQU9WLElBR3JHRyxHQUFvQlIsRUFBa0JZLEVBQVVJLE1BQU1qQixFQUFRLEdBQXFCLEVBQVJHLEVBQzNFTyxFQUFzQlQsRUFBa0JZLEVBQVUxSyxJQUFJLEdBQUc2SixFQUFPRyxFQUFVVSxFQUFVMUssSUFBSSxHQUFHZ0ssRUFDM0ZRLEVBQW9CRSxFQUFVRyxPQUFrQixFQUFSYixFQUN4Q1MsRUFBcUJDLEVBQVUxSyxJQUFJLEdBQUtnSyxJQUV4Q0ksRUFBYSxJQUFJLGdCQUNmLENBQUNNLEVBQVUxSyxJQUFJLEdBQU0wSyxFQUFVSSxNQUFNWCxFQUFzQk8sRUFBVTFLLElBQUksR0FBRzZKLEdBQVFDLEdBQWtCRSxFQUFRQSxJQUM5RyxDQUFDVSxFQUFVekssS0FBSyxHQUFNeUssRUFBVUksTUFBTVgsRUFBc0JPLEVBQVUxSyxJQUFJLEdBQUc2SixHQUFRQyxHQUFrQkUsRUFBUUEsS0FHakhNLEVBQW1CSSxFQUFVSSxNQUFpQixFQUFSZCxFQUN0Q08sRUFBcUJHLEVBQVUxSyxJQUFJLEdBQUtnSyxFQUN4Q1EsR0FBcUJWLEVBQWtCWSxFQUFVRyxPQUFPaEIsRUFBUSxHQUFxQixFQUFSRyxFQUM3RVMsRUFBc0JYLEVBQWtCWSxFQUFVMUssSUFBSSxHQUFHNkosRUFBT0csRUFBVVUsRUFBVTFLLElBQUksR0FBR2dLLEdBRTdGSyxFQUFjLGVBQ1osSUFBSSxzQkFBeUJDLEVBQWlCRSxHQUM5QyxDQUFDRCxFQUFtQkUsSUFFdEJFLFFBQVFDLElBQUlGLEVBQVVILEVBQW1CRCxFQUFpQkcsRUFBbUJKLEVBQVlHLEdBR3pGLGVBQW1CWixFQUFhLENBQzlCbUIsT0FBU0MsSUFDUCxJQUFJQyxFQUFtQixzQkFBMEJELEVBQVFFLFlBQVlkLEdBQ2pFYSxHQUNGQSxFQUFpQi9ILG1CQUFtQnRGLFNBQVF1TixJQUMxQyxJQUFJbk4sRUFBVSxzQkFBMEJnTixFQUFRRSxZQUFZQyxHQUM1RCxrQkFBc0JILEVBQVFJLGFBQWFwTixTQU1uRCxlQUFtQjRMLEVBQWEsQ0FDOUJtQixPQUFTQyxJQUNGLDRCQUFnQ0EsRUFBUUUsWUFBWWIsRUFBWVcsRUFBUTVLLGdCQUNwRTRLLEVBQVFJLGFBQWF2TyxNQUFNbU8sRUFBUUssV0FNNUNwQixFQUF3QixDQUMxQixJQUFJcUIsRUFFRkEsRUFERXZCLEVBQ2dCLElBQUksZ0JBQ3BCLENBQUNXLEVBQVUxSyxJQUFJLEdBQUc2SixFQUFPYSxFQUFVMUssSUFBSSxHQWxFVCxHQW1FOUIsQ0FBQzBLLEVBQVUxSyxJQUFJLEdBQUc2SixFQUFPYSxFQUFVekssS0FBSyxHQW5FVixJQXNFZCxJQUFJLGdCQUNwQixDQUFDeUssRUFBVTFLLElBQUksR0F2RWUsRUF1RXFCMEssRUFBVTFLLElBQUksR0FBRzZKLEdBQ3BFLENBQUNhLEVBQVV6SyxLQUFLLEdBeEVjLEVBd0VzQnlLLEVBQVUxSyxJQUFJLEdBQUc2SixJQUd6RSxlQUFtQnlCLEVBQWdCLG1CQUNuQyxrQkFBc0IxQixFQUFhMEIsR0FHckMsT0FBTzFCLEVBSVQyQixXQUFXQyxFQUFhQyxFQUFhLEdBQUcxQixHQUFhLEdBQ25ELElBQUloSyxFQUFlLHlCQUE2QnlMLEdBQzVDRSxFQUFjM0IsRUFBWTBCLEVBQWMxTCxFQUFhK0ssTUFBUVcsRUFBYzFMLEVBQWE4SyxPQUk1RixNQUFPLENBQ0wvTixPQUFRLENBQ040SixFQUplOUosS0FBSytNLGdCQUFnQjZCLEVBQWFFLEdBQVksRUFBSzNCLEdBS2xFdkIsRUFKZTVMLEtBQUsrTSxnQkFBZ0I2QixFQUFhRSxHQUFZLEVBQU0zQixNQzNGcEUsTUFBTTRCLEVBQ1hoUCxZQUFZNEYsR0FFVixJQUFJcUosRUFBaUJqTCxPQUFPQyxPQUFPLENBQ2pDaUwsU0FBVSxDQUFDMUUsRUFBRyxJQUFNQyxFQUFHLEtBQ3ZCMEUsa0JBQW1CLENBQUMzRSxHQUFJLEVBQUdDLEdBQUksR0FDL0IyRSxhQUFhLEVBQ2JDLGlCQUFpQixFQUNqQkMsZUFBZSxFQUNmQyxnQkFBZ0IsRUFDaEJDLG1CQUFvQixHQUNwQjVKLEdBRUYzRixLQUFLaVAsU0FBV0QsRUFBZUMsU0FDL0JqUCxLQUFLa1Asa0JBQW9CRixFQUFlRSxrQkFDeENsUCxLQUFLbVAsWUFBY0gsRUFBZUcsWUFDbENuUCxLQUFLb1AsZ0JBQWtCSixFQUFlSSxnQkFDdENwUCxLQUFLcVAsY0FBZ0JMLEVBQWVLLGNBQ3BDclAsS0FBS3NQLGVBQWlCTixFQUFlTSxlQUd2Q0UsaUJBQWlCaEQsRUFBTWlELEdBQ3JCLElBQUl0TSxFQUFlLHlCQUE2QnFKLEdBQ2hELE1BQU8sQ0FDTDNDLEdBQUk0RixFQUNKakQsTUFBT0EsRUFDUHhDLEVBQUc3RyxFQUFhK0ssTUFDaEJuRSxFQUFHNUcsRUFBYThLLE9BQ2hCMUIsU0FBUyxFQUNUbUQsV0FBWSxHQUtoQkMsV0FBV3pQLEdBS1QsSUFBSTBQLEVBQWdCLEdBRWhCbEUsRUFBZXhMLEVBQU8yUCxRQUFPLENBQUNDLEVBQVl0RCxFQUFNdEwsS0FDbEQsSUFBSTZPLEVBQWEvUCxLQUFLd1AsaUJBQWlCaEQsRUFBTXRMLEdBTTdDLE9BTE02TyxFQUFXL0YsR0FBUStGLEVBQVdoRyxFQUdsQytGLEVBQVlwUCxLQUFLcVAsR0FGakJILEVBQWNsUCxLQUFLcVAsR0FJZEQsSUFDUCxJQU9FRSxFQUFhLElBQUlsSCxFQUFXLENBQzlCRSxzQkFBdUJoSixLQUFLaVAsU0FBU3pFLEVBQ3JDdkIscUJBQXNCakosS0FBS2lQLFNBQVMxRSxFQUNwQ3JCLGdCQUFpQmxKLEtBQUtrUCxrQkFBa0IxRSxFQUN4Q3JCLGVBQWdCbkosS0FBS2tQLGtCQUFrQjNFLEVBQ3ZDbkIsZ0JBQWlCcEosS0FBS29QLGdCQUN0Qi9GLGdCQUFpQnJKLEtBQUttUCxjQUt4QixTQUFTYyxFQUFZOUYsR0FDbkIsSUFBSStGLEVBQVEvRixFQUFNSCxFQUNsQkcsRUFBTUgsRUFBSUcsRUFBTUosRUFDaEJJLEVBQU1KLEVBQUltRyxFQUNWL0YsRUFBTW9DLFNBQVdwQyxFQUFNb0MsUUFOekJ3QixRQUFRQyxJQUFJLGNBQWNnQyxHQVkxQixJQUFJRyxFQUFpQixHQUNqQjFHLEVBQWUsR0F5Q25CLEdBeENBdUcsRUFBV3ZFLHFCQUFxQkMsR0FDaENBLEVBQWExSyxTQUFTbUosSUFDQzZGLEVBQVduRCxVQUFVMUMsR0FFeENWLEVBQWEvSSxLQUFLeUosR0FFbEJnRyxFQUFlelAsS0FBS3lKLE1BSXhCdUIsRUFBZXlFLEVBRVhuUSxLQUFLcVAsZ0JBTVAzRCxFQUFhMUssU0FBU21KLElBQ3BCOEYsRUFBWTlGLE1BR2RnRyxFQUFpQixHQUNqQkgsRUFBV3ZFLHFCQUFxQkMsR0FDaENBLEVBQWExSyxTQUFTbUosSUFDQzZGLEVBQVduRCxVQUFVMUMsR0FFeENWLEVBQWEvSSxLQUFLeUosR0FFbEJnRyxFQUFlelAsS0FBS3lKLE1BSXhCdUIsRUFBZXlFLEVBQ2Z6RSxFQUFhMUssU0FBU21KLElBQ3BCQSxFQUFROEYsRUFBWTlGLE9BS3BCbkssS0FBS3NQLGVBQWdCLENBS3ZCLElBQUljLEVBQXNCLEdBQ3RCQyxFQUFnQixJQUFJdkQsRUFFcEJ3RCxFQUFvQjVFLEVBQWFtRSxRQUFPLENBQUNDLEVBQVkzRixJQUNoRDdGLEtBQUtnRCxJQUFJd0ksRUFBWTNGLEVBQU1OLEtBQ2xDLEdBQUssRUFFUDZCLEVBQWVBLEVBQWFtRSxRQUFPLENBQUNDLEVBQVkzRixLQUM5QyxJQUFJb0csR0FBZ0IsRUFHcEIsR0FGS3BHLEVBQU1xQyxNQUFXLE9BQW9DLEdBQTlCckMsRUFBTXFDLE1BQU03SixNQUFNQyxXQUFxQjJOLEdBQWdCLEdBRS9FQSxFQUFlLENBQ2pCLElBQUkxQixFQUFhLEdBQ1oxRSxFQUFNcUMsTUFBVyxPQUFNckMsRUFBTXFDLE1BQU03SixNQUFnQixhQUFJa00sRUFBYTFFLEVBQU1xQyxNQUFNN0osTUFBTWtNLFlBRTNGLElBQUkxQixHQUFhLEVBQ1poRCxFQUFNcUMsTUFBVyxPQUFnQyxLQUExQnJDLEVBQU1xQyxNQUFNN0osTUFBTUUsT0FBZXNLLEdBQWEsR0FFMUUsSUFBSXFELEVBQWNILEVBQWMxQixXQUFXeEUsRUFBTXFDLE1BQU1xQyxFQUFXMUIsR0FFOURxRCxHQUdGVixFQUFZcFAsS0FBS1YsS0FBS3dQLGlCQUFpQmdCLEVBQVl0USxPQUFPNEosRUFBRXdHLE1BQzVEUixFQUFZcFAsS0FBS1YsS0FBS3dQLGlCQUFpQmdCLEVBQVl0USxPQUFPMEwsRUFBRTBFLE9BRzVERixFQUFvQjFQLEtBQUt5SixRQUczQmlHLEVBQW9CMVAsS0FBS3lKLEdBRTNCLE9BQU8yRixJQUNQLElBRUZLLEVBQWlCLEdBQ2pCSCxFQUFXdkUscUJBQXFCQyxHQUNoQ0EsRUFBYTFLLFNBQVNtSixJQUNDNkYsRUFBV25ELFVBQVUxQyxHQUV4Q1YsRUFBYS9JLEtBQUt5SixHQUVsQmdHLEVBQWV6UCxLQUFLeUosTUFJcEJuSyxLQUFLcVAsZ0JBSVAzRCxFQUFleUUsRUFDZnpFLEVBQWExSyxTQUFTbUosSUFDckI4RixFQUFZOUYsTUFHYmdHLEVBQWlCLEdBQ2pCSCxFQUFXdkUscUJBQXFCQyxHQUNoQ0EsRUFBYTFLLFNBQVNtSixJQUNBNkYsRUFBV25ELFVBQVUxQyxHQUV4Q1YsRUFBYS9JLEtBQUt5SixHQUVsQmdHLEVBQWV6UCxLQUFLeUosT0FVekJnRyxFQUFpQkEsRUFBZWhQLE9BQU9pUCxHQWtEekMsT0E5Q0FELEVBQWlCQSxFQUFlaFAsT0FBT3lPLEdBSXZDSSxFQUFXdEQscUJBMENKLENBQ0wrRCxZQXpDZ0JULEVBQVdyRyxjQUdBOUksS0FBSzZQLElBRWhDLElBQUlDLEVBQVksQ0FBQ3pRLE9BQVEsR0FBSTBRLE1BQU8sR0FBSUMsT0FBUSxDQUFDLEVBQUUsSUErQm5ELE9BOUJBSCxFQUFXekcsT0FBT2pKLFNBQVM4UCxJQU9yQkEsRUFBZXZFLFNBQ2pCLGlCQUFxQnVFLEVBQWV0RSxNQUFNLElBRTVDLElBQ0loSixFQURlLHlCQUE2QnNOLEVBQWV0RSxPQUNyQ3BKLElBRTFCLG1CQUNFdU4sRUFDQSxlQUNFRyxFQUFldEUsTUFDZixtQkFBdUIsQ0FBQ3NFLEVBQWV2RyxFQUFFdUcsRUFBZXRHLEdBQUdoSCxLQUszRHNOLEVBQWV0RSxNQUFNeEosU0FDdkIsY0FDRThOLEVBQWV0RSxNQUFNeEosUUFBUStOLE9BQzdCLENBQUNELEVBQWV2RyxFQUFFdUcsRUFBZXRHLE9BS2hDbUcsS0FNUEssZUFBZ0JiLEVBQWV0UCxLQUFLc0osR0FBV0EsRUFBVyxVLDBDQ3RQaEUsU0FBUzhHLEVBQVdDLEdBR2xCLE9BRGUsR0FDQ0EsRUFBYSxLQWV4QixNQUFNQyxFQUNYcFIsY0FDRUMsS0FBS29SLGtCQUFtQixFQUkxQkMsc0JBQ0UsT0FBT3JSLEtBQUtvUixpQkFHZEUsbUJBQW1COUUsR0FHakIsSUFBSStFLEVBQVEsRUFlWixPQVhJQSxFQUFRLDBCQUhNLEtBR3FDLG1CQU92REEsR0FBUyxHQUdTLGdCQUFvQixnQkFBb0IvRSxHQUFRK0UsR0FJcEVDLGlCQUFpQmhGLEVBQU1pRixHQUNyQixJQUFJQyxFQUFnQixDQUNsQkMsU0FBVSxDQUNOQyxPQUFRLENBQ05DLE9BQVEsTUFDUkMsWUFBYSxJQUNiQyxTQUFVLDBCQUVaQyxPQUFRLENBQ05ILE9BQVEsUUFDUkMsWUFBYSxJQUNiQyxTQUFVLGlDQUVaRSxLQUFNLENBQ0pKLE9BQVEsT0FDUkMsWUFBYSxJQUNiQyxTQUFVLDRCQVFsQixPQUpBaE8sT0FBT0MsT0FBTzBOLEVBQWNELEdBRzVCakYsRUFBTXJNLE1BQVEsd0JBQ1AsbUJBQXVCcU0sRUFBTyxDQUNuQzBGLGdCQUFnQixFQUNoQi9SLE1BQU8sS0FDUGdTLGFBQWNULEVBQWNDLFdBSWhDUyxzQkFBc0JDLEVBQVdYLEdBQy9CLElBQUlZLEVBQVdELEVBQVd4UixLQUFLNlAsR0FDdEIxUSxLQUFLd1IsaUJBQWlCZCxFQUFXZ0IsS0FHMUMsT0FBT2EsUUFBUUMsUUFBUUYsR0FHekJHLFdBQVdDLEVBQUlsRyxFQUFNbUcsRUFBWUMsR0FFMUJBLElBQ0hBLEVBQWMsSUFFWEEsRUFBWUMsT0FDZkQsRUFBWUMsS0FBTyxDQUNqQmYsWUFBYSxFQUNiZ0IsWUFBYSxTQUlqQixJQUFJQyxFQUFjL1MsS0FBS3NSLG1CQUFtQjlFLEdBR3RDckosRUFBZSx5QkFBNkI0UCxHQUU1Q0MsRUFBVywyQkFBK0JELEVBQVksQ0FDeERsQyxPQUFRLENBQUNJLEVBQVcwQixFQUFZTSxNQUFNOVAsRUFBYUUsS0FBSyxHQUFHNE4sRUFBVzBCLEVBQVlPLE1BQ2xGQyxVQUFVLElBRVosSUFBSyxNQUFPQyxFQUFLQyxLQUFVdFAsT0FBT3VQLFFBQVFOLEdBQVcsQ0FJbkROLEVBQUlhLE9BQ0piLEVBQUljLEtBQUtILEdBRVQsSUFBSUksRUFBUWIsRUFBZVEsR0FBYyxJQUFMQSxFQUFpQkEsRUFBUCxRQUN6Q0ssSUFBUUEsRUFBUWIsRUFBWUMsTUFFN0JZLElBQ0VBLEVBQU0zQixhQUFjWSxFQUFJZ0IsVUFBVUQsRUFBTTNCLGFBQ3hDMkIsRUFBTUUsT0FBU2pCLEVBQUlrQixLQUFLSCxFQUFNRSxPQUFPLEdBQUdGLEVBQU1FLE9BQU8sSUFBWWpCLEVBQUltQixTQUNyRUosRUFBTVgsYUFBY0osRUFBSWIsT0FBTzRCLEVBQU1YLGNBSzNDSixFQUFJb0IsVUFHTiwrQkFBbUNmLEdBQWEvUixTQUFTK1MsSUFDdkRoRyxRQUFRQyxJQUFJLGFBQWErRixHQUN6QnJCLEVBQUlzQixLQUNGRCxFQUFhQyxLQUNiN1EsRUFBYUMsSUFBSSxHQUFLNk4sRUFBVzBCLEVBQVlNLE1BQVFjLEVBQWFoRCxPQUFPRixPQUFPLEdBQy9FMU4sRUFBYUUsS0FBSyxHQUFLNE4sRUFBVzBCLEVBQVlPLEtBQVFhLEVBQWFoRCxPQUFPRixPQUFPLElBQU9rRCxFQUFhaEQsT0FBT2tELElBQUksR0FBS0YsRUFBYWhELE9BQU9GLE9BQU8sSUFBSSxFQUNySixDQUNFcUQsU0FBVSxRQUdkbkcsUUFBUUMsSUFBSSxhQUFhK0YsRUFBYTVRLEVBQWM4TixFQUFXMEIsRUFBWU8sS0FBSy9QLEVBQWFDLElBQUksR0FBSzZOLEVBQVcwQixFQUFZTSxNQUFRYyxFQUFhaEQsT0FBT0YsT0FBTyxHQUFJMU4sRUFBYUUsS0FBSyxHQUFLNE4sRUFBVzBCLEVBQVlPLEtBQVFhLEVBQWFoRCxPQUFPRixPQUFPLE9BTXpQc0Qsc0JBQXNCOUIsRUFBV1osR0FDL0IsSUFBSUMsRUFBZ0IsQ0FDbEJDLFNBQVUsQ0FDUmtCLEtBQU0sQ0FDSmYsWUFBYSxJQUNiZ0IsWUFBYSxRQUVmZCxPQUFRLENBQ05GLFlBQWEsSUFDYjZCLE9BQVEsQ0FBQyxHQUFHLElBQ1piLFlBQWEsUUFFZmIsS0FBTSxDQUNKSCxZQUFhLElBQ2I2QixPQUFRLENBQUMsRUFBRSxHQUNYYixZQUFhLFFBRWZsQixPQUFRLENBQ05FLFlBQWEsSUFDYjZCLE9BQVEsQ0FBQyxFQUFFLElBQ1hiLFlBQWEsU0FFZnNCLGdCQUFpQixDQUNmdEMsWUFBYSxJQUNiNkIsT0FBUSxDQUFDLEVBQUUsSUFDWGIsWUFBYSxTQUdqQkgsWUFBYSxFQUNieFMsTUFBTyxLQUNQa1UsT0FBUSxXQUNScEYsU0FBVSxNQU9aLEdBSEFsTCxPQUFPQyxPQUFPME4sRUFBY0QsSUFHdkJDLEVBQWN6QyxTQUNqQixLQUFNLHdEQUdKeUMsRUFBY2lCLGFBR3dCLGlCQUE3QmpCLEVBQWNpQixjQUN2QmpCLEVBQWNpQixZQUFjLENBQzFCTSxLQUFNdkIsRUFBY2lCLFlBQ3BCMkIsTUFBTzVDLEVBQWNpQixZQUNyQk8sSUFBS3hCLEVBQWNpQixZQUNuQjRCLE9BQVE3QyxFQUFjaUIsY0FPNUIsSUFBSTZCLEVBQWtCLENBQ3BCSCxPQUFRM0MsRUFBYzJDLE9BRXRCSSxLQUF5QyxpQkFBMUIvQyxFQUFjekMsU0FBdUJ5QyxFQUFzQixTQUFFLENBQUVULEVBQVdTLEVBQWN6QyxTQUFTMUUsR0FBRzBHLEVBQVdTLEVBQWN6QyxTQUFTekUsS0FHdkp1RCxRQUFRQyxJQUFJLFlBQVl3RyxHQUN4QixJQUFJOUIsRUFBTSxJQUFJLElBQUosQ0FBZ0IsQ0FDeEJnQyxlQUFlLElBR2JDLEVBQVNqQyxFQUFJa0MsS0FBSyxPQXlCdEIsT0F4QkF2QyxFQUFXclIsU0FBUTZULElBQ2pCbkMsRUFBSW9DLFFBQVFOLEdBR1p4VSxLQUFLeVMsV0FBV0MsRUFBSW1DLEVBQUtuRCxFQUFjaUIsWUFBWWpCLEVBQWNDLGFBSW5FZSxFQUFJdUIsTUFLZSxJQUFJMUIsU0FBUSxTQUFTQyxFQUFTdUMsR0FDN0NKLEVBQU9LLEdBQUcsVUFBVSxXQUVsQixNQUFNQyxFQUFPTixFQUFPTyxPQUFPLG1CQUMzQjFDLEVBak9WLFNBQXNCeUMsR0FDcEIsTUFBTUUsRUFBUyxJQUFJQyxXQUVuQixPQURBRCxFQUFPRSxjQUFjSixHQUNkLElBQUkxQyxTQUFRQyxJQUNqQjJDLEVBQU9HLFVBQVksS0FDakI5QyxFQUFRMkMsRUFBT2pRLFlBNE5IcVEsQ0FBYU4sT0FHdkJOLEVBQU9LLEdBQUcsU0FBUyxXQUNqQkQsVUFNUlMsV0FBV0MsRUFBSzlQLEVBQVErUCxHQUN0QjFWLEtBQUtvUixrQkFBbUIsRUFFeEIsSUFBSU0sRUFBZ0IsQ0FDbEJpRSxPQUFRLE1BQ1IxRyxTQUFVLENBQUMxRSxFQUFHLElBQU1DLEVBQUcsS0FDdkJvTCxhQUFhLEVBQ2J6RyxhQUFhLEVBQ2JDLGlCQUFpQixFQUNqQnVELFlBQWEsR0FDYnJELGdCQUFnQixFQUNoQkQsZUFBZSxHQUVqQnRMLE9BQU9DLE9BQU8wTixFQUFjL0wsR0FFeEIrTCxFQUFjaUIsYUFHd0IsaUJBQTdCakIsRUFBY2lCLGNBQ3ZCakIsRUFBY2lCLFlBQWMsQ0FDMUJNLEtBQU12QixFQUFjaUIsWUFDcEIyQixNQUFPNUMsRUFBY2lCLFlBQ3JCTyxJQUFLeEIsRUFBY2lCLFlBQ25CNEIsT0FBUTdDLEVBQWNpQixjQUs1QixJQUlJa0QsRUNyUkQsU0FBcUJDLEVBQVNDLEdBQ25DLElBQUlDLEVBQXNCLElBQUlDLFNBQVMsVUFBVSxVQUFVLFVBQVUsaUJBQWlCLFFBQVNILEdBQy9GRSxFQUFvQkUsVUFBVWhXLE9BQVMsR0FFdkMsSUFBSWlXLEVBQU0sSUFBSWhVLEVBQ1ZpVSxFQUFhLElBQUlKLEVBQW9CakksUUFBUSxJQUFRLElBQVFnSSxFQUFlSSxHQUU1RUUsRUFBWSxLQUVoQixHQUFJRCxFQWVGLEdBZEFDLEVBQVksR0FFUkQsRUFBV0wsaUJBQ2JNLEVBQVVOLGVBQWlCSyxFQUFXTCxnQkFHcENLLEVBQVd6RSxXQUNiMEUsRUFBVTFFLFNBQVd5RSxFQUFXekUsVUFHOUJ5RSxFQUFXcEksTUFDYnFJLEVBQVVySSxJQUFNb0ksRUFBV3BJLEtBR3hCb0ksRUFBaUIsUUFBMEIsVUFBckJBLEVBQVdsVyxPQUFvQixDQUl4RCxJQUFJb1csRUFBYSxHQUNqQkEsRUFBYXZTLE9BQU93UyxLQUFLSCxFQUFXbFcsUUFBUVcsS0FBS3VTLEdBQ3hDZ0QsRUFBV2xXLE9BQU9rVCxLQUczQmlELEVBQVVHLE9BQVNGLE9BQ2IsR0FBSSxHQUFpQnZTLE9BQU93UyxLQUFLSCxHQUFZeFYsT0FBUyxFQUFJLENBR2hFLElBQUkwVixFQUFhLEdBQ2pCQSxFQUFhdlMsT0FBT3dTLEtBQUtILEdBQVlsTSxRQUFPa0osSUFBUyxDQUFDLGlCQUFpQixXQUFXLFNBQVMsTUFBTSxlQUFlLE1BQU0sU0FBU3hHLFNBQVN3RyxLQUFPdlMsS0FBS3VTLEdBQzNJZ0QsRUFBV2hELEtBR3BCaUQsRUFBVUcsT0FBU0YsRUFLdkIsT0FEQXZJLFFBQ09zSSxFRG9Pa0JJLENBQVloQixFQUZkMVIsT0FBT0MsT0FBTyxHQUFHMkIsRUFBUW9RLGlCQUlGUyxPQUM1QyxHQUFLMVUsTUFBTUMsUUFBUThULElBQTJCQSxFQUFxQmpWLE9BQVMsRUFBSSxDQUU5RSxJQVlJOFYsRUFaYyxJQUFJM0gsRUFBWSxDQUNoQ0UsU0FBVSxDQUNSMUUsRUFBR2pHLEtBQUtnRCxJQUFJb0ssRUFBY3pDLFNBQVMxRSxHQUFLbUgsRUFBY2lCLFlBQVlNLEtBQU92QixFQUFjaUIsWUFBWTJCLE9BQU8sR0FDMUc5SixFQUFHbEcsS0FBS2dELElBQUlvSyxFQUFjekMsU0FBU3pFLEdBQUtrSCxFQUFjaUIsWUFBWU8sSUFBTXhCLEVBQWNpQixZQUFZNEIsUUFBUSxJQUU1R3JGLGtCQUFtQixDQUFDM0UsR0FBSSxFQUFHQyxHQUFJLEdBQy9CMkUsWUFBYXVDLEVBQWN2QyxZQUMzQkMsZ0JBQWlCc0MsRUFBY3RDLGdCQUMvQkMsY0FBZXFDLEVBQWNyQyxjQUM3QkMsZUFBZ0JvQyxFQUFjcEMsaUJBR0FLLFdBQVdrRyxHQUMzQzlILFFBQVFDLElBQUksaUJBQWlCMEksR0FDN0IsSUFBSUMsRUFBZ0IsR0FDUSxPQUF4QmpGLEVBQWNpRSxPQUNoQmdCLEVBQWdCM1csS0FBS29TLHNCQUFzQnNFLEVBQWNqRyxZQUFZaUIsR0FDckMsT0FBeEJBLEVBQWNpRSxTQUN0QmdCLEVBQWdCM1csS0FBS21VLHNCQUFzQnVDLEVBQWNqRyxZQUFZaUIsSUFLdkVpRixFQUFjQyxNQUFNQyxJQUNiL1UsTUFBTUMsUUFBUThVLEtBQWdCQSxFQUFlLENBQUNBLElBQ25EbkIsRUFBaUIsQ0FDZm9CLEtBQU0saUJBQ05DLFlBQWFyRixFQUFjaUUsT0FDM0JxQixVQUFXclIsRUFBUXFSLFVBQ25CQyxlQUFnQkosRUFDaEJLLGFBQWNSLEVBQWMxRixlQUM1Qm1HLFlBQWEsYUFJakJ6QixFQUFpQixDQUNmb0IsS0FBTSxpQkFDTkMsWUFBYXJGLEVBQWNpRSxPQUMzQnFCLFVBQVdyUixFQUFRcVIsVUFDbkJDLGVBQWdCLEdBQ2hCQyxhQUFjLEdBQ2RDLFlBQWEsS0FNakJuWCxLQUFLb1Isa0JBQW1CLEVBRzFCZ0csVUUzVUZDLEtBQUtDLFVBQVksRUFBR0MsS0FBQUEsTUFFbEIsSUFJSUMsRUFBZSxJQUFJckcsRUFDTixpQkFBYm9HLEVBQUtULE1BQ1BVLEVBQWFoQyxXQUNYK0IsRUFBSzlCLEtBQ0w4QixFQUFLNVIsU0FSbUI4UixJQUMxQkosS0FBS0ssWUFBWUQsUSx3QkNKakJFLEVBQTJCLEdBRy9CLFNBQVNDLEVBQW9CQyxHQUU1QixJQUFJQyxFQUFlSCxFQUF5QkUsR0FDNUMsUUFBcUJFLElBQWpCRCxFQUNILE9BQU9BLEVBQWFFLFFBR3JCLElBQUlDLEVBQVNOLEVBQXlCRSxHQUFZLENBR2pERyxRQUFTLElBT1YsT0FIQUUsRUFBb0JMLEdBQVVJLEVBQVFBLEVBQU9ELFFBQVNKLEdBRy9DSyxFQUFPRCxRQUlmSixFQUFvQk8sRUFBSUQsRUFHeEJOLEVBQW9Cck4sRUFBSSxLQUd2QixJQUFJNk4sRUFBc0JSLEVBQW9CUyxPQUFFTixFQUFXLENBQUMsSUFBSSxJQUFPSCxFQUFvQixRQUUzRixPQURzQkEsRUFBb0JTLEVBQUVELElWaEN6Q3hZLEVBQVcsR0FDZmdZLEVBQW9CUyxFQUFJLENBQUNuVCxFQUFRb1QsRUFBVUMsRUFBSUMsS0FDOUMsSUFBR0YsRUFBSCxDQU1BLElBQUlHLEVBQWVDLEVBQUFBLEVBQ25CLElBQVMvWCxFQUFJLEVBQUdBLEVBQUlmLEVBQVNnQixPQUFRRCxJQUFLLENBR3pDLElBRkEsSUFBSzJYLEVBQVVDLEVBQUlDLEdBQVk1WSxFQUFTZSxHQUNwQ2dZLEdBQVksRUFDUEMsRUFBSSxFQUFHQSxFQUFJTixFQUFTMVgsT0FBUWdZLE1BQ3BCLEVBQVhKLEdBQXNCQyxHQUFnQkQsSUFBYXpVLE9BQU93UyxLQUFLcUIsRUFBb0JTLEdBQUdRLE9BQU96RixHQUFTd0UsRUFBb0JTLEVBQUVqRixHQUFLa0YsRUFBU00sTUFDOUlOLEVBQVN0UixPQUFPNFIsSUFBSyxJQUVyQkQsR0FBWSxFQUNUSCxFQUFXQyxJQUFjQSxFQUFlRCxJQUc3QyxHQUFHRyxFQUFXLENBQ2IvWSxFQUFTb0gsT0FBT3JHLElBQUssR0FDckIsSUFBSTBELEVBQUlrVSxTQUNFUixJQUFOMVQsSUFBaUJhLEVBQVNiLElBR2hDLE9BQU9hLEVBdkJOc1QsRUFBV0EsR0FBWSxFQUN2QixJQUFJLElBQUk3WCxFQUFJZixFQUFTZ0IsT0FBUUQsRUFBSSxHQUFLZixFQUFTZSxFQUFJLEdBQUcsR0FBSzZYLEVBQVU3WCxJQUFLZixFQUFTZSxHQUFLZixFQUFTZSxFQUFJLEdBQ3JHZixFQUFTZSxHQUFLLENBQUMyWCxFQUFVQyxFQUFJQyxJV0ovQlosRUFBb0JrQixFQUFLYixJQUN4QixJQUFJYyxFQUFTZCxHQUFVQSxFQUFPZSxXQUM3QixJQUFPZixFQUFpQixRQUN4QixJQUFNLEVBRVAsT0FEQUwsRUFBb0JxQixFQUFFRixFQUFRLENBQUVqUCxFQUFHaVAsSUFDNUJBLEdDTFJuQixFQUFvQnFCLEVBQUksQ0FBQ2pCLEVBQVNrQixLQUNqQyxJQUFJLElBQUk5RixLQUFPOEYsRUFDWHRCLEVBQW9CdUIsRUFBRUQsRUFBWTlGLEtBQVN3RSxFQUFvQnVCLEVBQUVuQixFQUFTNUUsSUFDNUVyUCxPQUFPcVYsZUFBZXBCLEVBQVM1RSxFQUFLLENBQUVpRyxZQUFZLEVBQU1DLElBQUtKLEVBQVc5RixNQ0ozRXdFLEVBQW9CMkIsRUFBSSxHQUd4QjNCLEVBQW9Cck0sRUFBS2lPLEdBQ2pCakgsUUFBUWtILElBQUkxVixPQUFPd1MsS0FBS3FCLEVBQW9CMkIsR0FBRzFKLFFBQU8sQ0FBQzZKLEVBQVV0RyxLQUN2RXdFLEVBQW9CMkIsRUFBRW5HLEdBQUtvRyxFQUFTRSxHQUM3QkEsSUFDTCxLQ05KOUIsRUFBb0IrQixFQUFLSCxHQUVaQSxFQUFVLGFDSHZCNUIsRUFBb0JnQyxFQUFJLFdBQ3ZCLEdBQTBCLGlCQUFmQyxXQUF5QixPQUFPQSxXQUMzQyxJQUNDLE9BQU83WixNQUFRLElBQUlpVyxTQUFTLGNBQWIsR0FDZCxNQUFPMUssR0FDUixHQUFzQixpQkFBWHVPLE9BQXFCLE9BQU9BLFFBTGpCLEdDQXhCbEMsRUFBb0J1QixFQUFJLENBQUNZLEVBQUtDLElBQVVqVyxPQUFPbVMsVUFBVStELGVBQWVDLEtBQUtILEVBQUtDLEdDQ2xGcEMsRUFBb0J2VCxFQUFLMlQsSUFDSCxvQkFBWG1DLFFBQTBCQSxPQUFPQyxhQUMxQ3JXLE9BQU9xVixlQUFlcEIsRUFBU21DLE9BQU9DLFlBQWEsQ0FBRS9HLE1BQU8sV0FFN0R0UCxPQUFPcVYsZUFBZXBCLEVBQVMsYUFBYyxDQUFFM0UsT0FBTyxLLE1DTHZELElBQUlnSCxFQUNBekMsRUFBb0JnQyxFQUFFVSxnQkFBZUQsRUFBWXpDLEVBQW9CZ0MsRUFBRTFXLFNBQVcsSUFDdEYsSUFBSXFYLEVBQVczQyxFQUFvQmdDLEVBQUVXLFNBQ3JDLElBQUtGLEdBQWFFLElBQ2JBLEVBQVNDLGdCQUNaSCxFQUFZRSxFQUFTQyxjQUFjQyxNQUMvQkosR0FBVyxDQUNmLElBQUlLLEVBQVVILEVBQVNJLHFCQUFxQixVQUN6Q0QsRUFBUTlaLFNBQVF5WixFQUFZSyxFQUFRQSxFQUFROVosT0FBUyxHQUFHNlosS0FLN0QsSUFBS0osRUFBVyxNQUFNLElBQUlPLE1BQU0seURBQ2hDUCxFQUFZQSxFQUFVUSxRQUFRLE9BQVEsSUFBSUEsUUFBUSxRQUFTLElBQUlBLFFBQVEsWUFBYSxLQUNwRmpELEVBQW9Ca0QsRUFBSVQsRyxTQ1h4QixJQUFJVSxFQUFrQixDQUNyQixJQUFLLEdBZ0JObkQsRUFBb0IyQixFQUFFNVksRUFBSSxDQUFDNlksRUFBU0UsS0FFL0JxQixFQUFnQnZCLElBRWxCYyxjQUFjMUMsRUFBb0JrRCxFQUFJbEQsRUFBb0IrQixFQUFFSCxLQUsvRCxJQUFJd0IsRUFBcUIzRCxLQUFtQixhQUFJQSxLQUFtQixjQUFLLEdBQ3BFNEQsRUFBNkJELEVBQW1CdGEsS0FBS3dhLEtBQUtGLEdBQzlEQSxFQUFtQnRhLEtBdkJDNlcsSUFDbkIsSUFBS2UsRUFBVTZDLEVBQWFDLEdBQVc3RCxFQUN2QyxJQUFJLElBQUlNLEtBQVlzRCxFQUNoQnZELEVBQW9CdUIsRUFBRWdDLEVBQWF0RCxLQUNyQ0QsRUFBb0JPLEVBQUVOLEdBQVlzRCxFQUFZdEQsSUFJaEQsSUFER3VELEdBQVNBLEVBQVF4RCxHQUNkVSxFQUFTMVgsUUFDZG1hLEVBQWdCekMsRUFBUytDLE9BQVMsRUFDbkNKLEVBQTJCMUQsSyxHbEJuQnhCMVgsRUFBTytYLEVBQW9Cck4sRUFDL0JxTixFQUFvQnJOLEVBQUksSUFDaEJxTixFQUFvQnJNLEVBQUUsR0FBR3FMLEtBQUsvVyxHbUJEWitYLEVBQW9Cck4sSyIsInNvdXJjZXMiOlsid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvY2h1bmsgbG9hZGVkIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvc3RhcnR1cCBjaHVuayBkZXBlbmRlbmNpZXMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL3JlbmRlcmVuZ2luZS9jb2RlcnVubmVyL2VtcHR5bW9kZWwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL3JlbmRlcmVuZ2luZS9jb2RlcnVubmVyL2NvZGVydW5uZXJ1dGlscy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvcmVuZGVyZW5naW5lL2hlYXBwYWNrZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL3JlbmRlcmVuZ2luZS9tb2RlbHNwbGl0dGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9yZW5kZXJlbmdpbmUvbW9kZWxwYWNrZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL3JlbmRlcmVuZ2luZS9yZW5kZXJlbmdpbmUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL3JlbmRlcmVuZ2luZS9jb2RlcnVubmVyL2NvZGVydW5uZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL3JlbmRlcmVuZ2luZS9yZW5kZXJ3b3JrZXIuanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvZW5zdXJlIGNodW5rIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvZ2V0IGphdmFzY3JpcHQgY2h1bmsgZmlsZW5hbWUiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9nbG9iYWwiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9wdWJsaWNQYXRoIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvaW1wb3J0U2NyaXB0cyBjaHVuayBsb2FkaW5nIiwid2VicGFjazovLy93ZWJwYWNrL3N0YXJ0dXAiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGRlZmVycmVkID0gW107XG5fX3dlYnBhY2tfcmVxdWlyZV9fLk8gPSAocmVzdWx0LCBjaHVua0lkcywgZm4sIHByaW9yaXR5KSA9PiB7XG5cdGlmKGNodW5rSWRzKSB7XG5cdFx0cHJpb3JpdHkgPSBwcmlvcml0eSB8fCAwO1xuXHRcdGZvcih2YXIgaSA9IGRlZmVycmVkLmxlbmd0aDsgaSA+IDAgJiYgZGVmZXJyZWRbaSAtIDFdWzJdID4gcHJpb3JpdHk7IGktLSkgZGVmZXJyZWRbaV0gPSBkZWZlcnJlZFtpIC0gMV07XG5cdFx0ZGVmZXJyZWRbaV0gPSBbY2h1bmtJZHMsIGZuLCBwcmlvcml0eV07XG5cdFx0cmV0dXJuO1xuXHR9XG5cdHZhciBub3RGdWxmaWxsZWQgPSBJbmZpbml0eTtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBkZWZlcnJlZC5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBbY2h1bmtJZHMsIGZuLCBwcmlvcml0eV0gPSBkZWZlcnJlZFtpXTtcblx0XHR2YXIgZnVsZmlsbGVkID0gdHJ1ZTtcblx0XHRmb3IgKHZhciBqID0gMDsgaiA8IGNodW5rSWRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRpZiAoKHByaW9yaXR5ICYgMSA9PT0gMCB8fCBub3RGdWxmaWxsZWQgPj0gcHJpb3JpdHkpICYmIE9iamVjdC5rZXlzKF9fd2VicGFja19yZXF1aXJlX18uTykuZXZlcnkoKGtleSkgPT4gKF9fd2VicGFja19yZXF1aXJlX18uT1trZXldKGNodW5rSWRzW2pdKSkpKSB7XG5cdFx0XHRcdGNodW5rSWRzLnNwbGljZShqLS0sIDEpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZnVsZmlsbGVkID0gZmFsc2U7XG5cdFx0XHRcdGlmKHByaW9yaXR5IDwgbm90RnVsZmlsbGVkKSBub3RGdWxmaWxsZWQgPSBwcmlvcml0eTtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYoZnVsZmlsbGVkKSB7XG5cdFx0XHRkZWZlcnJlZC5zcGxpY2UoaS0tLCAxKVxuXHRcdFx0dmFyIHIgPSBmbigpO1xuXHRcdFx0aWYgKHIgIT09IHVuZGVmaW5lZCkgcmVzdWx0ID0gcjtcblx0XHR9XG5cdH1cblx0cmV0dXJuIHJlc3VsdDtcbn07IiwidmFyIG5leHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLng7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnggPSAoKSA9PiB7XG5cdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLmUoOCkudGhlbihuZXh0KTtcbn07IiwiZXhwb3J0IGNsYXNzIEVtcHR5TW9kZWwge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnBhdGhzID0ge307XG4gICAgdGhpcy5tb2RlbHMgPSB7fTtcbiAgICB0aGlzLnVuaXRzID0gJ21tJztcbiAgfVxufVxuIiwiaW1wb3J0IG1ha2VyanMgZnJvbSAnbWFrZXJqcyc7XG5pbXBvcnQge0VtcHR5TW9kZWx9IGZyb20gJy4vZW1wdHltb2RlbC5qcyc7XG4vKipcbiAqIEEgYXJyYXkgb2YgMiBpdGVtcyBbeCx5XVxuICogQHR5cGVkZWYge0FycmF5LjxudW1iZXIsbnVtYmVyPn0gUG9pbnRcbiAqL1xuXG5cblxuLyoqXG4gKiBDcmVhdGVzIGEgbW9kZWwgZnJvbSBhIHNlcmllcyBvZiBwb2ludHMsIGZpbGxldGluZyBjb3JuZXJzIHdpdGggdGhlIHN1cHBsaWVkIHJhZGlpXG4gKi9cbmNsYXNzIEZpbGxldGVkUGF0aE1vZGVsIGV4dGVuZHMgRW1wdHlNb2RlbHtcbi8qKlxuICogQ3JlYXRlIHRoZSBtb2RlbFxuICogQHBhcmFtIHtQb2ludH0gcGF0aFBvaW50cyAtIFRoZSBzZXJpZXMgb2YgYWJzb2x1dGUgcG9pbnRzIHRoYXQgcmVwcmVzZW50IHRoZSBjb3JuZXJzIG9mIHRoZSBzaGFwZVxuICogQHBhcmFtIHtQb2ludH0gZmlsbGV0UmFkaWkgLSBUaGUgcmFkaWkgdG8gdXNlIGZvciBlYWNoIGNvcm5lciAoc3RhcnRpbmcgYXQgMCBmb3IgdGhlIGZpcnN0IDIgcG9pbnRzIGluIFBhdGhQb2ludHMpLCBhbnkgdW5zdXBwbGllZCBwb2ludHMgd2lsbCBiZSAwIChubyBmaWxsZXQpXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtjbG9zZWQ9ZmFsc2VdIC0gQ2xvc2UgdGhlIG1vZGVsIHVzaW5nIHRoZSBmaXJzdCBhbmQgbGFzdCBwb2ludHNcbiAqIEByZXR1cm4ge01vZGVsfSBUaGUgbW9kZWxcbiAqL1xuICBjb25zdHJ1Y3RvcihwYXRoUG9pbnRzLGZpbGxldFJhZGlpLGNsb3NlZCA9IGZhbHNlKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIC8vaWYgYWRkVG9Nb2RlbCBpcyBudWxsIHRoZW4gY3JlYXRlIGFuIGVtcHR5IG1vZGVsc1xuICAgIC8vY3JlYXRlIGVhY2ggcGF0aCBhbiBhZGQgdG8gYW4gYXJyYXlcbiAgICAvL0NvbmRlbnNlIHRoZSBwYXRoUG9pbnRzIGludG8gcGFpcnNcbiAgICBsZXQgcGF0aFBhaXJzID0gW107XG4gICAgaWYgKGNsb3NlZCkge1xuICAgICAgLy9BZGQgdGhlIGxhc3QgcG9pbnQgYmFjayBpbiBhdCB0aGUgZW5kIHRvIGNsb3NlIHRoZSBsb29wXG4gICAgICBwYXRoUG9pbnRzLnB1c2gocGF0aFBvaW50c1swXSk7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IHBhdGhQb2ludHMubGVuZ3RoLTI7IGkrKyApIHtcbiAgICAgIHBhdGhQYWlycy5wdXNoKFtwYXRoUG9pbnRzW2ldLHBhdGhQb2ludHNbaSsxXV0pO1xuICAgIH1cblxuICAgIGxldCBwYXRocyA9IHBhdGhQYWlycy5tYXAoKHBhdGhQYWlyKSA9PiB7XG4gICAgICByZXR1cm4gbmV3IG1ha2VyanMucGF0aHMuTGluZShwYXRoUGFpclswXSxwYXRoUGFpclsxXSk7XG4gICAgfSk7XG5cbiAgICAvL1N0ZXAgdGhyb3VnaCB0aGUgZmlsbGV0IHJhZGlpIHRvIGFwcGx5IGZpbGxldHMgd2hlcmUgbmVlZGVkXG4gICAgbGV0IGFyY3MgPSBbXTtcbiAgICBmaWxsZXRSYWRpaS5mb3JFYWNoKChmaWxsZXRSYWRpdXMsaW5kZXgpID0+IHtcbiAgICAgIGlmIChmaWxsZXRSYWRpdXMpIHtcbiAgICAgICAgYXJjcy5wdXNoKG1ha2VyanMucGF0aC5maWxsZXQoXG4gICAgICAgICAgcGF0aHNbaW5kZXhdLFxuICAgICAgICAgIHBhdGhzWygoKGluZGV4KzEpPj1wYXRocy5sZW5ndGgpPzA6aW5kZXgrMSldLFxuICAgICAgICAgIGZpbGxldFJhZGl1c1xuICAgICAgICApKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHBhdGhzLmNvbmNhdChhcmNzKS5mb3JFYWNoKChhZGRQYXRoLGluZGV4KSA9PiB7XG4gICAgICBtYWtlcmpzLnBhdGguYWRkVG8oYWRkUGF0aCx0aGlzLGluZGV4KTtcbiAgICB9KTtcbiAgfVxufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBtb2RlbCB3aXRoIGEgc2VyaWVzIG9mIGxpbmVzIGF0IGdpdmVuIGFycmF5IG9mIGludGVydmFsc1xuICovXG5jbGFzcyBPZmZzZXRMaW5lc0F0SW50ZXJ2YWxzIGV4dGVuZHMgRW1wdHlNb2RlbCB7XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBzZXJpZXMgb2YgbGluZXMgYXQgZ2l2ZW4gYXJyYXkgb2YgaW50ZXJ2YWxzXG4gICAqIEBwYXJhbSB7UG9pbnR9IGJhc2VMaW5lU3RhcnQgLSBTdGFydCBwb2ludCBvZiB0aGUgYmFzZSBsaW5lXG4gICAqIEBwYXJhbSB7UG9pbnR9IGJhc2VMaW5lRW5kIC0gRW5kIHBvaW50IG9mIHRoZSBiYXNlIGxpbmVcbiAgICogQHBhcmFtIHtBcnJheX0gW2ludGVydmFscz1bXV0gIC0gQXJyYXkgb2YgbnVtYmVyIG9mZnNldHMgZm9yIHRoZSBsaW5lc1xuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtyZWxhdGl2ZUludGVydmFscz10cnVlXSAtIElmIHRydWUgaW50ZXJ2YWxzIGFyZSBpbnRlcnByZXRlZCBhcyByZWxhdGl2ZSB0byB0aGUgcHJldmlvdXMgaW50ZXJ2YWxcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtsaW5lTGF5ZXI9bnVsbF0gIC0gVGhlIGxheWVyIHRvIHNldCB0aGUgbGluZXMgdG9cbiAgICogQHBhcmFtIHtib29sZWFufSBbZmxpcFBvc2l0aXZlRGlyZWN0aW9uPXRydWVdICAtIEZMaXAgdGhlIGRpcmVjdGlvbiBvZiBwb3NpdGl2ZSBvZmZzZXRzIHJlbGF0aXZlIHRvIHRoZSBiYXNlbGluZSAoZS5nLiBnbyBsZWZ0IG9yIGdvIHJpZ2h0IG9mIHRoZSBsaW5lKVxuICAgKiBAcmV0dXJuIHtNb2RlbH0gLSBUaGUgTW9kZWxcbiAgICovXG4gIGNvbnN0cnVjdG9yKGJhc2VMaW5lU3RhcnQsYmFzZUxpbmVFbmQsaW50ZXJ2YWxzID0gW10scmVsYXRpdmVJbnRlcnZhbHMgPSB0cnVlLGxpbmVMYXllciA9IG51bGwsZmxpcFBvc2l0aXZlRGlyZWN0aW9uID0gZmFsc2UpIHtcbiAgICBzdXBlcigpO1xuICAgIC8vQ2FsY3VsYXRlIHRoZSBhbmdsZSBvZiB0aGUgYmFzZUxpbmVFbmRcbiAgICBsZXQgYmFzZUxpbmVBbmdsZSA9IG1ha2VyanMuYW5nbGUub2ZQb2ludEluRGVncmVlcyhiYXNlTGluZVN0YXJ0LGJhc2VMaW5lRW5kKVxuICAgIGxldCBleHRlbnNpb25MaW5lQW5nbGUgPSBiYXNlTGluZUFuZ2xlICs5MDtcbiAgICBsZXQgY3VtdWxhdGl2ZUV4dGVuc2lvbiA9IDA7XG4gICAgaW50ZXJ2YWxzID0gQXJyYXkuaXNBcnJheShpbnRlcnZhbHMpP2ludGVydmFsczpbaW50ZXJ2YWxzXTtcbiAgICBpbnRlcnZhbHMuZm9yRWFjaChpbnRlcnZhbERpc3QgPT4ge1xuICAgICAgbGV0IG9mZnNldExpbmU7XG4gICAgICBpZiAocmVsYXRpdmVJbnRlcnZhbHMpIHtcbiAgICAgICAgY3VtdWxhdGl2ZUV4dGVuc2lvbiArPSBpbnRlcnZhbERpc3Q7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjdW11bGF0aXZlRXh0ZW5zaW9uID0gaW50ZXJ2YWxEaXN0O1xuICAgICAgfVxuXG4gICAgICBpZiAoY3VtdWxhdGl2ZUV4dGVuc2lvbiA9PSAwKSB7XG4gICAgICAgIG9mZnNldExpbmUgPSBuZXcgbWFrZXJqcy5wYXRocy5MaW5lKGJhc2VMaW5lU3RhcnQsYmFzZUxpbmVFbmQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IGRpc3RQb2ludCA9IG1ha2VyanMucG9pbnQuZnJvbVBvbGFyKG1ha2VyanMuYW5nbGUudG9SYWRpYW5zKGV4dGVuc2lvbkxpbmVBbmdsZSksY3VtdWxhdGl2ZUV4dGVuc2lvbik7XG4gICAgICAgIG9mZnNldExpbmUgPSBuZXcgbWFrZXJqcy5wYXRocy5MaW5lKFxuICAgICAgICAgIG1ha2VyanMucG9pbnQuYWRkKGJhc2VMaW5lU3RhcnQsZGlzdFBvaW50KSxcbiAgICAgICAgICBtYWtlcmpzLnBvaW50LmFkZChiYXNlTGluZUVuZCxkaXN0UG9pbnQpXG4gICAgICAgIClcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ29mZnNldFBvaW50JyxkaXN0UG9pbnQsb2Zmc2V0TGluZSlcbiAgICAgIH1cblxuICAgICAgaWYgKGxpbmVMYXllcikge1xuICAgICAgICBtYWtlcmpzLnBhdGgubGF5ZXIob2Zmc2V0TGluZSxsaW5lTGF5ZXIpO1xuICAgICAgfVxuXG4gICAgICBtYWtlcmpzLm1vZGVsLmFkZFBhdGgodGhpcyxvZmZzZXRMaW5lKTtcbiAgICB9KVxuICB9XG59XG5cblxuZXhwb3J0IGNsYXNzIENvZGVSdW5uZXJVdGlscyB7XG5cblxuLy8gZXhwb3J0IHZhciBDb2RlUnVubmVyVXRpbHMgPSBmdW5jdGlvbigpe1xuICBFbXB0eU1vZGVsID0gRW1wdHlNb2RlbDtcbiAgRmlsbGV0ZWRQYXRoTW9kZWwgPSBGaWxsZXRlZFBhdGhNb2RlbDtcbiAgT2Zmc2V0TGluZXNBdEludGVydmFscyA9IE9mZnNldExpbmVzQXRJbnRlcnZhbHM7XG5cbiAgLyoqXG4gICAgKiBUaGUgRmlsbGV0ZWRQYXRoTW9kZWwgY2xhc3MgYWNjZXNzb3JcbiAgICAqIEBwYXJhbSB7UG9pbnR9IGZyb21Qb2ludCAtIFRoZSBwb2ludCB0byBzdGFydCBmcm9tXG4gICAgKiBAcGFyYW0ge251bWJlcn0gbGVuZ3RoIC0gVGhlIGxlbmd0aCBvZiB0aGUgbGluZVxuICAgICogQHBhcmFtIHtudW1iZXJ9IGFuZ2xlSW5EZWdyZWVzIFRoZSBhYnNvbHV0ZSBhbmdsZSBpbiBkZWdyZWVzIHRvIGRyYXcgdGhlIGxpbmVcbiAgICAqIEByZXR1cm4ge0xpbmV9IEEgTGluZSBwYXRoXG4gICAgKi9cbiAgbGluZUZyb21Qb2ludEF0QW5nbGUoZnJvbVBvaW50LGxlbmd0aCxhbmdsZUluRGVncmVlcykge1xuICAgIGxldCBhbmdsZUluUmFkaWFucyA9IG1ha2VyanMuYW5nbGUudG9SYWRpYW5zKGFuZ2xlSW5EZWdyZWVzKTtcbiAgICBsZXQgdG9Qb2ludCA9IG1ha2VyanMucG9pbnQuYWRkKGZyb21Qb2ludCxtYWtlcmpzLnBvaW50LmZyb21Qb2xhcihhbmdsZUluUmFkaWFucyxsZW5ndGgpKTtcbiAgICByZXR1cm4gbmV3IG1ha2VyanMucGF0aHMuTGluZShmcm9tUG9pbnQsdG9Qb2ludCk7XG4gIH07XG4gIC8qKlxuICAgICogRW5hYmxlIGF1dG8gc3BsaXR0aW5nIG9uIHRoZSBtb2RlbCBpZiBuZWVkZWQgYnkgdGhlIG1vZGVsIHBhY2tlciB3aGVuIHJlbmRlcmluZ1xuICAgICogQHBhcmFtIHtNb2RlbH0gbW9kZWxUb1NldCAtIFRoZSBtb2RlbCB0byBlbmFibGUgc3BsaXR0aW5nIGZvclxuICAgICovXG4gIGVuYWJsZVNwbGl0dGluZyhtb2RlbFRvU2V0KSB7XG4gICAgbW9kZWxUb1NldC5zcGxpdCA9IHtcbiAgICAgIGlmTmVlZGVkOiB0cnVlLFxuICAgICAgYXhpczogJ2F1dG8nXG4gICAgfVxuICB9O1xuICAvKipcbiAgICAqIENhcHRpb24gdGhlIG1vZGVsIHdpdGggdGhlIHN1cHBsaWVkIHRleHQgdXNpbmcgYSBkaWFnb25hbCB0aHJvdWdoIHRoZSBjZW50ZXIsIGVkaXRzIHRoZSBtb2RlbCBpbi1wbGFjZVxuICAgICogQHBhcmFtIHtNb2RlbH0gbW9kZWxUb0NhcHRpb24gLSBUaGUgbW9kZWwgdG8gY2FwdGlvblxuICAgICogQHBhcmFtIHtzdHJpbmd9IGNhcHRpb24gLSBUaGUgdGV4dCB0byB1c2UgZm9yIHRoZSBjYXB0aW9uXG4gICAgKiBAcGFyYW0ge251bWJlcn0gW3RleHRIZWlnaHQ9MTJdIC0gKElnbm9yZWQpXG4gICAgKiBAcGFyYW0ge3N0cmluZ30gW2xvY2F0aW9uPSdib3R0b20nXSAtIChJZ25vcmVkKVxuICAgICogQHJldHVybiB7TW9kZWx9IC0gVGhlIG1vZGVsIGNhcHRpb25lZFxuICAgICovXG4gIGF1dG9DYXB0aW9uTW9kZWwobW9kZWxUb0NhcHRpb24sY2FwdGlvbix0ZXh0SGVpZ2h0ID0gMTIsbG9jYXRpb24gPSAnYm90dG9tJykge1xuICAgIGxldCBtb2RlbEV4dGVudHMgPSBtYWtlcmpzLm1lYXN1cmUubW9kZWxFeHRlbnRzKG1vZGVsVG9DYXB0aW9uKTtcbiAgICBtYWtlcmpzLm1vZGVsLmFkZENhcHRpb24oXG4gICAgICBtb2RlbFRvQ2FwdGlvbixcbiAgICAgIGNhcHRpb24sXG4gICAgICBbbW9kZWxFeHRlbnRzLmxvd1swXSxtb2RlbEV4dGVudHMubG93WzFdXSxcbiAgICAgIFttb2RlbEV4dGVudHMuaGlnaFswXSxtb2RlbEV4dGVudHMuaGlnaFsxXV0sXG4gICAgKTtcbiAgICByZXR1cm4gbW9kZWxUb0NhcHRpb247XG4gIH07XG4gIC8qKlxuICAgICogQ2xvbmUgYSBtb2RlbCBhbmQgcGxhY2UgaXQgYXQgYSByZWxhdGl2ZSBvZmZzZXQgdG8gdGhlIG9yaWdpYW5sXG4gICAgKiBAcGFyYW0ge01vZGVsfSBtb2RlbFRvQ2FwdGlvbiAtIFRoZSBtb2RlbCB0byBjb3B5XG4gICAgKiBAcGFyYW0ge1BvaW50fSBbb2Zmc2V0PVswLDBdXSAtIHRoZSBvZmZzZXQgdG8gbW92ZSB0aGUgbW9kZWwgYnlcbiAgICAqIEByZXR1cm4ge01vZGVsfSAtIFRoZSBjbG9uZWQgbW9kZWxcbiAgICAqL1xuICBjbG9uZUFuZE9mZnNldChtb2RlbFRvQ2xvbmUsb2Zmc2V0ID0gWzAsMF0pIHtcbiAgICByZXR1cm4gbWFrZXJqcy5tb2RlbC5tb3ZlUmVsYXRpdmUobWFrZXJqcy5tb2RlbC5jbG9uZShtb2RlbFRvQ2xvbmUpLG9mZnNldCk7XG4gIH07XG4gIC8qKlxuICAgICogUGxhY2UgYSBwb2ludCBhIGRpc3RhbmNlIGFuZCBwb2xhciBhbmdsZSBhd2F5IGZyb20gYSBzdGFydGluZyBwb2ludFxuICAgICogQHBhcmFtIHtQb2ludH0gZnJvbVBvaW50IC0gVGhlIHN0YXJ0aW5nIHBvaW50XG4gICAgKiBAcGFyYW0ge251bWJlcn0gbGVuZ3RoIC0gVGhlIGRpc3RhbmNlIGZyb20gdGhlIGZyb21Qb2ludFxuICAgICogQHBhcmFtIHtudW1iZXJ9IGFuZ2xlSW5EZWdyZWVzIC0gVGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgcG9pbnQgYnlcbiAgICAqIEByZXR1cm4ge1BvaW50fSAtIFRoZSBuZXcgcG9pbnRcbiAgICAqL1xuICBwb2ludEZyb21Qb2ludEF0QW5nbGUoZnJvbVBvaW50LGxlbmd0aCxhbmdsZUluRGVncmVlcykge1xuICAgIGxldCBhbmdsZUluUmFkaWFucyA9IG1ha2VyanMuYW5nbGUudG9SYWRpYW5zKGFuZ2xlSW5EZWdyZWVzKTtcbiAgICBsZXQgdG9Qb2ludCA9IG1ha2VyanMucG9pbnQuYWRkKGZyb21Qb2ludCxtYWtlcmpzLnBvaW50LmZyb21Qb2xhcihhbmdsZUluUmFkaWFucyxsZW5ndGgpKTtcbiAgICByZXR1cm4gdG9Qb2ludDtcbiAgfTtcbiAgLyoqXG4gICAgKiBQbGFjZSBhIHBvaW50IGEgZ2l2ZW4gZGlzdGFuY2UgYW5kIHJlbGF0aXZlIGFuZ2xlIGZyb20gYSBnaXZlbiBsaW5lICh0aGUgcG9pbnQgaXMgcGxhY2VkIHJlbGF0aXZlIHRvIFAxKVxuICAgICogQHBhcmFtIHtQb2ludH0gcDEgLSBUaGUgYmFzZSBwb2ludCB0byBtYWtlIHRoZSBuZXcgcG9pbnQgcmVsYXRpdmUgdG9cbiAgICAqIEBwYXJhbSB7UG9pbnR9IHAyIC0gVGhlIHNlY29uZCBwb2ludCB0aGF0IGRlc2NyaWJlcyB0aGUgb3RoZXIgZW5kIG9mIHRoZSBsaW5lXG4gICAgKiBAcGFyYW0ge251bWJlcn0gZGlzdGFuY2UgLSBUaGUgZGlzdGFuY2UgZnJvbSB0aGUgcDFcbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBbcGFyYW1zXSAtIFBhcmFtZXRlcnMgdG8gdXNlLFxuICAgICogQHBhcmFtIHtib29sZWFufSBbcGFyYW1zLmNsb2Nrd2lzZT1mYWxzZV0gLSBDbG9ja3dpc2UgaXMgdGhlIGRpcmVjdGlvbiB0byBtYWtlIHRoZSBhbmdsZSByZWxhdGl2ZVxuICAgICogQHBhcmFtIHtudW1iZXJ9IFtwYXJhbXMuYW5nbGU9OTBdIC0gYW5nbGUgaXMgdGhlIGFuZ2xlIGZyb20gdGhlIHJlZmVyZW5jZSBsaW5lXG4gICAgKiBAcGFyYW0ge251bWJlcn0gIFtwYXJhbXMuaW5zZXQ9MF0gLSBpbnNldCBpcyBob3cgZmFyIGluc2V0ICh0b3dhcmRzIHAyKSB0aGUgYmFzZSBwb2ludCBzaG91bGQgYmVcbiAgICAqIEByZXR1cm4ge1BvaW50fSAtIFRoZSBuZXcgcG9pbnRcbiAgICAqL1xuICBwb2ludEZyb21Qb2ludExpbmVBdEFuZ2xlKHAxLHAyLGRpc3RhbmNlLHBhcmFtcykge1xuXG4gICAgcGFyYW1zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICBjbG9ja3dpc2U6IGZhbHNlLFxuICAgICAgYW5nbGU6IDkwLFxuICAgICAgaW5zZXQ6IDBcbiAgICB9LHBhcmFtcyk7XG4gICAgLy9HZXQgdGhlIGFuZ2xlIG9mIHRoZSBwb2ludHNcbiAgICBsZXQgYmFzZUFuZ2xlID0gbWFrZXJqcy5hbmdsZS5vZlBvaW50SW5EZWdyZWVzKHAxLHAyKTtcblxuICAgIGxldCBwb2ludEFuZ2xlID0gYmFzZUFuZ2xlIC0gKHBhcmFtcy5jbG9ja3dpc2U/cGFyYW1zLmFuZ2xlOi1wYXJhbXMuYW5nbGUpO1xuICAgIC8vY2FuJ3QgdXNlIHV0aWxzIHBvaW50IGZyb20gcG9pbnQgYXQgQW5nbGUgYXMgdGhpcyBzZXRzIHRoZSBkaXN0YW5jZSBvZiB0aGUgbGluZSAtIG5vdCB0aGUgb2Zmc2V0XG4gICAgbGV0IHIgPSBkaXN0YW5jZTtcbiAgICBpZiAocGFyYW1zLmFuZ2xlID4gMCkge1xuICAgICAgciA9IGRpc3RhbmNlIC8gKE1hdGguc2luKE1hdGguUEkgKiBwYXJhbXMuYW5nbGUgLyAxODApKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMucG9pbnRGcm9tUG9pbnRBdEFuZ2xlKHAxLHIscG9pbnRBbmdsZSk7XG4gIH07XG4gIC8qKlxuICAgICogUmV0dXJuIGEgcGFpciBvZiBwb2ludHMgdGhhdCByZXByZXNlbnQgd2hlcmUgVGFiIG9mIHRoZSBzdXBwbGllZCBwYXJhbWV0ZXJzIGNvcm5lcnMgd291bGQgYmVcbiAgICAqIEBwYXJhbSB7UG9pbnR9IHAxIC0gVGhlIHN0YXJ0IHBvaW50IG9mIHRoZSBsaW5lXG4gICAgKiBAcGFyYW0ge1BvaW50fSBwMiAtIFRoZSBlbmQgcG9pbnQgb2YgdGhlIGxpbmVcbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBbcGFyYW1zXSAtIFBhcmFtZXRlcnMgdG8gdXNlLFxuICAgICogQHBhcmFtIHtudW1iZXJ9IFtwYXJhbXMuZGlzdGFuY2U9MF0gLSBUaGUgb3V0c2V0IGRpc3RhbmNlIGZvciB0aGUgdGFiXG4gICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtwYXJhbXMuY2xvY2t3aXNlPWZhbHNlXSAtIENsb2Nrd2lzZSBpcyB0aGUgZGlyZWN0aW9uIHRvIG1ha2UgdGhlIGFuZ2xlIHJlbGF0aXZlXG4gICAgKiBAcGFyYW0ge251bWJlcn0gW3BhcmFtcy5hbmdsZT05MF0gLSBBbmdsZSBvZiB0aGUgdGFiIHNpZGVzXG4gICAgKiBAcGFyYW0ge251bWJlcn0gW3BhcmFtcy5iYXNlSW5zZXQ9MF0gLSBJbnNldCBvZiB0aGUgdGFiIGZyb20gdGhlIGVuZCBvZiB0aGUgbGluZVxuICAgICogQHBhcmFtIHtudW1iZXJ9IFtwYXJhbXMuYmFzZUluc2V0Ml0gLSBJZiBzdXBwbGllZCwgaXMgaW5zZXQgZnJvbSB0aGUgb3RoZXIgZW5kIG9mIHRoZSBsaW5lLCBvdGhlcndpc2UgaXMgdGhlIHNhbWUgYXMgX2Jhc2VJbnNldF9cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSAgW3BhcmFtcy5hbmdsZTJdIC0gSWYgc3VwcGxpZWQsIGlzIHRha2VuIGFzIHRoZSBhbmdsZSBmb3IgdGhlIHNlY29uZCB0YWIgc2lkZSwgb3RoZXJ3aXNlIGlzIHRoZSBzYW1lIGFzIF9hbmdsZV9cbiAgICAqIEByZXR1cm4ge1BvaW50W119IC0gMiBQb2ludHMgdGhhdCBkZXNjcmliZSB0aGUgYWRkZWQgVGFiIGNvcm5lcnNcbiAgICAqL1xuICB0YWJQb2ludHNGcm9tUG9pbnRMaW5lKHAxLHAyLHBhcmFtcykge1xuICAgIHBhcmFtcyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgZGlzdGFuY2U6IDAsXG4gICAgICBjbG9ja3dpc2U6IGZhbHNlLFxuICAgICAgYW5nbGU6IDkwLFxuICAgICAgYmFzZUluc2V0OiAwLFxuICAgICAgYmFzZUluc2V0MjogbnVsbCxcbiAgICAgIGFuZ2xlMjogbnVsbFxuICAgIH0scGFyYW1zKTtcblxuICAvLyB9LGNsb2Nrd2lzZT1mYWxzZSxhbmdsZT05MCxpbnNldD0wLGFuZ2xlMiA9IG51bGwpIHtcblxuICAgIGlmIChwYXJhbXMuZGlzdGFuY2UgIT0gMCkge1xuXG4gICAgICBsZXQgcGkxID0gcDEuc2xpY2UoKTtcbiAgICAgIGxldCBwaTIgPSBwMi5zbGljZSgpO1xuXG4gICAgICBpZiAocGFyYW1zLmJhc2VJbnNldDIgPT0gbnVsbCkgcGFyYW1zLmJhc2VJbnNldDIgPSBwYXJhbXMuYmFzZUluc2V0O1xuXG4gICAgICBpZiAocGFyYW1zLmJhc2VJbnNldCA+IDApIHtcbiAgICAgICAgcGkxID0gdGhpcy5wb2ludEZyb21Qb2ludExpbmVBdEFuZ2xlKHAxLHAyLHBhcmFtcy5iYXNlSW5zZXQse2Nsb2Nrd2lzZTogcGFyYW1zLmNsb2Nrd2lzZSxhbmdsZTogMH0pO1xuICAgICAgfVxuXG5cbiAgICAgIGlmIChwYXJhbXMuYmFzZUluc2V0MiA+IDApIHtcbiAgICAgICAgcGkyID0gdGhpcy5wb2ludEZyb21Qb2ludExpbmVBdEFuZ2xlKHAyLHAxLHBhcmFtcy5iYXNlSW5zZXQyLHtjbG9ja3dpc2U6IHBhcmFtcy5jbG9ja3dpc2UsYW5nbGU6IDB9KTtcbiAgICAgIH1cblxuICAgICAgbGV0IHRhYlAxID0gdGhpcy5wb2ludEZyb21Qb2ludExpbmVBdEFuZ2xlKHBpMSxwaTIscGFyYW1zLmRpc3RhbmNlLHtcbiAgICAgICAgY2xvY2t3aXNlOiBwYXJhbXMuY2xvY2t3aXNlLFxuICAgICAgICBhbmdsZTogcGFyYW1zLmFuZ2xlLFxuICAgICAgICBpbnNldDogcGFyYW1zLmluc2V0XG4gICAgICB9KTtcblxuICAgICAgaWYgKHBhcmFtcy5hbmdsZTIgPT0gbnVsbCkgcGFyYW1zLmFuZ2xlMiA9IHBhcmFtcy5hbmdsZTtcblxuICAgICAgbGV0IHRhYlAyID0gdGhpcy5wb2ludEZyb21Qb2ludExpbmVBdEFuZ2xlKHBpMixwaTEscGFyYW1zLmRpc3RhbmNlLHtcbiAgICAgICAgY2xvY2t3aXNlOiFwYXJhbXMuY2xvY2t3aXNlLFxuICAgICAgICBhbmdsZTpwYXJhbXMuYW5nbGUyLFxuICAgICAgICBpbnNldDpwYXJhbXMuaW5zZXRcbiAgICAgIH0pO1xuXG4gICAgICBsZXQgcmVzdWx0ID0gW107XG4gICAgICBpZiAocGFyYW1zLmJhc2VJbnNldCA+IDApIHtcbiAgICAgICAgcmVzdWx0LnB1c2gocGkxKTtcbiAgICAgIH1cbiAgICAgIHJlc3VsdC5wdXNoKHRhYlAxKVxuICAgICAgcmVzdWx0LnB1c2godGFiUDIpXG4gICAgICBpZiAocGFyYW1zLmJhc2VJbnNldDIgPiAwKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKHBpMik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBbcDEscDJdO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICAqIFRyZWF0IGEgcG9pbnRsaW5lIGFzIHJlbGF0aXZlIHBvaW50cyBmcm9tIHRoZSBmaXJzdCBwb2ludCBhbmQgY29udmVydCBlYWNoIHBvaW50IHRvIGFuIGFic29sdXRlIHBvaW50XG4gICAgKiBAcGFyYW0ge1BvaW50W119IFtwb2ludHNdIC0gUG9pbnRMaW5lIHRvIHVzZVxuICAgICogQHJldHVybiB7cG9pbnRbXX0gLSBUaGUgcG9pbnRzIGNvbnZlcnRlZFxuICAgICovXG4gIHJlbGF0aXZlUG9pbnRMaXN0VG9BYnNvbHV0ZShwb2ludHMpIHtcbiAgICBsZXQgbGFzdFBvaW50ID0gWzAsMF07XG4gICAgcmV0dXJuIHBvaW50cy5tYXAoKHRoaXNQb2ludCkgPT4ge1xuICAgICAgICBsZXQgYWJzUG9pbnQgPSBtYWtlcmpzLnBvaW50LmFkZChsYXN0UG9pbnQsdGhpc1BvaW50KTtcbiAgICAgICAgbGFzdFBvaW50ID0gYWJzUG9pbnQ7XG4gICAgICAgIHJldHVybiBhYnNQb2ludDtcbiAgICB9KTtcblxuICB9XG5cbiAgLyoqXG4gICAgKiBDb25zdHJ1Y3QgYSBzaW11bGF0ZWQgZW5nbGlzaCBwb2ludCBzaGFwZSwgdG8gdGhlIGxlZnQgb2YgdGhlIGxpbmUgZnJvbS0+dG9cbiAgICAqIEBwYXJhbSB7UG9pbnR9IGZyb20gLSBUaGUgZnJvbSBwb2ludFxuICAgICogQHBhcmFtIHtQb2ludH0gdG8gLSBUaGUgdG8gcG9pbnRcbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gLSBQYXJhbWV0ZXJzIHRvIHVzZSxcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcGFyYW1zLnJpc2VyUENUPTEuMl0gLSBUaGUgZXh0ZW5zaW9uIG9mIHRoZSBwb2ludCBmcm9tIHRoZSBiYXNlIGxpbmUgYXMgcGVyY2VudGFnZSAoZGVjaW1hbClcbiAgICAqIEByZXR1cm4ge01vZGVsfSAtIFRoZSBlbmdsaXNoIHBvaW50IGFyYyBwYXRoc1xuICAgICovXG4gIGRyYXdFbmdsaXNoUG9pbnQoZnJvbSx0byxvcHRpb25zKSB7XG5cbiAgICBsZXQgb3B0c1dpdGhEZWZhdWx0cyA9IE9iamVjdC5hc3NpZ24oe30se1xuICAgICAgcmlzZXJQQ1Q6IDEuMixcbiAgICB9LG9wdGlvbnMpXG5cbiAgICAvL2NhbGN1bGF0ZSB0aGUgZGlzdGFuY2UgYmV0d2VlbiBwb2ludHNcbiAgICBsZXQgcmlzZXJQQ1QgPSBvcHRzV2l0aERlZmF1bHRzLnJpc2VyUENUO1xuICAgIGxldCBiYXNlTGVuZ3RoID0gbWFrZXJqcy5tZWFzdXJlLnBvaW50RGlzdGFuY2UoZnJvbSx0byk7XG4gICAgbGV0IHJpc2VySGVpZ2h0ID0gYmFzZUxlbmd0aCAqIHJpc2VyUENUO1xuXG4gICAgbGV0IGxpbmVBbmdsZSA9IG1ha2VyanMuYW5nbGUub2ZQb2ludEluRGVncmVlcyhmcm9tLHRvKTtcblxuICAgIGxldCBvcmlnaW5Gcm9tID0gdGhpcy5wb2ludEZyb21Qb2ludEF0QW5nbGUoZnJvbSxyaXNlckhlaWdodCxsaW5lQW5nbGUpO1xuICAgIGxldCBvcmlnaW5UbyA9IHRoaXMucG9pbnRGcm9tUG9pbnRBdEFuZ2xlKHRvLHJpc2VySGVpZ2h0LDE4MCtsaW5lQW5nbGUpO1xuXG5cbiAgICBsZXQgbWlkUG9pbnQgPSBtYWtlcmpzLnBvaW50LmF2ZXJhZ2UoZnJvbSx0byk7XG5cbiAgICBsZXQgY2lyY2xlRnJvbSA9IG5ldyBtYWtlcmpzLnBhdGhzLkNpcmNsZShvcmlnaW5Gcm9tLHJpc2VySGVpZ2h0KTtcbiAgICBsZXQgY2lyY2xlVG8gPSBuZXcgbWFrZXJqcy5wYXRocy5DaXJjbGUob3JpZ2luVG8scmlzZXJIZWlnaHQpO1xuXG4gICAgbGV0IGludGVyc2VjdGlvbiA9IG1ha2VyanMucGF0aC5pbnRlcnNlY3Rpb24oY2lyY2xlRnJvbSxjaXJjbGVUbyk7XG4gICAgbGV0IGludGVyc2VjdGlvbkRpc3RhbmNlID0gbWFrZXJqcy5tZWFzdXJlLnBvaW50RGlzdGFuY2UoaW50ZXJzZWN0aW9uLmludGVyc2VjdGlvblBvaW50c1swXSxpbnRlcnNlY3Rpb24uaW50ZXJzZWN0aW9uUG9pbnRzWzFdKTtcblxuICAgIGxldCBtaWRQb2ludFRpcCA9IHRoaXMucG9pbnRGcm9tUG9pbnRBdEFuZ2xlKG1pZFBvaW50LGludGVyc2VjdGlvbkRpc3RhbmNlLzIsbGluZUFuZ2xlKzkwKTtcblxuICAgIGxldCBtaWRQb2ludEFuZ2xlRnJvbSA9IG1ha2VyanMuYW5nbGUub2ZQb2ludEluRGVncmVlcyhvcmlnaW5Gcm9tLG1pZFBvaW50VGlwKTtcbiAgICBsZXQgbWlkUG9pbnRBbmdsZVRvID0gbWFrZXJqcy5hbmdsZS5vZlBvaW50SW5EZWdyZWVzKG9yaWdpblRvLG1pZFBvaW50VGlwKTtcblxuXG4gICAgbGV0IGVuZ2xpc2hQb2ludCA9IG5ldyB0aGlzLkVtcHR5TW9kZWwoKTtcblxuICAgIG1ha2VyanMubW9kZWwuYWRkUGF0aChcbiAgICAgIGVuZ2xpc2hQb2ludCxcbiAgICAgIG1ha2VyanMucGF0aC5sYXllcihuZXcgbWFrZXJqcy5wYXRocy5MaW5lKG1pZFBvaW50LG1pZFBvaW50VGlwKSwnc3RpdGNoJylcbiAgICApO1xuXG5cbiAgICBtYWtlcmpzLm1vZGVsLmFkZFBhdGgoXG4gICAgICBlbmdsaXNoUG9pbnQsXG4gICAgICBuZXcgbWFrZXJqcy5wYXRocy5BcmMob3JpZ2luRnJvbSxyaXNlckhlaWdodCxtaWRQb2ludEFuZ2xlRnJvbSxsaW5lQW5nbGUgKyAxODApXG4gICAgKTtcblxuICAgIG1ha2VyanMubW9kZWwuYWRkUGF0aChcbiAgICAgIGVuZ2xpc2hQb2ludCxcbiAgICAgIG5ldyBtYWtlcmpzLnBhdGhzLkFyYyhvcmlnaW5UbyxyaXNlckhlaWdodCxsaW5lQW5nbGUsbWlkUG9pbnRBbmdsZVRvKVxuICAgICk7XG5cblxuXG5cbiAgICByZXR1cm4gZW5nbGlzaFBvaW50O1xuICB9XG5cbiAgLyoqXG4gICAgKiBBZGQgYSB0YWIgdG8gYSBQb2ludExpbmUgd2l0aCB0aGUgZ2l2ZW4gcGFyYW1ldGVycywgZWRpdHMgdGhlIFBvaW50TGluZSBpbi1wbGFjZVxuICAgICogQHBhcmFtIHtQb2ludFtdfSBwb2ludExpbmUgLSBUaGUgcG9pbnRsaW5lIHRvIHVzZVxuICAgICogQHBhcmFtIHtpbnRlZ2VyfSBpbmRleCAtIFRoZSBpbmRleCBvZiB0aGUgbGluZSBpbiB0aGUgcG9pbnRMaW5lIHRvIGFkZCB0aGUgdGFiIHRvXG4gICAgKiBAcGFyYW0ge09iamVjdH0gW3BhcmFtc10gLSBQYXJhbWV0ZXJzIHRvIHVzZSxcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcGFyYW1zLmRpc3RhbmNlPTBdIC0gVGhlIG91dHNldCBkaXN0YW5jZSBmb3IgdGhlIHRhYlxuICAgICogQHBhcmFtIHtib29sZWFufSBbcGFyYW1zLmNsb2Nrd2lzZT1mYWxzZV0gLSBDbG9ja3dpc2UgaXMgdGhlIGRpcmVjdGlvbiB0byBtYWtlIHRoZSBhbmdsZSByZWxhdGl2ZVxuICAgICogQHBhcmFtIHtudW1iZXJ9IFtwYXJhbXMuYW5nbGU9OTBdIC0gQW5nbGUgb2YgdGhlIHRhYiBzaWRlc1xuICAgICogQHBhcmFtIHtudW1iZXJ9IFtwYXJhbXMuYmFzZUluc2V0PTBdIC0gSW5zZXQgb2YgdGhlIHRhYiBmcm9tIHRoZSBlbmQgb2YgdGhlIGxpbmVcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcGFyYW1zLmJhc2VJbnNldDJdIC0gSWYgc3VwcGxpZWQsIGlzIGluc2V0IGZyb20gdGhlIG90aGVyIGVuZCBvZiB0aGUgbGluZSwgb3RoZXJ3aXNlIGlzIHRoZSBzYW1lIGFzIF9iYXNlSW5zZXRfXG4gICAgKiBAcGFyYW0ge251bWJlcn0gIFtwYXJhbXMuYW5nbGUyXSAtIElmIHN1cHBsaWVkLCBpcyB0YWtlbiBhcyB0aGUgYW5nbGUgZm9yIHRoZSBzZWNvbmQgdGFiIHNpZGUsIG90aGVyd2lzZSBpcyB0aGUgc2FtZSBhcyBfYW5nbGVfXG4gICAgKiBAcGFyYW0ge2Jvb2xlYW59ICBbcGFyYW1zLmF1dG9XcmFwPXRydWVdIC0gSWYgaW5kZXggc2hvdWxkIHdyYXAgYXJvdW5kIHRoZSBwb2ludGxpbmUgaWYgaXQgZXhjZWVkcyB0aGUgbGVuZ3RoXG4gICAgKiBAcmV0dXJuIHtQb2ludFtdfSAtIFRoZSBQb2ludExpbmVcbiAgICAqL1xuICBhZGRUYWJBdFBvaW50TGluZUF0TGluZUluZGV4KHBvaW50TGluZSxpbmRleCxwYXJhbXMpIHtcbiAgICBwYXJhbXMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgIGRpc3RhbmNlOiAwLFxuICAgICAgY2xvY2t3aXNlOiBmYWxzZSxcbiAgICAgIGFuZ2xlOiA5MCxcbiAgICAgIGFuZ2xlMjogbnVsbCxcbiAgICAgIGF1dG9XcmFwOiB0cnVlXG4gICAgfSxwYXJhbXMpO1xuXG4gICBsZXQgcDEgPSBwb2ludExpbmVbaW5kZXhdO1xuXG5cbiAgIGxldCBwMkluZGV4ID0gaW5kZXgrMTtcbiAgIGlmICgoKGluZGV4KzEpID4gKHBvaW50TGluZS5sZW5ndGgtMSkpICYmIChwYXJhbXMuYXV0b1dyYXApKSB7cDJJbmRleCA9IDA7fVxuXG4gICBsZXQgcDIgPSBwb2ludExpbmVbcDJJbmRleF07XG4gICBsZXQgdGFiUG9pbnRzID0gdGhpcy50YWJQb2ludHNGcm9tUG9pbnRMaW5lKHAxLHAyLHBhcmFtcyk7XG4gICAvL2luc2VydCBiYWNrIGludG8gdGhlIGFycmF5XG4gICBwb2ludExpbmUuc3BsaWNlKGluZGV4KzEsMCwuLi50YWJQb2ludHMpO1xuICAgcmV0dXJuIHBvaW50TGluZTtcbiAgfVxuICAvKipcbiAgICAqIERldGVybWluZSB0aGUgYmVuZCBhbGxvd2FuY2UgKEN1cnZlZCBhcmVhIGJldHdlZW4gdGhlIGVuZCBvZiB0d28gcGFuZWxzKSB0byBhY2hpZXZlIHRoZSByZXF1aXJlZCBiZW5kXG4gICAgKiBAcGFyYW0ge09iamVjdH0gW3BhcmFtc10gLSBQYXJhbWV0ZXJzIHRvIHVzZSxcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcGFyYW1zLmFuZ2xlPTkwXSAtIEFuZ2xlIG9mIHRoZSBiZW5kXG4gICAgKiBAcGFyYW0ge251bWJlcn0gW3BhcmFtcy5tYXRlcmlhbFRoaWNrbmVzcz0xXSAtIFRoaWNrbmVzcyBvZiB0aGUgbWF0ZXJpYWwgYmVpbmcgYmVudFxuICAgICogQHBhcmFtIHtudW1iZXJ9IFtwYXJhbXMuaW5uZXJSYWRpdXNdIC0gVGhlIGlubmVyIHJhZGl1cyBvZiB0aGUgYmVuZCAoaW5zaWRlIG9mIHRoZSBtYXRlcmlhOylcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcGFyYW1zLms9MC41XSAtIEJlbmRpbmYgSyBGYWN0b3Igb2YgdGhlIG1hdGVyaWFsXG4gICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtwYXJhbXMuc2luZ2xlU2lkZWQ9ZmFsc2VdIC0gT25seSByZXR1cm4gaGFsZiBvZiB0aGUgYmVuZCBhbGxvd2FuY2VcbiAgICAqIEByZXR1cm4ge251bWJlcn0gLSBUaGUgbGVuZ3RoIG9mIHRoZSBiZW5kIGFsbG93YW5jZVxuICAgICovXG4gIGRldGVybWluZUJlbmRBbGxvd2FuY2UocGFyYW1zKSB7XG4gICAgcGFyYW1zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICBhbmdsZTogOTAsXG4gICAgICBtYXRlcmlhbFRoaWNrbmVzczogMSxcbiAgICAgIGlubmVyUmFkaXVzOiBudWxsLFxuICAgICAgazogMC41LFxuICAgICAgc2luZ2xlU2lkZWQ6IGZhbHNlXG4gICAgfSxwYXJhbXMpO1xuXG4gICAgaWYgKHBhcmFtcy5pbm5lclJhZGl1cyA9PSBudWxsKSB7XG4gICAgICBwYXJhbXMuaW5uZXJSYWRpdXMgPSBNYXRoLm1heCgwLjUsIHBhcmFtcy5tYXRlcmlhbFRoaWNrbmVzcy80KTtcbiAgICB9XG5cbiAgICAvL0JlbmQgYWxsb3dhbmNlOiBCQSA9IChhbmdsZSAqIChQaS8xODApKSAqIChSICsgKEsgKiBUKSk7XG4gICAgLy9hdXRvIGFwcHJveDogSyA9IChsb2cobWluKDEwMCwobWF4KDIwKnIsVCkvVCkpKSkgLyAoMiAqIGxvZygxMDApKVxuXG4gICAgbGV0IGJlbmRBbGxvd2FuY2UgPSAocGFyYW1zLmFuZ2xlICogKE1hdGguUEkgLyAxODApKSAqIChwYXJhbXMuaW5uZXJSYWRpdXMgKyAocGFyYW1zLmsgKiBwYXJhbXMubWF0ZXJpYWxUaGlja25lc3MpKTtcblxuICAgIGlmIChwYXJhbXMuc2luZ2xlU2lkZWQpIHtcbiAgICAgIGJlbmRBbGxvd2FuY2UgPSBiZW5kQWxsb3dhbmNlIC8yO1xuICAgIH1cblxuICAgIHJldHVybiBiZW5kQWxsb3dhbmNlO1xuICB9XG5cbiAgY2hvcmRhbFRyYXBlem9pZFBvaW50TGluZShwYXJhbXMpIHtcbiAgICBwYXJhbXMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgIHJhZGl1c0RlbHRhOiA0NSwgLy9yZXF1aXJlZFxuICAgICAgaW5uZXJDaG9yZExlbmd0aDogMTAsXG4gICAgICBvdXRlckNob3JkTGVuZ3RoOiBudWxsLCAvL0NhbGN1bGF0ZWRcbiAgICAgIGlubmVyUmFkaXVzOiBudWxsLCAvL092ZXJyaWRlcyBpbm5lckxlbmd0aCArIG91dGVyIGxlbmd0aCBpZiBzcGVjaWZpZWRcbiAgICAgIG91dGVyUmFkaXVzOiBudWxsLFxuICAgICAgYW5nbGU6IDMwIC8vbXVzdCBzcGVjaWZ5IGVpdGhlciBpbm5lciBhbmdsZSBvciAoaW5uZXIgY2hvcmQgbGVuZ3RoIG9yIG91dGVyIGNob3JkIGxlbmd0aClcbiAgICB9LHBhcmFtcyk7XG5cblxuICAgIC8vU0lOID0gT1BQIC8gSFlQXG4gICAgaWYgKCFwYXJhbXMuaW5uZXJSYWRpdXMpIHtcbiAgICAgIHBhcmFtcy5pbm5lclJhZGl1cyA9IHBhcmFtcy5pbm5lckNob3JkTGVuZ3RoIC8gKE1hdGguc2luKChwYXJhbXMuYW5nbGUvMikgKiAoTWF0aC5QSSAvIDE4MCkpKTtcbiAgICB9XG5cbiAgICBpZiAocGFyYW1zLnJhZGl1c0RlbHRhKSB7XG4gICAgICBwYXJhbXMub3V0ZXJSYWRpdXMgPSBwYXJhbXMuaW5uZXJSYWRpdXMgKyBwYXJhbXMucmFkaXVzRGVsdGE7XG5cbiAgICB9IGVsc2UgaWYgKCFwYXJhbXMucmFkaXVzRGVsdGEpIHtcbiAgICAgIHBhcmFtcy5vdXRlclJhZGl1cyA9IHBhcmFtcy5vdXRlckNob3JkTGVuZ3RoIC8gKE1hdGguc2luKChwYXJhbXMuYW5nbGUvMikgKiAoTWF0aC5QSSAvIDE4MCkpKTtcbiAgICB9XG5cbiAgICAvL0FzdXNtZSBhbmdsZSBzZXQgZm9yIG5vd1xuICAgIC8vT2Zmc2V0IHRoZSBjb3JlIHBvaW50IHRvIC0gKG1pbnVzKSB0aGUgaW5uZGVyIHJhZGl1cyAgdmVydGljYWxseVxuICAgIC8vIGxldCBhbmdsZWRJbm5lclJhZGl1c1BvaW50ID0gdXRpbHMucG9pbnRGcm9tUG9pbnRBdEFuZ2xlKFswLC1wYXJhbXMuaW5uZXJSYWRpdXNdLHBhcmFtcy5pbm5lclJhZGl1cyxwYXJhbXMuYW5nbGUpO1xuICAgIGxldCBwb2ludExpbmUgPSBbXTtcbiAgICBwb2ludExpbmUucHVzaChbMCwwXSk7XG4gICAgcG9pbnRMaW5lLnB1c2godGhpcy5wb2ludEZyb21Qb2ludEF0QW5nbGUoWzAsLXBhcmFtcy5pbm5lclJhZGl1c10scGFyYW1zLmlubmVyUmFkaXVzLDkwLXBhcmFtcy5hbmdsZSkpO1xuICAgIHBvaW50TGluZS5wdXNoKHRoaXMucG9pbnRGcm9tUG9pbnRBdEFuZ2xlKFswLC1wYXJhbXMuaW5uZXJSYWRpdXNdLHBhcmFtcy5vdXRlclJhZGl1cyw5MC1wYXJhbXMuYW5nbGUpKTtcbiAgICBwb2ludExpbmUucHVzaChbMCxwYXJhbXMub3V0ZXJSYWRpdXMgLSBwYXJhbXMuaW5uZXJSYWRpdXNdKTtcblxuICAgIHJldHVybiBwb2ludExpbmU7XG4gIH1cbiAgLyoqXG4gICAgKiBDcmVhdGUgYSBwb2ludExpbmUgdGhhdCByZXByZXNlbnRzIGEgY3JlZGl0IGNhcmQgaG9sZGVyIHNsb3RcbiAgICAqIEBwYXJhbSB7aW50ZWdlcn0gb3V0ZXJXaWR0aCAtIE91dGVyIHdpZHRoIG9mIHRoZSBjYXJkc2xvdCAoaW5jbHVkaW5nIGFueSBzbGlwIGFsbG93YW5jZSBhbmQgc3RpdGNoQWxsb3dhbmNlKSxcbiAgICAqIEBwYXJhbSB7aW50ZWdlcn0gb3V0ZXJIZWlnaHQgLSBPdXRlciBoZWlnaHQgb2YgdGhlIGNhcmRzbG90IChpbmNsdWRpbmcgYW55IHNsaXAgYWxsb3dhbmNlIGFuZCBzdGl0Y2hBbGxvd2FuY2UpLFxuICAgICogQHBhcmFtIHtib29sZWFufSBbdFNsb3Q9ZmFsc2VdIC0gSWYgdGhlIGNhcmQgc2xvdCBzaG91bGQgYmUgYSBUIHNsb3QgKG1pZGRsZSBzbG90IGluIGEgc3RhY2sgb2YgY2FyZCBzbG90cylcbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBbcGFyYW1zXSAtIFBhcmFtZXRlcnMgdG8gdXNlLFxuICAgICogQHBhcmFtIHtudW1iZXJ9IFtwYXJhbXMuYmFzZVdpZHRoUENUPS43NV0gLSBTZXRzIHRoZSBiYXNlIG9mIHQgc2xvdHMgdG8gYmUgYSBwb3J0aW9uIG9mIHRoZSBvdmVyYWxsIHdpZHRoXG4gICAgKiBAcGFyYW0ge251bWJlcn0gW3BhcmFtcy5iYXNlV2lkdGhdIC0gT3ZlcnJpZGVzIGJhc2VXaWR0aFBDVCwgc2V0cyB0aGUgYmFzZSBvZiB0IHNsb3RzIHRvIGJlIGEgc3BlY2lmaWMgd2lkdGhcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcGFyYW1zLnN0aXRjaEFsbG93YW5jZT0zLjhdIC0gU2V0cyB0aGUgaW5zZXQgb2YgdGhlIHRvcCBsaW5lIChiZWZvcmUvYWZ0ZXIgdGhlIHNsb3BlL3RvcGxpbmUgcG9pbnRzKSBhcyBob3Jpem9udGFsIGFyZSBhZGRlZFxuICAgICogQHBhcmFtIHtudW1iZXJ9IFtwYXJhbXMuc2lkZUluc2V0XSAtIElmIG51bGwsID0gc3RpdGNoQWxsb3dhbmNlOyBTaWRlIGluc2V0IGZvciB0aGUgbG93ZXIgcGFydCBvZiB0IHNsb3RzXG4gICAgKiBAcGFyYW0ge251bWJlcn0gW3BhcmFtcy5jYXJkU3RpY2tPdXRQQ1Q9Ljc1XSAtIFNldHMgdGhlIGhlaWd0aCBvZiB0aGUgY2FyZHMgc3RpY2tpbmcgb3V0IG9mIHRoZSBzbG90IGFzIGEgcG9ydGlvIG9mIHRoZSBvdmVyYWxsIGhlaWdodCBvZiB0aGUgc2xvdFxuICAgICogQHBhcmFtIHtudW1iZXJ9IFtwYXJhbXMuY2FyZFN0aWNrT3V0XSAtIE92ZXJyaWRlcyBjYXJkU3RpY2tPdXRQQ1QsIHNldHMgdGhlIGhlaWdodCBvZiB0aGUgY2FyZCBzdGlja2luZyBvdXQgb2YgdGhlIHNsb3QgdG8gYmUgYSBzcGVjaWZpYyBzaXplXG4gICAgKiBAcGFyYW0ge251bWJlcn0gW3BhcmFtcy5zbG90UmlzZUFtb3VudFBDVD0uNzVdIC0gU2V0IHRoZSBzbG90IHJpc2UgKGZvciB0c2xvdHMpIHRvIGJlIGEgcG9ydGlvbiBvZiB0aGUgaGVpZ2h0XG4gICAgKiBAcGFyYW0ge251bWJlcn0gW3BhcmFtcy5zbG90UmlzZUFtb3VudF0gLSBPdmVycmlkZXMgc2xvdFJpc2VBbW91bnRQQ1Qgc2xvdCByaXNlIGZvciB0IHNsb3RzIHRvIGJlIGEgc3BlY2lmaWMgc2l6ZVxuICAgICogQHBhcmFtIHtudW1iZXJ9IFtwYXJhbXMudG9wTGluZVNsb3BlUENUXSAtIE92ZXJyaWRlIHRvcExpbmVTbG9wZVJpc2Ugc2V0IHRvIGJlIHRvcExpbmVTbG9wZVBDVCBtdWx0aXBsaWVkIGJ5IHRoZSB3aWR0aFxuICAgICogQHBhcmFtIHtudW1iZXJ9IFtwYXJhbXMudG9wTGluZVNsb3BlUmlzZT0wXSAtIFVuaXRzIHRvIGhhdmUgdGhlIGNhcmQgdG9wIHJpc2Ugb24gdGhlIHJpZ2h0IGhhbmQgc2lkZVxuICAgICogQHBhcmFtIHtQb2ludFtdfSBbcGFyYW1zLnRvcExpbmVQb2ludHNdIC1cbiAgICAqIEByZXR1cm4ge1BvaW50W119IC0gQSBwb2ludCBsaW5lIHJlcHJlc2VudGluZyB0aGUgY3JlZGl0IGNhcmQgaG9sZGVyIHNsb3RcbiAgICAqL1xuICBjYXJkU2xvdFBvaW50TGluZShvdXRlcldpZHRoLCBvdXRlckhlaWdodCwgdFNsb3QgPSBmYWxzZSwgcGFyYW1zPW51bGwpIHtcbiAgICBwYXJhbXMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgIGJhc2VXaWR0aFBDVDogLjc1LFxuICAgICAgYmFzZVdpZHRoOiBudWxsLCAvL2lmIG51bGwgLSBjYWxjdWxhdGUgZnJvbSBQQ1QgdmFsdWVcbiAgICAgIHN0aXRjaEFsbG93YW5jZTogMy44LFxuICAgICAgc2lkZUluc2V0OiBudWxsLCAvLz0gc2lkZSBhbGxvd2FuY2UgaWYgPSBudWxsIC0gc3RpdGNoQWxsb3dhbmNlXG4gICAgICBjYXJkU3RpY2tPdXRQQ1Q6IC4yLFxuICAgICAgY2FyZFN0aWNrT3V0OiBudWxsLCAvL2lmIG51bGwgLSBjYWxjdWxhdGUgZm9ybSBQQ1QgdmFsdWVcbiAgICAgIHNsb3RSaXNlQW1vdW50UENUOiAuMixcbiAgICAgIHNsb3RSaXNlQW1vdW50OiBudWxsLCAvL2lmIG51bGwgLSBjYWxjdWxhdGUgZnJvbSBQQ1QgdmFsdWVcbiAgICAgIHRvcExpbmVTbG9wZVBDVDogbnVsbCwgLy9pZiAhPTAgYWRkIGEgc2xvcGUgdG8gdGhlIHRvcCBsaW5lXG4gICAgICB0b3BMaW5lU2xvcGVSaXNlOiAwLCAvL2lmIHNsb3BlICE9IG51bGwgdGhpcyBpcyBpZ25vcmVkIGFuZCB1cGRhdGVkIHRvIGJlIHRoZSB2YWx1ZSBvZiB3aWR0aCAqIHNsb3BlUENUXG4gICAgICB0b3BMaW5lUG9pbnRzOiBudWxsLCAvL2lmICE9bnVsbCBPdmVycmlkZSB0aGUgdG9wbGluZSB3aXRoIGN1c3RvbSBwb2ludHMgKGZpcnN0IGFuZCBsYXN0IHBvaW50cyB3aWxsIG5vdCBiZSBvdmVycmlkZW4pXG4gICAgfSxwYXJhbXMpO1xuXG4gICAgLy9DYWxjdWxhdGUgdGhlIGFjdHVhbCB2YWx1ZXMgZnJvbSBhbnkgUENUIHZhbHVlc1xuICAgIGlmIChwYXJhbXMuc2lkZUluc2V0ID09IG51bGwpIHtcbiAgICAgIHBhcmFtcy5zaWRlSW5zZXQgPSBwYXJhbXMuc3RpdGNoQWxsb3dhbmNlO1xuICAgIH1cblxuICAgIGlmIChwYXJhbXMuYmFzZVdpZHRoID09IG51bGwpIHtcbiAgICAgIHBhcmFtcy5iYXNlV2lkdGggPSBwYXJhbXMuYmFzZVdpZHRoUENUICogb3V0ZXJXaWR0aDtcbiAgICB9XG5cbiAgICBpZiAocGFyYW1zLmNhcmRTdGlja091dCA9PSBudWxsKSB7XG4gICAgICBwYXJhbXMuY2FyZFN0aWNrT3V0ID0gcGFyYW1zLmNhcmRTdGlja091dFBDVCAqIG91dGVySGVpZ2h0O1xuICAgIH1cblxuICAgIGlmIChwYXJhbXMuc2xvdFJpc2VBbW91bnQgPT0gbnVsbCkge1xuICAgICAgcGFyYW1zLnNsb3RSaXNlQW1vdW50ID0gcGFyYW1zLnNsb3RSaXNlQW1vdW50UENUICogb3V0ZXJIZWlnaHQ7XG4gICAgfVxuXG4gICAgaWYgKHBhcmFtcy50b3BMaW5lU2xvcGVQQ1QgIT0gbnVsbCkge1xuICAgICAgcGFyYW1zLnRvcExpbmVTbG9wZVJpc2UgPSBvdXRlckhlaWdodCAqIHBhcmFtcy50b3BMaW5lU2xvcGVQQ1Q7XG4gICAgfVxuXG4gICAgaWYgKHBhcmFtcy50b3BMaW5lU2xvcGVSaXNlID09IG51bGwpIHtcbiAgICAgIHBhcmFtcy50b3BMaW5lU2xvcGVSaXNlID0gMDtcbiAgICB9XG5cbiAgICBsZXQgcGFuZWxIZWlnaHQgPSBvdXRlckhlaWdodCAtIHBhcmFtcy5jYXJkU3RpY2tPdXQ7XG4gICAgbGV0IHBhbmVsV2lkdGggPSBvdXRlcldpZHRoO1xuXG4gICAgbGV0IHBhdGhQb2ludHMgPSBbXTtcbiAgICBwYXRoUG9pbnRzLnB1c2goWzAsIHBhbmVsSGVpZ2h0XSk7XG4gICAgcGF0aFBvaW50cy5wdXNoKFtwYXJhbXMuc3RpdGNoQWxsb3dhbmNlLCBwYW5lbEhlaWdodF0pO1xuICAgIHBhdGhQb2ludHMucHVzaChbcGFuZWxXaWR0aC1wYXJhbXMuc3RpdGNoQWxsb3dhbmNlLCBwYW5lbEhlaWdodCArIHBhcmFtcy50b3BMaW5lU2xvcGVSaXNlXSk7XG4gICAgcGF0aFBvaW50cy5wdXNoKFtwYW5lbFdpZHRoLCBwYW5lbEhlaWdodCArIHBhcmFtcy50b3BMaW5lU2xvcGVSaXNlXSk7XG5cbiAgICBpZiAodFNsb3QpIHtcbiAgICAgIHBhdGhQb2ludHMucHVzaChbcGFuZWxXaWR0aCwgcGFuZWxIZWlnaHQgKyBwYXJhbXMudG9wTGluZVNsb3BlUmlzZSAtIHBhcmFtcy5zbG90UmlzZUFtb3VudF0pO1xuICAgICAgcGF0aFBvaW50cy5wdXNoKFtwYW5lbFdpZHRoIC0gcGFyYW1zLnNpZGVJbnNldCwgcGFuZWxIZWlnaHQgKyBwYXJhbXMudG9wTGluZVNsb3BlUmlzZSAtIHBhcmFtcy5zbG90UmlzZUFtb3VudF0pO1xuXG4gICAgICBwYXRoUG9pbnRzLnB1c2goWyhwYW5lbFdpZHRoICsgcGFyYW1zLmJhc2VXaWR0aCkvMiwgMF0pO1xuICAgICAgcGF0aFBvaW50cy5wdXNoKFsocGFuZWxXaWR0aCAtIHBhcmFtcy5iYXNlV2lkdGgpLzIsIDBdKTtcblxuICAgICAgcGF0aFBvaW50cy5wdXNoKFtwYXJhbXMuc2lkZUluc2V0LCBwYW5lbEhlaWdodCAtIHBhcmFtcy5zbG90UmlzZUFtb3VudF0pO1xuICAgICAgcGF0aFBvaW50cy5wdXNoKFswLCBwYW5lbEhlaWdodCAtIHBhcmFtcy5zbG90UmlzZUFtb3VudF0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBwYXRoUG9pbnRzLnB1c2goW3BhbmVsV2lkdGgsMF0pO1xuICAgICAgcGF0aFBvaW50cy5wdXNoKFswLDBdKTtcbiAgICB9XG4gICAgcmV0dXJuIHBhdGhQb2ludHM7XG4gIH1cblxuXG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBIZWFwUGFja2VyIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIGxldCBhcHBsaWVkT3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgZGVmYXVsdFBhY2tBcmVhSGVpZ2h0OiAxMDAwLFxuICAgICAgZGVmYXVsdFBhY2tBcmVhV2lkdGg6IDIwMDAsXG4gICAgICBncm93TGltaXRIZWlnaHQ6IC0xLFxuICAgICAgZ3Jvd0xpbWl0V2lkdGg6IC0xLFxuICAgICAgY2FuR3Jvd1BhY2tBcmVhOiBmYWxzZSwgLy9jYW5Hcm93UGFja0FyZWEgb3IgY2FuQWRkUGFja0FyZWFzIG9ubHkgMSBtdXN0IGJlIGVuYWJsZWQgLSBncm93IHdpbGwgdGFrZSBwcmVjZWRlbmNlXG4gICAgICBjYW5BZGRQYWNrQXJlYXM6IHRydWUsXG4gICAgfSxvcHRpb25zKTtcblxuICAgIHRoaXMuZGVmYXVsdFBhY2tBcmVhSGVpZ2h0ID0gYXBwbGllZE9wdGlvbnMuZGVmYXVsdFBhY2tBcmVhSGVpZ2h0O1xuICAgIHRoaXMuZGVmYXVsdFBhY2tBcmVhV2lkdGggPSBhcHBsaWVkT3B0aW9ucy5kZWZhdWx0UGFja0FyZWFXaWR0aDtcbiAgICB0aGlzLmNhbkdyb3dQYWNrQXJlYSA9IGFwcGxpZWRPcHRpb25zLmNhbkdyb3dQYWNrQXJlYTtcbiAgICB0aGlzLmNhbkFkZFBhY2tBcmVhcyA9IGFwcGxpZWRPcHRpb25zLmNhbkFkZFBhY2tBcmVhcztcblxuICAgIHRoaXMuYXZhaWxhYmxlSGVhcCA9IFtdO1xuICAgIHRoaXMucGFja0FyZWFEZWZpbml0aW9ucyA9IFtdO1xuICAgIHRoaXMucGFja0FyZWFNYXhJbmRleCA9IDA7XG4gICAgdGhpcy5wYWNrZWRCbG9ja3MgPSBbXTtcblxuICAgIC8vU2V0dXAgdGhlIGluaXRpYWwgaGVhcFxuICAgIHRoaXMuYWRkUGFja0FyZWEoKTtcbiAgfVxuXG4gIHBhY2tlZEFyZWFzKCkge1xuICAgIHJldHVybiB0aGlzLnBhY2tBcmVhRGVmaW5pdGlvbnMubWFwKChwYWNrQXJlYSkgPT4ge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IHBhY2tBcmVhLmEsXG4gICAgICAgIGg6IHBhY2tBcmVhLmgsXG4gICAgICAgIHc6IHBhY2tBcmVhLncsXG4gICAgICAgIGJsb2NrczogdGhpcy5wYWNrZWRCbG9ja3MuZmlsdGVyKChibG9jaykgPT4gKGJsb2NrLmEgPT0gcGFja0FyZWEuYSkpXG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBhZGRQYWNrQXJlYShhZGRQYWNrQXJlYVdpZHRoID0gbnVsbCxhZGRQYWNrQXJlYUhlaWdodCA9IG51bGwpIHtcbiAgICBpZiAoIWFkZFBhY2tBcmVhV2lkdGgpIHthZGRQYWNrQXJlYVdpZHRoID0gdGhpcy5kZWZhdWx0UGFja0FyZWFXaWR0aH07XG4gICAgaWYgKCFhZGRQYWNrQXJlYUhlaWdodCkge2FkZFBhY2tBcmVhSGVpZ2h0ID0gdGhpcy5kZWZhdWx0UGFja0FyZWFIZWlnaHR9O1xuICAgIGxldCBwYWNrQXJlYUluZGV4ID0gKyt0aGlzLnBhY2tBcmVhTWF4SW5kZXg7XG4gICAgbGV0IG5ld1BhY2tBcmVhID0ge1xuICAgICAgeDogMCxcbiAgICAgIHk6IDAsXG4gICAgICB3OiBhZGRQYWNrQXJlYVdpZHRoLFxuICAgICAgaDogYWRkUGFja0FyZWFIZWlnaHQsXG4gICAgICBhOiBwYWNrQXJlYUluZGV4XG4gICAgfVxuXG4gICAgdGhpcy5wYWNrQXJlYURlZmluaXRpb25zLnB1c2goT2JqZWN0LmFzc2lnbih7fSxuZXdQYWNrQXJlYSkpO1xuICAgIHRoaXMuYXZhaWxhYmxlSGVhcC5wdXNoKG5ld1BhY2tBcmVhKTtcbiAgICByZXR1cm4gbmV3UGFja0FyZWE7XG4gIH1cblxuICBncm93UGFja0FyZWEoZ3Jvd1RvRml0V2lkdGgsZ3Jvd1RvRml0SGVpZ2h0LHBhY2tBcmVhSWQgPSAtMSkge1xuICAgIC8vIGNvbnNvbGUubG9nKCdHcm93aW5nIFBhY2sgQXJlYScsZ3Jvd1RvRml0V2lkdGgsZ3Jvd1RvRml0SGVpZ2h0LHRoaXMuYXZhaWxhYmxlSGVhcCk7XG4gICAgLy9UT0RPOiBNYXkgbmVlZCByZXdvcmsgYXMgdGhpcyB3aWxsIHVuZWNjZXNzYXJpbHkgYWRkIGdyb3d0aCBiZWNhdXNlIGl0XG4gICAgLy8gICAgICBpZ25vcmVzIGFueSBleGlzdGluZyBoZWFwOyBlLmcuIGlmIHRoZSBibG9jayBhbG1vc3QgZml0IGluIHRoZSBIZWFwXG4gICAgLy8gICAgICBhbmQgb25seSBuZWVkcyBhIGZldyBtb3JlIG1tLCB0aGlzIHdpbGwgc3RpbGwgYWRkIHRoZSBmdWxsIHNwYWNlIGZvciB0aGUgYmxvY2tcbiAgICAvL0ZJWDogIEFkZCBpbiB0cmltbWluZyBkb3duIHBhY2tBcmVhcyBieSByZW1vdmluZyBvciB0cmltbWluZyB1bnVzZWQgaGVhcHNcbiAgICAvL0ZJWDogIFNob3VsZCBmaXJzdCBsb29rIGZvciB0aGUgbmVhcmVzdCBlZGdlIGZhY2luZyBoZWFwIHRoYXQgbWF0Y2hlcyBhbmQgdXNlIHRoYXQ/XG5cbiAgICAvKipcbiAgICAgKiBGSVhNRTogQWRkaW5nIHRvIHRoZSBleGlzdGluZyBwYWNrIGFyZWFzIGRvZXMgbm90IGFsd2F5cyBhZGQgZW5vdWdoIHNwYWNlIChzaW5jZSB0aGUgaGVhcCBhcmVhcyBtYXkgbm90IGJlIGNvbnRpZ3VvdXMgaGVuY2Ugc3RpbGwgbWF5IG5vdCBoYXZlIGVub3VnaCBzcGFjZS4pXG4gICAgICBUZW1wb3JhcnkgZml4IGlzIHRvIGp1c3QgYWRkIGhlYXBzIHJhdGhlciB0aGFuIGV4dGVuZGluZz9cbiAgICAgKi9cblxuICAgIC8vQWRkIHRoZSBzaXplIHRvIHRoZSBwYWNrQXJlYVxuICAgIGxldCBlZGl0aW5nUGFja0FyZWEgPSBudWxsO1xuICAgIGlmIChwYWNrQXJlYUlkIDwgMCkge1xuICAgICAgLy9JZiBub3Qgc3BlY2lmaWVkIGp1c3QgdXNlIHRoZSBsYXN0IG9uZVxuICAgICAgZWRpdGluZ1BhY2tBcmVhID0gdGhpcy5wYWNrQXJlYURlZmluaXRpb25zW3RoaXMucGFja0FyZWFEZWZpbml0aW9ucy5sZW5ndGgtMV07XG4gICAgfSBlbHNlIHtcbiAgICAgIGVkaXRpbmdQYWNrQXJlYSA9IHRoaXMucGFja0FyZWFEZWZpbml0aW9ucy5maW5kKChwYWNrQXJlYSkgPT4gKHBhY2tBcmVhLmlkID09IHBhY2tBcmVhSWQpKTtcbiAgICB9XG5cbiAgICAvL0RlY2lkZSBvbiB3aGljaCBwcmltYXJ5IHNpZGUgdG8gZ3JvdyB0aGUgcGFjayBhcmVhXG4gICAgLy9DaG9vc2UgdGhlIHNpemUgdGhhdCB3aWxsIGluY3JlYXNlIHRoZSBwYWNrIGFyZWEgdGhlIGxlYXN0XG4gICAgbGV0IGdyb3dPbldpZHRoUmF0aW8gPSAoZWRpdGluZ1BhY2tBcmVhLncgKyBncm93VG9GaXRXaWR0aCkgLyAoTWF0aC5tYXgoZWRpdGluZ1BhY2tBcmVhLmgsZ3Jvd1RvRml0SGVpZ2h0KSk7XG4gICAgbGV0IGdyb3dPbkhlaWdodFJhdGlvID0gKGVkaXRpbmdQYWNrQXJlYS5oICsgZ3Jvd1RvRml0SGVpZ2h0KSAvIChNYXRoLm1heChlZGl0aW5nUGFja0FyZWEudyxncm93VG9GaXRXaWR0aCkpO1xuICAgIC8vQ2hvb3NlIHRoZSBsb3dlc3QgcmF0aW8gc28gdGhlIHBhY2sgYXJlYSBncm93cyBhcyBtb3N0bHkgYSBzcXVhcmVcbiAgICAvL0ZJWE1FOiBDaGFuZ2UgZnJvbSBsb3dlc3QgcmF0aW8gdG8gYmUgY2xvc2VzdCB0byAxXG4gICAgbGV0IGdyb3dPbldpZHRoID0gKGVkaXRpbmdQYWNrQXJlYS53ICsgZ3Jvd1RvRml0V2lkdGgpIDwgKGVkaXRpbmdQYWNrQXJlYS5oICsgZ3Jvd1RvRml0SGVpZ2h0KSA7XG4gICAgbGV0IGFjdHVhbEZpbmFsV2lkdGggPSAoZ3Jvd09uV2lkdGg/ZWRpdGluZ1BhY2tBcmVhLncgKyBncm93VG9GaXRXaWR0aDpNYXRoLm1heChlZGl0aW5nUGFja0FyZWEudyxncm93VG9GaXRXaWR0aCkpO1xuICAgIGxldCBhY3R1YWxGaW5hbEhlaWdodCA9IChncm93T25XaWR0aD9NYXRoLm1heChlZGl0aW5nUGFja0FyZWEuaCxncm93VG9GaXRIZWlnaHQpOmVkaXRpbmdQYWNrQXJlYS5oICsgZ3Jvd1RvRml0SGVpZ2h0KTtcblxuICAgIC8vZmluZCB0aGUgeCBzaWRlIGVkZ2VzXG4gICAgbGV0IHBhY2tBcmVhSGVhcHMgPSB0aGlzLmF2YWlsYWJsZUhlYXAuZmlsdGVyKChoZWFwKSA9PiAoaGVhcC5hID09IGVkaXRpbmdQYWNrQXJlYS5hKSk7XG5cbiAgICBsZXQgcmlnaHRTaWRlSGVhcHMgPSBwYWNrQXJlYUhlYXBzLmZpbHRlcigoaGVhcCkgPT4gKGhlYXAueCtoZWFwLncgPT0gZWRpdGluZ1BhY2tBcmVhLncpKTtcbiAgICBsZXQgYm90dG9tU2lkZUhlYXBzID0gcGFja0FyZWFIZWFwcy5maWx0ZXIoKGhlYXApID0+IChoZWFwLnkraGVhcC5oID09IGVkaXRpbmdQYWNrQXJlYS5oKSk7XG5cblxuICAgIGxldCByaWdodFNpZGVEZWx0YSA9IGFjdHVhbEZpbmFsV2lkdGggLSBlZGl0aW5nUGFja0FyZWEudztcbiAgICBsZXQgYm90dG9tU2lkZURlbHRhID0gYWN0dWFsRmluYWxIZWlnaHQgLSBlZGl0aW5nUGFja0FyZWEuaDtcblxuXG4gICAgLy8vSW5zdGVhZCBvZiBleHRlbmRlZCBoZWFwcyAtIG5lZWQgdG8gYWRkIG5ldyBvbmVzXG4gICAgaWYgKGdyb3dPbldpZHRoKSB7XG4gICAgICAvL1B1c2ggdGhlIGhlYXAgZm9yIHRoZSBibG9jayAob24gdGhlIHJpZ2h0KVxuICAgICAgdGhpcy5hdmFpbGFibGVIZWFwLnB1c2goe1xuICAgICAgICBzOiAxLFxuICAgICAgICBhOiBlZGl0aW5nUGFja0FyZWEuYSxcbiAgICAgICAgeDogZWRpdGluZ1BhY2tBcmVhLnggKyBlZGl0aW5nUGFja0FyZWEudyxcbiAgICAgICAgeTogZWRpdGluZ1BhY2tBcmVhLnksXG4gICAgICAgIHc6IHJpZ2h0U2lkZURlbHRhLFxuICAgICAgICBoOiBlZGl0aW5nUGFja0FyZWEuaCArIGJvdHRvbVNpZGVEZWx0YVxuICAgICAgfSlcbiAgICAgIC8vUHVzaCB0aGUgcmVtYWluaW5nIGhlYXBcbiAgICAgIHRoaXMuYXZhaWxhYmxlSGVhcC5wdXNoKHtcbiAgICAgICAgczogMixcbiAgICAgICAgYTogZWRpdGluZ1BhY2tBcmVhLmEsXG4gICAgICAgIHg6IGVkaXRpbmdQYWNrQXJlYS54LFxuICAgICAgICB5OiBlZGl0aW5nUGFja0FyZWEueSArIGVkaXRpbmdQYWNrQXJlYS5oLFxuICAgICAgICB3OiBlZGl0aW5nUGFja0FyZWEudyxcbiAgICAgICAgaDogYm90dG9tU2lkZURlbHRhXG4gICAgICB9KVxuICAgIH0gZWxzZSB7XG4gICAgICAvL1B1c2ggdGhlIGhlYXAgZm9yIHRoZSBibG9jayAoYXQgdGhlIGJvdHRvbSlcbiAgICAgIHRoaXMuYXZhaWxhYmxlSGVhcC5wdXNoKHtcbiAgICAgICAgZTogMSxcbiAgICAgICAgYTogZWRpdGluZ1BhY2tBcmVhLmEsXG4gICAgICAgIHg6IGVkaXRpbmdQYWNrQXJlYS54LFxuICAgICAgICB5OiBlZGl0aW5nUGFja0FyZWEueSArIGVkaXRpbmdQYWNrQXJlYS5oLFxuICAgICAgICB3OiBlZGl0aW5nUGFja0FyZWEudyArIHJpZ2h0U2lkZURlbHRhLFxuICAgICAgICBoOiBib3R0b21TaWRlRGVsdGFcbiAgICAgIH0pXG4gICAgICAvL1B1c2ggdGhlIHJlbWFpbmluZyBoZWFwXG4gICAgICB0aGlzLmF2YWlsYWJsZUhlYXAucHVzaCh7XG4gICAgICAgIGU6IDIsXG4gICAgICAgIGE6IGVkaXRpbmdQYWNrQXJlYS5hLFxuICAgICAgICB4OiBlZGl0aW5nUGFja0FyZWEueCArIGVkaXRpbmdQYWNrQXJlYS53LFxuICAgICAgICB5OiBlZGl0aW5nUGFja0FyZWEueSxcbiAgICAgICAgdzogcmlnaHRTaWRlRGVsdGEsXG4gICAgICAgIGg6IGVkaXRpbmdQYWNrQXJlYS5oXG4gICAgICB9KVxuICAgIH1cblxuICAgIC8vcmVzaXplIHRoZSBwYWNrIGFyZWFcbiAgICBlZGl0aW5nUGFja0FyZWEudyA9IGFjdHVhbEZpbmFsV2lkdGg7XG4gICAgZWRpdGluZ1BhY2tBcmVhLmggPSBhY3R1YWxGaW5hbEhlaWdodDtcblxuXG4gICAgLy9UT0RPOiBVc2UgdGhlIHNwYWNlIG1vcmUgZWZmaWNpZW50bHkgYnkgcmVjbGFpbWluZyBlbXB0eSBoZWFwc1xuICAgIC8vQ0FOQ0VMXG4gICAgLy8gcmlnaHRTaWRlSGVhcHMuZm9yRWFjaCgoaGVhcCkgPT4ge1xuICAgIC8vICAgaGVhcC53ID0gaGVhcC53ICsgcmlnaHRTaWRlRGVsdGE7XG4gICAgLy8gfSk7XG4gICAgLy9cbiAgICAvLyBib3R0b21TaWRlSGVhcHMuZm9yRWFjaCgoaGVhcCkgPT4ge1xuICAgIC8vICAgaGVhcC5oID0gaGVhcC5oICsgYm90dG9tU2lkZURlbHRhO1xuICAgIC8vIH0pO1xuICAgIC8vQ0FOQ0VMXG5cblxuICAgIC8vIGNvbnNvbGUubG9nKCdHcm93biBQYWNrIEFyZWEnLHJpZ2h0U2lkZURlbHRhLGJvdHRvbVNpZGVEZWx0YSx0aGlzLnBhY2tBcmVhRGVmaW5pdGlvbnMscGFja0FyZWFIZWFwcyxyaWdodFNpZGVIZWFwcyxib3R0b21TaWRlSGVhcHMpO1xuICAgIHRoaXMuc29ydEhlYXBGb3JQYWNraW5nKCk7XG4gIH1cblxuICBzb3J0QmxvY2tzRm9yUGFja2luZyhibG9ja3NUb1BhY2spIHtcbiAgICBibG9ja3NUb1BhY2suc29ydCgoYSxiKSA9PiB7XG4gICAgICByZXR1cm4gKChiLncqYi5oKSAtIChhLncqYS5oKSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGJsb2Nrc1RvUGFjaztcbiAgfVxuXG4gIHNvcnRIZWFwRm9yUGFja2luZygpIHtcbiAgICAvL1NvcnQgc21hbGxlc3QgdG8gbGFyZ2VzdCB0byBlbmNvdXJhZ2UgaXRlbXMgdG8gZ28gaW50byB0aGUgdGlnaHRlc3QgZml0ICh0byBnZW5lcmF0ZSB0aGUgbGVhc3QgbnVtYmVyIG9mIGxlZnQtb3ZlcnNcbiAgICB0aGlzLmF2YWlsYWJsZUhlYXAuc29ydCgoYSxiKSA9PiB7XG4gICAgICBsZXQgYXJlYUEgPSBhLncqYS5oO1xuICAgICAgbGV0IGFyZWFCID0gYi53KmIuaDtcbiAgICAgIHJldHVybiBhcmVhQSAtIGFyZWFCO1xuICAgIH0pO1xuICB9XG5cbiAgc3BsaXRSZW1haW5pbmdIZWFwKGhlYXBBcmVhLGJsb2NrKSB7XG4gICAgbGV0IHNwbGl0QSwgc3BsaXRCO1xuICAgIGlmICgoaGVhcEFyZWEudyAtIGJsb2NrLncpID49IChoZWFwQXJlYS5oIC0gYmxvY2suaCkpIHtcbiAgICAgIHNwbGl0QSA9IHtcbiAgICAgICAgeDogaGVhcEFyZWEueCArIGJsb2NrLncsXG4gICAgICAgIHk6IGhlYXBBcmVhLnksXG4gICAgICAgIHc6IGhlYXBBcmVhLncgLSBibG9jay53LFxuICAgICAgICBoOiBoZWFwQXJlYS5oXG4gICAgICB9XG4gICAgICBzcGxpdEIgPSB7XG4gICAgICAgIHg6IGhlYXBBcmVhLngsXG4gICAgICAgIHk6IGhlYXBBcmVhLnkgKyBibG9jay5oLFxuICAgICAgICB3OiBibG9jay53LFxuICAgICAgICBoOiBoZWFwQXJlYS5oIC0gYmxvY2suaFxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzcGxpdEEgPSB7XG4gICAgICAgIHg6IGhlYXBBcmVhLngsXG4gICAgICAgIHk6IGhlYXBBcmVhLnkgKyBibG9jay5oLFxuICAgICAgICB3OiBoZWFwQXJlYS53LFxuICAgICAgICBoOiBoZWFwQXJlYS5oIC0gYmxvY2suaFxuICAgICAgfVxuICAgICAgc3BsaXRCID0ge1xuICAgICAgICB4OiBoZWFwQXJlYS54ICsgYmxvY2sudyxcbiAgICAgICAgeTogaGVhcEFyZWEueSxcbiAgICAgICAgdzogaGVhcEFyZWEudyAtIGJsb2NrLncsXG4gICAgICAgIGg6IGJsb2NrLmhcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzcGxpdEEuYSA9IGhlYXBBcmVhLmE7XG4gICAgc3BsaXRCLmEgPSBoZWFwQXJlYS5hO1xuICAgIHJldHVybiBbc3BsaXRBLHNwbGl0Ql07XG4gIH1cblxuXG5cbiAgcGFja0Jsb2NrSW5BdmFpbGFibGVBcmVhcyhibG9jaykge1xuICAgIGxldCBibG9ja1BhY2tlZCA9IGZhbHNlO1xuICAgIC8vdHJ5IHRvIGZpbmQgYSBoZWFwIGFyZWEgdGhhdCBmaXRzIHRoZSBibG9ja1xuICAgIGxldCBmaXR0aW5nSGVhcEluZGV4ID0gdGhpcy5hdmFpbGFibGVIZWFwLmZpbmRJbmRleCgoaGVhcEFyZWEpID0+IHtcbiAgICAgIHJldHVybiAoKGhlYXBBcmVhLncgPj0gYmxvY2sudykgJiYgKGhlYXBBcmVhLmggPj0gYmxvY2suaCkpXG4gICAgfSk7XG5cbiAgICAvL0lmIHJvdGF0aW9uIGlzIGFsbG93ZWQgLSB0cnkgYWdhaW4gbG9va2luZyBmb3IgdGhlIGhlYXBJbmRleCAtPiBzaW5jZSB0aGUgaGVhcCBpcyBzb3J0ZWQgc21hbGxlc3QgdG8gbGFyZ2VzdCB0aGVuIHRoZSBsb3dlciBJbmRleCB3aWxsIGJlIHRoZVxuICAgIC8vYmV0dGVyIGhlYXAgc2xvdC4gKE9SIHNwZWNpZmljYWxseSBpZiBpdCBkb2Vzbid0IGZpdCByb3RhdGUgaXQgYW5kIGdvIGxvb2tpbmcpXG4gICAgLy9BbHRob3VnaCB0aGlzIGlzIHdlaXJkIHNpbmNlIHRoZSBhcmVhIGRvZXNuJ3QgY2hhbmdlXG4gICAgLy9pZiBpdCBkaWRuJ3QgZml0IC0gdGhlbiByb3RhdGUgaXQgYW5kIGdvIHNlYXJjaGluZyBhZ2FpbiAtIHJlY29yZCB0aGF0IGl0IHdhcyByb3RhdGVkXG5cbiAgICAvLyBjb25zb2xlLmxvZyhibG9jayxmaXR0aW5nSGVhcEluZGV4KTtcbiAgICBpZiAoZml0dGluZ0hlYXBJbmRleCA+IC0xKSB7XG4gICAgICBsZXQgZml0dGluZ0hlYXAgPSB0aGlzLmF2YWlsYWJsZUhlYXBbZml0dGluZ0hlYXBJbmRleF07XG4gICAgICAvL0Jsb2NrIGZpdHMgaW4gdGhpcyBoZWFwXG4gICAgICAvL2Fzc2lnbiB0aGUgYmxvY2sgYXMgcGFja2VkIGFuZCB0aGVuIHNwbGl0IHJlbWFpbmluZyBhcmVhIG9mIHRoZSBoZWFwXG4gICAgICBsZXQgcGFja2VkQmxvY2sgPSB7XG4gICAgICAgIHc6IGJsb2NrLncsXG4gICAgICAgIGg6IGJsb2NrLmgsXG4gICAgICAgIHg6IGZpdHRpbmdIZWFwLngsXG4gICAgICAgIHk6IGZpdHRpbmdIZWFwLnksXG4gICAgICAgIGE6IGZpdHRpbmdIZWFwLmEsXG4gICAgICAgIGlkOiBibG9jay5pZCxcbiAgICAgICAgcm90YXRlZDogYmxvY2sucm90YXRlZCxcbiAgICAgICAgbW9kZWw6IGJsb2NrLm1vZGVsXG4gICAgICB9XG4gICAgICB0aGlzLnBhY2tlZEJsb2Nrcy5wdXNoKHBhY2tlZEJsb2NrKTtcblxuICAgICAgbGV0IGhlYXBSZW1haW5pbmcgPSB0aGlzLnNwbGl0UmVtYWluaW5nSGVhcChmaXR0aW5nSGVhcCxibG9jayk7XG4gICAgICB0aGlzLmF2YWlsYWJsZUhlYXAuc3BsaWNlKGZpdHRpbmdIZWFwSW5kZXgsMSxoZWFwUmVtYWluaW5nWzBdLGhlYXBSZW1haW5pbmdbMV0pO1xuICAgICAgdGhpcy5zb3J0SGVhcEZvclBhY2tpbmcoKTtcbiAgICAgIGJsb2NrUGFja2VkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gYmxvY2tQYWNrZWQ7XG4gIH1cblxuXG5cbiAgLy9UT0RPOiB0cmltIGVtcHR5IHBhY2sgYXJlYXNcblxuICAvL1RPRE86IFRyaW0gemVybyBoZWFwIGFyZWFzXG4gIHRyaW1FbXB0eVBhY2tBcmVhcygpIHtcbiAgICB0aGlzLnBhY2tBcmVhRGVmaW5pdGlvbnMgPSB0aGlzLnBhY2tBcmVhRGVmaW5pdGlvbnMuZmlsdGVyKChwYWNrQXJlYSkgPT4ge1xuICAgICAgcmV0dXJuICh0aGlzLnBhY2tlZEJsb2Nrcy5maWx0ZXIoKGJsb2NrKSA9PiAoYmxvY2suYSA9PSBwYWNrQXJlYS5hKSkubGVuZ3RoID4gMCk7XG4gICAgfSk7XG5cbiAgICBsZXQgdmFsaWRQYWNrQXJlYXMgPSB0aGlzLnBhY2tBcmVhRGVmaW5pdGlvbnMubWFwKChwYWNrQXJlYSkgPT4gKHBhY2tBcmVhLmEpKTtcbiAgICB0aGlzLmF2YWlsYWJsZUhlYXAgPSB0aGlzLmF2YWlsYWJsZUhlYXAuZmlsdGVyKChoZWFwKSA9PiB7XG4gICAgICByZXR1cm4gIHZhbGlkUGFja0FyZWFzLmluY2x1ZGVzKGhlYXAuYSk7XG4gICAgfSk7XG4gIH1cblxuICBwYWNrQmxvY2soYmxvY2spIHtcblxuICAgIC8vRW5zdXJlIGF0bGVhc3QgMSBwYWNrIGFyZWEgZXhpc3RzXG4gICAgaWYgKHRoaXMucGFja0FyZWFEZWZpbml0aW9ucy5sZW5ndGggPCAxKSB7XG4gICAgICB0aGlzLmFkZFBhY2tBcmVhKCk7XG4gICAgfVxuXG4gICAgLy9UcmltIGFueSBlbXB0eSBwYWNrIGFyZWFzIC1cbiAgICBsZXQgYmxvY2tQYWNrZWQgPSB0aGlzLnBhY2tCbG9ja0luQXZhaWxhYmxlQXJlYXMoYmxvY2spO1xuICAgIC8qXG4gICAgICBUbyBncm93IHBhY2sgYXJlYXMgLVxuICAgICAgICAxLiBmaW5kIHRoZSBoZWFwIGFyZWFzIHRoYXQgaGF2ZSAyIG9yIGxlc3MgbmVpZ2hib3VycyAoaS5lLiBub3Qgc3Vycm91bmRlZClcbiAgICAgICAgMi4gRmluZCB3aGljaCBvZiB0aGVzZSBpcyB0aGUgbmVhcmVzdCBmaXRcbiAgICAgICAgMy4gaW5jcmVhc2UgdGhlIHNpemUgb2YgdGhlIGhlYXAgYXJlYSB0byBmaXRcbiAgICAgICAgNC4gSW5jcmVhc2UgdGhlIHNpemUgb2YgaXRzIHBhcmVudCBwYWNrIGFyZWEgdG8gYWNjb3VudCBmb3IgdGhlIGFkZGVkIHNwYWNlLlxuICAgICAgICAtLS0tLS0tLS1cbiAgICAgICAgb3IgZmluZCBhIHdheSB0byBncm93IGEgcGFja2FyZWEgLSBhbmQga25vdyBob3cgdG8gZ3JvdyB0aGUgYWZmZWN0ZWQgaGVhcCBhcmVhcz8gKGFuZCBhZGQgYW55IGhlYXAgYXJlYXMgYXMgcmVxdWlyZWQpXG4gICAgICAgIC0tIEZpbmQgaGVhcHMgYmxvY2tzIHRoYXQgZW5kZWQgYXQgdGhlIHByZXZpb3VzIGxpbWl0IChlLmcuIGguWCtoLlcgPSBQYWNrYXJlYS5XKVxuICAgICAgICAtLSBJbmNyZWFzZSB0aGUgc2l6ZSBvZiB0aGUgcGFjayBhcmVhIGRpbWVuc2lvbiAoUGFja2FyZWEuVyArIDEpXG4gICAgICAgIC0tIEluY3JlYXNlIHRoZSBwcmV2aW91c2x5IGlkZW50aWZpZWQgaGVhcCBhcmVhcyBieSB0aGUgYW1vdW50IChoLncrMSk7XG4gICAgICAgIC0tIFJlcGFja1xuICAgICovXG4gICAgLy9Hcm93IHRha2VzIHByZWNlZGVuY2VcbiAgICBpZiAoKCFibG9ja1BhY2tlZCkgJiYgKHRoaXMuY2FuR3Jvd1BhY2tBcmVhKSkge1xuICAgICAgLy8rMSBhbGxvd3MgZm9yIHdlaXJkIHJvdW5kaW5nIGlzc3Vlc1xuICAgICAgLy8gY29uc29sZS5sb2coJ1JFcXVlc3RpbmcgR3JvdyBQYWNrIGFyZWEgZm9yJyxibG9jayk7XG4gICAgICB0aGlzLmdyb3dQYWNrQXJlYShibG9jay53KzEsYmxvY2suaCsxKTtcbiAgICAgIC8vdHJ5IGFnYWluXG4gICAgICBibG9ja1BhY2tlZCA9IHRoaXMucGFja0Jsb2NrSW5BdmFpbGFibGVBcmVhcyhibG9jayk7XG4gICAgICAvLyBjb25zb2xlLmxvZygnQWZ0ZXIgR3JvdyBQYWNrZWQ/JyxibG9ja1BhY2tlZCxibG9jaylcbiAgICB9XG4gICAgaWYgKCghYmxvY2tQYWNrZWQpICYmICh0aGlzLmNhbkFkZFBhY2tBcmVhcykpIHtcbiAgICAgIC8vQWRkIGEgbmV3IGRlZmF1bHQgcGFjayBhcmVhIGFuZCB0cnkgYWdhaW5cbiAgICAgIHRoaXMuYWRkUGFja0FyZWEoKTtcbiAgICAgIGJsb2NrUGFja2VkID0gdGhpcy5wYWNrQmxvY2tJbkF2YWlsYWJsZUFyZWFzKGJsb2NrKTtcbiAgICAgIC8vZG9uJ3QgbG9vcCBpZiBpdCBkaWRudCBmaXQgYWZ0ZXIgYWRkaW5nIG9uZSBhcmVhIC0gaXQgd29uJ3QgZml0LlxuICAgIH1cblxuICAgIGlmICghYmxvY2tQYWNrZWQpIHtcbiAgICAgIC8vVHJpbSBlbXB0eSBwYWNrIGFyZWFzIChyZW1vdmUgdGhlIG9uZSB3ZSBqc3V0IGFkZGVkXG4gICAgICAvL01ha2Ugc3VyZSBhdGxlYXN0IDEgaXMgbGVmdFxuICAgICAgdGhpcy50cmltRW1wdHlQYWNrQXJlYXMoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYmxvY2tQYWNrZWQ7XG4gIH1cbn1cbiIsImltcG9ydCBtYWtlcmpzIGZyb20gJ21ha2VyanMnO1xuaW1wb3J0IHsgRW1wdHlNb2RlbCB9IGZyb20gJy4vY29kZXJ1bm5lci9lbXB0eW1vZGVsLmpzJztcblxuZXhwb3J0IGNsYXNzIE1vZGVsU3BsaXR0ZXIgIHtcblxuICB0cmltTW9kZWxUb0xpbmUobW9kZWxUb1NsaWNlLGxpbmVBdCxrZWVwUG9zaXRpdmVTaWRlID0gdHJ1ZSwgYWxvbmdYQXhpcyA9IHRydWUsIG92ZXJsYXAgPSA1LCBpbmNsdWRlQ3V0dGluZ0xpbmVIaW50ID0gdHJ1ZSwgYXNDbG9uZSA9IHRydWUpIHtcbiAgICBjb25zdCBjdXR0ZXJQYXRoRXh0ZW5zaW9uID0gMC4yO1xuICAgIGNvbnN0IGN1dHRlclBhdGhIaW50TGluZUV4dGVuc2lvbiA9IDNcbiAgICAvL0Nsb25lIG9yIG5vdCB0aGUgbW9kZWxcbiAgICBpZiAoYXNDbG9uZSkge1xuICAgICAgbW9kZWxUb1NsaWNlID0gbWFrZXJqcy5tb2RlbC5jbG9uZShtb2RlbFRvU2xpY2UpO1xuICAgIH1cblxuICAgIGxldCBtb2RlbFNpemUgPSBtYWtlcmpzLm1lYXN1cmUubW9kZWxFeHRlbnRzKG1vZGVsVG9TbGljZSk7XG4gICAgY29uc29sZS5sb2coJ0N1dHRpbmcnKTtcblxuICAgIC8vQ3JlYXRlIHRoZSBjdXR0ZXIgcGllY2VzXG4gICAgbGV0IGN1dHRlclBhdGgsIGJvdW5kaW5nQm94O1xuICAgIGxldCBib3VuZGluZ0JveFdpZHRoLCBib3VuZGluZ0JveE9mZnNldFgsIGJvdW5kaW5nQm94SGVpZ2h0LCBib3VuZGluZ0JveE9mZnNldFk7XG5cbiAgICBpZiAoYWxvbmdYQXhpcykge1xuICAgICAgY3V0dGVyUGF0aCA9IG5ldyBtYWtlcmpzLnBhdGhzLkxpbmUoXG4gICAgICAgIFttb2RlbFNpemUubG93WzBdK2xpbmVBdCsoa2VlcFBvc2l0aXZlU2lkZT8tb3ZlcmxhcDpvdmVybGFwKSxtb2RlbFNpemUubG93WzFdIC0gKG1vZGVsU2l6ZS5oZWlnaHQqY3V0dGVyUGF0aEV4dGVuc2lvbildLFxuICAgICAgICBbbW9kZWxTaXplLmxvd1swXStsaW5lQXQrKGtlZXBQb3NpdGl2ZVNpZGU/LW92ZXJsYXA6b3ZlcmxhcCksbW9kZWxTaXplLmhpZ2hbMV0gKyAobW9kZWxTaXplLmhlaWdodCpjdXR0ZXJQYXRoRXh0ZW5zaW9uKV1cbiAgICAgICk7XG5cbiAgICAgIGJvdW5kaW5nQm94V2lkdGggPSAoa2VlcFBvc2l0aXZlU2lkZT8obW9kZWxTaXplLndpZHRoLWxpbmVBdCk6KGxpbmVBdCkpICsgKG92ZXJsYXAqMik7XG4gICAgICBib3VuZGluZ0JveE9mZnNldFggPSAoa2VlcFBvc2l0aXZlU2lkZT8obW9kZWxTaXplLmxvd1swXStsaW5lQXQtb3ZlcmxhcCk6KG1vZGVsU2l6ZS5sb3dbMF0tb3ZlcmxhcCkpO1xuICAgICAgYm91bmRpbmdCb3hIZWlnaHQgPSBtb2RlbFNpemUuaGVpZ2h0ICsgKG92ZXJsYXAqMik7XG4gICAgICBib3VuZGluZ0JveE9mZnNldFkgPSBtb2RlbFNpemUubG93WzFdIC0gb3ZlcmxhcDtcbiAgICB9IGVsc2Uge1xuICAgICAgY3V0dGVyUGF0aCA9IG5ldyBtYWtlcmpzLnBhdGhzLkxpbmUoXG4gICAgICAgIFttb2RlbFNpemUubG93WzBdIC0gKG1vZGVsU2l6ZS53aWR0aCpjdXR0ZXJQYXRoRXh0ZW5zaW9uKSwgbW9kZWxTaXplLmxvd1sxXStsaW5lQXQrKGtlZXBQb3NpdGl2ZVNpZGU/LW92ZXJsYXA6b3ZlcmxhcCldLFxuICAgICAgICBbbW9kZWxTaXplLmhpZ2hbMF0gKyAobW9kZWxTaXplLndpZHRoKmN1dHRlclBhdGhFeHRlbnNpb24pLCBtb2RlbFNpemUubG93WzFdK2xpbmVBdCsoa2VlcFBvc2l0aXZlU2lkZT8tb3ZlcmxhcDpvdmVybGFwKV1cbiAgICAgICk7XG5cbiAgICAgIGJvdW5kaW5nQm94V2lkdGggPSBtb2RlbFNpemUud2lkdGggKyAob3ZlcmxhcCoyKTtcbiAgICAgIGJvdW5kaW5nQm94T2Zmc2V0WCA9IG1vZGVsU2l6ZS5sb3dbMF0gLSBvdmVybGFwO1xuICAgICAgYm91bmRpbmdCb3hIZWlnaHQgPSAoa2VlcFBvc2l0aXZlU2lkZT8obW9kZWxTaXplLmhlaWdodC1saW5lQXQpOihsaW5lQXQpKSArIChvdmVybGFwKjIpO1xuICAgICAgYm91bmRpbmdCb3hPZmZzZXRZID0gKGtlZXBQb3NpdGl2ZVNpZGU/KG1vZGVsU2l6ZS5sb3dbMF0rbGluZUF0LW92ZXJsYXApOihtb2RlbFNpemUubG93WzBdLW92ZXJsYXApKTtcbiAgICB9XG4gICAgYm91bmRpbmdCb3ggPSBtYWtlcmpzLm1vZGVsLm1vdmUoXG4gICAgICBuZXcgbWFrZXJqcy5tb2RlbHMuUmVjdGFuZ2xlKGJvdW5kaW5nQm94V2lkdGgsYm91bmRpbmdCb3hIZWlnaHQpLFxuICAgICAgW2JvdW5kaW5nQm94T2Zmc2V0WCxib3VuZGluZ0JveE9mZnNldFldXG4gICAgKTtcbiAgICBjb25zb2xlLmxvZyhtb2RlbFNpemUsYm91bmRpbmdCb3hPZmZzZXRYLGJvdW5kaW5nQm94V2lkdGgsYm91bmRpbmdCb3hPZmZzZXRZLGJvdW5kaW5nQm94LGJvdW5kaW5nQm94SGVpZ2h0KTtcblxuICAgIC8vSnN1dCBicmVhayB0aGUgcGF0aHMgYXBhcnQgdG8gc3RhcnQgd2l0aFxuICAgIG1ha2VyanMubW9kZWwud2Fsayhtb2RlbFRvU2xpY2Use1xuICAgICAgb25QYXRoOiAoY29udGV4dCkgPT4ge1xuICAgICAgICBsZXQgcGF0aEludGVyc2VjdGlvbiA9IG1ha2VyanMucGF0aC5pbnRlcnNlY3Rpb24oY29udGV4dC5wYXRoQ29udGV4dCxjdXR0ZXJQYXRoKTtcbiAgICAgICAgaWYgKHBhdGhJbnRlcnNlY3Rpb24pe1xuICAgICAgICAgIHBhdGhJbnRlcnNlY3Rpb24uaW50ZXJzZWN0aW9uUG9pbnRzLmZvckVhY2goaW50ZXJzZWN0aW9uUG9pbnQgPT4ge1xuICAgICAgICAgICAgbGV0IGFkZFBhdGggPSBtYWtlcmpzLnBhdGguYnJlYWtBdFBvaW50KGNvbnRleHQucGF0aENvbnRleHQsaW50ZXJzZWN0aW9uUG9pbnQpO1xuICAgICAgICAgICAgbWFrZXJqcy5tb2RlbC5hZGRQYXRoKGNvbnRleHQubW9kZWxDb250ZXh0LGFkZFBhdGgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgLy8gLy9Ob3cgd2FsayBhZ2FpbiB0cmltbWluZyBpdGVtcyB0aGF0IGFyZW4ndCBpbiB0aGUgYm91bmRpbmcgYm94XG4gICAgbWFrZXJqcy5tb2RlbC53YWxrKG1vZGVsVG9TbGljZSx7XG4gICAgICBvblBhdGg6IChjb250ZXh0KSA9PiB7XG4gICAgICAgIGlmICghbWFrZXJqcy5tb2RlbC5pc1BhdGhJbnNpZGVNb2RlbChjb250ZXh0LnBhdGhDb250ZXh0LGJvdW5kaW5nQm94LGNvbnRleHQub2Zmc2V0KSkge1xuICAgICAgICAgIGRlbGV0ZSBjb250ZXh0Lm1vZGVsQ29udGV4dC5wYXRoc1tjb250ZXh0LnBhdGhJZF1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy9BZGQgdGhlIGN1dCBsaW5lIGhpbnQgbGluZSAtIGlnbm9yaW5nIG92ZXJsYXBcbiAgICBpZiAoaW5jbHVkZUN1dHRpbmdMaW5lSGludCkge1xuICAgICAgbGV0IGN1dHRpbmdMaW5lSGludDtcbiAgICAgIGlmIChhbG9uZ1hBeGlzKSB7XG4gICAgICAgIGN1dHRpbmdMaW5lSGludCA9IG5ldyBtYWtlcmpzLnBhdGhzLkxpbmUoXG4gICAgICAgICAgW21vZGVsU2l6ZS5sb3dbMF0rbGluZUF0LG1vZGVsU2l6ZS5sb3dbMV0gLSAoY3V0dGVyUGF0aEhpbnRMaW5lRXh0ZW5zaW9uKV0sXG4gICAgICAgICAgW21vZGVsU2l6ZS5sb3dbMF0rbGluZUF0LG1vZGVsU2l6ZS5oaWdoWzFdICsgKGN1dHRlclBhdGhIaW50TGluZUV4dGVuc2lvbildXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjdXR0aW5nTGluZUhpbnQgPSBuZXcgbWFrZXJqcy5wYXRocy5MaW5lKFxuICAgICAgICAgIFttb2RlbFNpemUubG93WzBdIC0gKGN1dHRlclBhdGhIaW50TGluZUV4dGVuc2lvbiksIG1vZGVsU2l6ZS5sb3dbMV0rbGluZUF0XSxcbiAgICAgICAgICBbbW9kZWxTaXplLmhpZ2hbMF0gKyAoY3V0dGVyUGF0aEhpbnRMaW5lRXh0ZW5zaW9uKSwgbW9kZWxTaXplLmxvd1sxXStsaW5lQXRdXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBtYWtlcmpzLnBhdGgubGF5ZXIoY3V0dGluZ0xpbmVIaW50LCdwYXR0ZXJuSm9pbkxpbmUnKTtcbiAgICAgIG1ha2VyanMubW9kZWwuYWRkUGF0aChtb2RlbFRvU2xpY2UsY3V0dGluZ0xpbmVIaW50KTtcbiAgICB9XG5cbiAgICByZXR1cm4gbW9kZWxUb1NsaWNlXG4gIH1cblxuXG4gIHNwbGl0TW9kZWwobW9kZWxUb1NwbGl0LHNwbGl0QXRQY3QgPSAuNSxhbG9uZ1hBeGlzID0gdHJ1ZSkge1xuICAgIGxldCBtb2RlbEV4dGVudHMgPSBtYWtlcmpzLm1lYXN1cmUubW9kZWxFeHRlbnRzKG1vZGVsVG9TcGxpdCk7XG4gICAgbGV0IHNwbGl0QXREaXN0ID0gYWxvbmdYQXhpcz8oc3BsaXRBdFBjdCAqICBtb2RlbEV4dGVudHMud2lkdGgpOihzcGxpdEF0UGN0ICogIG1vZGVsRXh0ZW50cy5oZWlnaHQpO1xuICAgIC8vIGNvbnNvbGUubG9nKCdzcGxpdHRpbmcgYXQnLHNwbGl0QXREaXN0KTtcbiAgICBsZXQgcG9zaXRpdmVTaWRlID0gdGhpcy50cmltTW9kZWxUb0xpbmUobW9kZWxUb1NwbGl0LHNwbGl0QXREaXN0LHRydWUsYWxvbmdYQXhpcyk7XG4gICAgbGV0IG5lZ2F0aXZlU2lkZSA9IHRoaXMudHJpbU1vZGVsVG9MaW5lKG1vZGVsVG9TcGxpdCxzcGxpdEF0RGlzdCxmYWxzZSxhbG9uZ1hBeGlzKTtcbiAgICByZXR1cm4ge1xuICAgICAgbW9kZWxzOiB7XG4gICAgICAgIGE6IHBvc2l0aXZlU2lkZSxcbiAgICAgICAgYjogbmVnYXRpdmVTaWRlXG4gICAgICB9XG4gICAgfVxuICB9XG5cbn1cbiIsImltcG9ydCBIZWFwUGFja2VyIGZyb20gJy4vaGVhcHBhY2tlci5qcyc7XG5pbXBvcnQgbWFrZXJqcyBmcm9tICdtYWtlcmpzJztcbmltcG9ydCB7IE1vZGVsU3BsaXR0ZXIgfSBmcm9tICcuL21vZGVsc3BsaXR0ZXIuanMnO1xuXG5leHBvcnQgY2xhc3MgTW9kZWxQYWNrZXIge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG5cbiAgICBsZXQgcGFja2luZ09wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgIHBhZ2VTaXplOiB7eDogMTAwMCwgeTogMTAwMH0sXG4gICAgICBwYWdlU2l6ZUdyb3dMaW1pdDoge3g6IC0xLCB5OiAtMX0sXG4gICAgICBjYW5BZGRQYWdlczogdHJ1ZSxcbiAgICAgIGNhbkdyb3dQYWdlU2l6ZTogZmFsc2UsXG4gICAgICBhbGxvd1JvdGF0aW9uOiB0cnVlLFxuICAgICAgYWxsb3dTcGxpdHRpbmc6IHRydWUsXG4gICAgICBtYXhTcGxpdEl0ZXJhdGlvbnM6IDEsXG4gICAgfSxvcHRpb25zKTtcblxuICAgIHRoaXMucGFnZVNpemUgPSBwYWNraW5nT3B0aW9ucy5wYWdlU2l6ZTtcbiAgICB0aGlzLnBhZ2VTaXplR3Jvd0xpbWl0ID0gcGFja2luZ09wdGlvbnMucGFnZVNpemVHcm93TGltaXQ7XG4gICAgdGhpcy5jYW5BZGRQYWdlcyA9IHBhY2tpbmdPcHRpb25zLmNhbkFkZFBhZ2VzO1xuICAgIHRoaXMuY2FuR3Jvd1BhZ2VTaXplID0gcGFja2luZ09wdGlvbnMuY2FuR3Jvd1BhZ2VTaXplO1xuICAgIHRoaXMuYWxsb3dSb3RhdGlvbiA9IHBhY2tpbmdPcHRpb25zLmFsbG93Um90YXRpb247XG4gICAgdGhpcy5hbGxvd1NwbGl0dGluZyA9IHBhY2tpbmdPcHRpb25zLmFsbG93U3BsaXR0aW5nO1xuICB9XG5cbiAgY3JlYXRlTW9kZWxCbG9jayhtb2RlbCxibG9ja2lkKSB7XG4gICAgbGV0IG1vZGVsRXh0ZW50cyA9IG1ha2VyanMubWVhc3VyZS5tb2RlbEV4dGVudHMobW9kZWwpO1xuICAgIHJldHVybiB7XG4gICAgICBpZDogYmxvY2tpZCxcbiAgICAgIG1vZGVsOiBtb2RlbCxcbiAgICAgIHc6IG1vZGVsRXh0ZW50cy53aWR0aCxcbiAgICAgIGg6IG1vZGVsRXh0ZW50cy5oZWlnaHQsXG4gICAgICByb3RhdGVkOiBmYWxzZSxcbiAgICAgIHNwbGl0Q291bnQ6IDAsXG4gICAgfVxuICB9XG5cblxuICBwYWNrTW9kZWxzKG1vZGVscykge1xuICAgIC8vQXNzaWduIHRoZSBtb2RlbHMgdHJhY2thYmxlIElEc1xuICAgIC8vQ2FsY3VsYXRlIHRoZSB3L2ggdmFsdWVzIGZvciB0aGUgYmxvY2sgKHdoaWNoIGlzIHRoZSBvdXRlciB3aWR0aC9oZWlnaHQgb2YgdGhlIGJsb2NrKVxuXG4gICAgLy9WYWxpZGF0ZSB0aGUgbW9kZWwgYmxvY2tzXG4gICAgbGV0IGZhaWxpbmdNb2RlbHMgPSBbXTtcblxuICAgIGxldCBibG9ja3NUb1BhY2sgPSBtb2RlbHMucmVkdWNlKChhY2N1bXVsYXRvcixtb2RlbCxpbmRleCkgPT4ge1xuICAgICAgbGV0IG1vZGVsQmxvY2sgPSB0aGlzLmNyZWF0ZU1vZGVsQmxvY2sobW9kZWwsaW5kZXgpO1xuICAgICAgaWYgKCghbW9kZWxCbG9jay53KSB8fCAoIW1vZGVsQmxvY2suaCkpIHtcbiAgICAgICAgZmFpbGluZ01vZGVscy5wdXNoKG1vZGVsQmxvY2spO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWNjdW11bGF0b3IucHVzaChtb2RlbEJsb2NrKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhY2N1bXVsYXRvclxuICAgIH0sW10pO1xuXG5cblxuXG5cbiAgICAvL05vdyB0cnkgYXNzaWduaW5nIHRoZSBtb2RlbHMgdG8gaGVhcHNcbiAgICBsZXQgaGVhcFBhY2tlciA9IG5ldyBIZWFwUGFja2VyKHtcbiAgICAgIGRlZmF1bHRQYWNrQXJlYUhlaWdodDogdGhpcy5wYWdlU2l6ZS55LFxuICAgICAgZGVmYXVsdFBhY2tBcmVhV2lkdGg6IHRoaXMucGFnZVNpemUueCxcbiAgICAgIGdyb3dMaW1pdEhlaWdodDogdGhpcy5wYWdlU2l6ZUdyb3dMaW1pdC55LFxuICAgICAgZ3Jvd0xpbWl0V2lkdGg6IHRoaXMucGFnZVNpemVHcm93TGltaXQueCxcbiAgICAgIGNhbkdyb3dQYWNrQXJlYTogdGhpcy5jYW5Hcm93UGFnZVNpemUsXG4gICAgICBjYW5BZGRQYWNrQXJlYXM6IHRoaXMuY2FuQWRkUGFnZXMsXG4gICAgfSk7XG5cbiAgICBjb25zb2xlLmxvZygnSEVBUCBQQUNLRVInLGhlYXBQYWNrZXIpXG4gICAgLy9oYW5keSBmdW5jdGlvbiBmb3Igcm90YXRpbmcgYmxvY2tzXG4gICAgZnVuY3Rpb24gcm90YXRlQmxvY2soYmxvY2spIHtcbiAgICAgIGxldCB0ZW1wVyA9IGJsb2NrLnc7XG4gICAgICBibG9jay53ID0gYmxvY2suaDtcbiAgICAgIGJsb2NrLmggPSB0ZW1wVztcbiAgICAgIGJsb2NrLnJvdGF0ZWQgPSAhYmxvY2sucm90YXRlZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGSVJTVCBQQVNTOiBKdXN0IHRyeSB0byBmaXQgdGhlIG1vZGVscyBhcyBpc1xuICAgICAqL1xuICAgIGxldCB1bnBhY2tlZEJsb2NrcyA9IFtdO1xuICAgIGxldCBwYWNrZWRCbG9ja3MgPSBbXTtcbiAgICBoZWFwUGFja2VyLnNvcnRCbG9ja3NGb3JQYWNraW5nKGJsb2Nrc1RvUGFjayk7XG4gICAgYmxvY2tzVG9QYWNrLmZvckVhY2goKGJsb2NrKSA9PiB7XG4gICAgICBsZXQgYmxvY2tIYXNQYWNrZWQgPSBoZWFwUGFja2VyLnBhY2tCbG9jayhibG9jayk7XG4gICAgICBpZiAoYmxvY2tIYXNQYWNrZWQpIHtcbiAgICAgICAgcGFja2VkQmxvY2tzLnB1c2goYmxvY2spO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdW5wYWNrZWRCbG9ja3MucHVzaChibG9jayk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgLy9SZXNldCB0aGUgcmVqZWN0cyBpbnRvIHRoZSBibG9ja3MgdG8gcGFjayBiYWcgZm9yIHRoZSBuZXh0IHJ1blxuICAgIGJsb2Nrc1RvUGFjayA9IHVucGFja2VkQmxvY2tzO1xuXG4gICAgaWYgKHRoaXMuYWxsb3dSb3RhdGlvbikge1xuICAgICAgLyoqXG4gICAgICAgKiBST1RBVEUgUEFTUzogVHJ5IHRvIGZpdCB3aG9sZSBtb2RlbHMgd2l0aCByb3RhdGlvblxuICAgICAgICovXG4gICAgICAvL05vdyByb3RhdGUgYW55IG9mIHRoZSByZWplY3RzIGFuZCB0cnkgcGFja2luZyB0aGVtIGFnYWluXG5cbiAgICAgIGJsb2Nrc1RvUGFjay5mb3JFYWNoKChibG9jaykgPT4ge1xuICAgICAgICByb3RhdGVCbG9jayhibG9jayk7XG4gICAgICB9KTtcblxuICAgICAgdW5wYWNrZWRCbG9ja3MgPSBbXTtcbiAgICAgIGhlYXBQYWNrZXIuc29ydEJsb2Nrc0ZvclBhY2tpbmcoYmxvY2tzVG9QYWNrKTtcbiAgICAgIGJsb2Nrc1RvUGFjay5mb3JFYWNoKChibG9jaykgPT4ge1xuICAgICAgICBsZXQgYmxvY2tIYXNQYWNrZWQgPSBoZWFwUGFja2VyLnBhY2tCbG9jayhibG9jayk7XG4gICAgICAgIGlmIChibG9ja0hhc1BhY2tlZCkge1xuICAgICAgICAgIHBhY2tlZEJsb2Nrcy5wdXNoKGJsb2NrKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB1bnBhY2tlZEJsb2Nrcy5wdXNoKGJsb2NrKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICAvL05vdyB1bnJvdGF0ZSB0aGUgcmVqZWN0cyBmb3IgdGhlIG5leHQgc3RlcFxuICAgICAgYmxvY2tzVG9QYWNrID0gdW5wYWNrZWRCbG9ja3M7XG4gICAgICBibG9ja3NUb1BhY2suZm9yRWFjaCgoYmxvY2spID0+IHtcbiAgICAgICAgYmxvY2sgPSByb3RhdGVCbG9jayhibG9jayk7XG4gICAgICB9KTtcbiAgICB9XG5cblxuICAgIGlmICh0aGlzLmFsbG93U3BsaXR0aW5nKSB7XG4gICAgICAvKipcbiAgICAgICAqIFNQTElUIC0gdGhlbiBUcnkgYWdhaW5cbiAgICAgICAqL1xuICAgICAgLy9Ob3cgc3BsaXQgYW55IGl0ZW1zIHRoYXQgY2FuIGJlIHNwbGl0IGFuZCB0cnkgcGFja2luZyB0aGVzZVxuICAgICAgbGV0IHNraXBTcGxpdHRpbmdCbG9ja3MgPSBbXTtcbiAgICAgIGxldCBtb2RlbFNwbGl0dGVyID0gbmV3IE1vZGVsU3BsaXR0ZXIoKTtcbiAgICAgIC8vVHJhY2sgYSB1bmlxdWUgaW5kZXggZm9yIHRoZSBuZXcgYmxvY2tzIHdlIGFkZC9zcGxpdCBvZmZcbiAgICAgIGxldCBjdXJyZW50QmxvY2tJbmRleCA9IGJsb2Nrc1RvUGFjay5yZWR1Y2UoKGFjY3VtdWxhdG9yLGJsb2NrKSA9PiB7XG4gICAgICAgIHJldHVybiBNYXRoLm1heChhY2N1bXVsYXRvcixibG9jay5pZCk7XG4gICAgICB9LDApICsgMTtcblxuICAgICAgYmxvY2tzVG9QYWNrID0gYmxvY2tzVG9QYWNrLnJlZHVjZSgoYWNjdW11bGF0b3IsYmxvY2spID0+IHtcbiAgICAgICAgbGV0IGJsb2NrQ2FuU3BsaXQgPSB0cnVlOyAvL0RlZmF1bHQgdG8geWVzXG4gICAgICAgIGlmICgoYmxvY2subW9kZWwuc3BsaXQpICYmIChibG9jay5tb2RlbC5zcGxpdC5pZk5lZWRlZCA9PSBmYWxzZSkpIHtibG9ja0NhblNwbGl0ID0gZmFsc2V9O1xuXG4gICAgICAgIGlmIChibG9ja0NhblNwbGl0KSB7XG4gICAgICAgICAgbGV0IHNwbGl0QXRQY3QgPSAuNTtcbiAgICAgICAgICBpZiAoKGJsb2NrLm1vZGVsLnNwbGl0KSAmJiAoYmxvY2subW9kZWwuc3BsaXQuc3BsaXRBdFBjdCkpIHtzcGxpdEF0UGN0ID0gYmxvY2subW9kZWwuc3BsaXQuc3BsaXRBdFBjdH07XG4gICAgICAgICAgLy9UT0RPOiBGaXggbGFiZWxsaW5nIGhlcmUgLSBhbG9uZ1hheGlzIGFjdHVhbGx5IG1lYW5zIHB1dCB0aGUgY3V0dGVyIG9uIHRoZSBZIGF4aXMgZm9yIHNvbWUgcmVhc29uIHRvIHRoZSBzcGxpdHRlclxuICAgICAgICAgIGxldCBhbG9uZ1hBeGlzID0gZmFsc2U7XG4gICAgICAgICAgaWYgKChibG9jay5tb2RlbC5zcGxpdCkgJiYgKGJsb2NrLm1vZGVsLnNwbGl0LmF4aXMgPT0gJ3knKSkge2Fsb25nWEF4aXMgPSB0cnVlfTtcblxuICAgICAgICAgIGxldCBzcGxpdE1vZGVscyA9IG1vZGVsU3BsaXR0ZXIuc3BsaXRNb2RlbChibG9jay5tb2RlbCxzcGxpdEF0UGN0LGFsb25nWEF4aXMpO1xuICAgICAgICAgIC8vbm93IHJlLXdyYXAgdGhlIG1vZGVsc1xuICAgICAgICAgIGlmIChzcGxpdE1vZGVscykge1xuICAgICAgICAgICAgLy9maW5kIHRoZVxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ1NwbGl0IG1vZGVscycsc3BsaXRNb2RlbHMpO1xuICAgICAgICAgICAgYWNjdW11bGF0b3IucHVzaCh0aGlzLmNyZWF0ZU1vZGVsQmxvY2soc3BsaXRNb2RlbHMubW9kZWxzLmEsY3VycmVudEJsb2NrSW5kZXgrKykpO1xuICAgICAgICAgICAgYWNjdW11bGF0b3IucHVzaCh0aGlzLmNyZWF0ZU1vZGVsQmxvY2soc3BsaXRNb2RlbHMubW9kZWxzLmIsY3VycmVudEJsb2NrSW5kZXgrKykpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvL3NvbWV0aGluZyB3ZW50IHdyb25nIGFuZCB3ZSBjb3VsZG4ndCBzcGxpdCB0aGUgbW9kZWxcbiAgICAgICAgICAgIHNraXBTcGxpdHRpbmdCbG9ja3MucHVzaChibG9jayk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNraXBTcGxpdHRpbmdCbG9ja3MucHVzaChibG9jayk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICAgICAgfSxbXSlcbiAgICAgIC8vTm93IHRyeSBhY3R1YWxseSBwYWNraW5nIHRoZSBzcGxpdCBpdGVtc1xuICAgICAgdW5wYWNrZWRCbG9ja3MgPSBbXTtcbiAgICAgIGhlYXBQYWNrZXIuc29ydEJsb2Nrc0ZvclBhY2tpbmcoYmxvY2tzVG9QYWNrKTtcbiAgICAgIGJsb2Nrc1RvUGFjay5mb3JFYWNoKChibG9jaykgPT4ge1xuICAgICAgICBsZXQgYmxvY2tIYXNQYWNrZWQgPSBoZWFwUGFja2VyLnBhY2tCbG9jayhibG9jayk7XG4gICAgICAgIGlmIChibG9ja0hhc1BhY2tlZCkge1xuICAgICAgICAgIHBhY2tlZEJsb2Nrcy5wdXNoKGJsb2NrKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB1bnBhY2tlZEJsb2Nrcy5wdXNoKGJsb2NrKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGlmICh0aGlzLmFsbG93Um90YXRpb24pIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZJTkFMIFBBU1M6IFJPVEFURSBTUExJVCBNT0RFTFMgYW5kIHRyeSBhZ2FpblxuICAgICAgICAgKi9cbiAgICAgICAgYmxvY2tzVG9QYWNrID0gdW5wYWNrZWRCbG9ja3M7XG4gICAgICAgIGJsb2Nrc1RvUGFjay5mb3JFYWNoKChibG9jaykgPT4ge1xuICAgICAgICAgcm90YXRlQmxvY2soYmxvY2spO1xuICAgICAgICB9KTtcblxuICAgICAgICB1bnBhY2tlZEJsb2NrcyA9IFtdO1xuICAgICAgICBoZWFwUGFja2VyLnNvcnRCbG9ja3NGb3JQYWNraW5nKGJsb2Nrc1RvUGFjayk7XG4gICAgICAgIGJsb2Nrc1RvUGFjay5mb3JFYWNoKChibG9jaykgPT4ge1xuICAgICAgICAgbGV0IGJsb2NrSGFzUGFja2VkID0gaGVhcFBhY2tlci5wYWNrQmxvY2soYmxvY2spO1xuICAgICAgICAgaWYgKGJsb2NrSGFzUGFja2VkKSB7XG4gICAgICAgICAgIHBhY2tlZEJsb2Nrcy5wdXNoKGJsb2NrKTtcbiAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgIHVucGFja2VkQmxvY2tzLnB1c2goYmxvY2spO1xuICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuXG4gICAgICAvKipcbiAgICAgICAqIEZJTkFMIEFDVElPTjogTWVyZ2UgdGhlIHVucGFja2VkIGl0ZW1zIGFuZCB0aGUgc2tpcHBlZCBzcGxpdHRpbmcgaXRlbXMgdG9nZXRoZXIgYXMgdGhlIGZpbmFsIGZhaWxlZCBpdGVtc1xuICAgICAgICovXG4gICAgICAvL01lcmdlIHRoZSByZW1haW5pbmcgdW5wYWNrZWQgYW5kIHVuc3BsaXQgbW9kZWxzIHRvZ2V0aGVyXG4gICAgICB1bnBhY2tlZEJsb2NrcyA9IHVucGFja2VkQmxvY2tzLmNvbmNhdChza2lwU3BsaXR0aW5nQmxvY2tzKTtcbiAgICAgIC8vTm93IHRyeSByb3RhdGluZyB0aGVzZVxuICAgIH1cblxuICAgIHVucGFja2VkQmxvY2tzID0gdW5wYWNrZWRCbG9ja3MuY29uY2F0KGZhaWxpbmdNb2RlbHMpO1xuXG4gICAgLy9HaXZlIHVwXG4gICAgLy9DYWxsIHRoaXMgdG8gcHJldmVudCBlbXB0eSBwYWdlcyBiZWluZyBzZW50IHRvIHRoZSBQREYgcmVuZGVyZWQgKGl0IG1vYW5zKVxuICAgIGhlYXBQYWNrZXIudHJpbUVtcHR5UGFja0FyZWFzKCk7XG5cbiAgICBsZXQgcGFja2VkUGFnZXMgPSBoZWFwUGFja2VyLnBhY2tlZEFyZWFzKCk7XG5cbiAgICAvL0NvbnZlcnQgdGhlIGhlYXBQYWNrZXIncyBwYWdlcyAmIGJsb2NrcyBiYWNrIGludG8gYXJyYXlzIG9mIG1vZGVscyB3aXRoIGFwcHJvcHJpYXRlIG9mZnNldHNcbiAgICBsZXQgcGFnZU1vZGVscyA9IHBhY2tlZFBhZ2VzLm1hcCgocGFja2VkUGFnZSkgPT4ge1xuICAgICAgLy9TZXQgdGhlIHBhZ2UgYXMgYW4gZW1wdHkgcGFyZW50IG1vZGVsXG4gICAgICBsZXQgcGFnZU1vZGVsID0ge21vZGVsczoge30sIHBhZ2VzOiB7fSwgb3JpZ2luOiBbMCwwXX07XG4gICAgICBwYWNrZWRQYWdlLmJsb2Nrcy5mb3JFYWNoKChwYWdlQmxvY2tNb2RlbCkgPT4ge1xuXG4gICAgICAgIC8vIG1ha2VyanMubW9kZWwubW92ZShcbiAgICAgICAgLy8gICBwYWdlQmxvY2tNb2RlbC5tb2RlbCxcbiAgICAgICAgLy8gICBbLW9mZnNldFswXSwtb2Zmc2V0WzFdXVxuICAgICAgICAvLyApXG5cbiAgICAgICAgaWYgKHBhZ2VCbG9ja01vZGVsLnJvdGF0ZWQpIHtcbiAgICAgICAgICBtYWtlcmpzLm1vZGVsLnJvdGF0ZShwYWdlQmxvY2tNb2RlbC5tb2RlbCw5MCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG1vZGVsRXh0ZW50cyA9IG1ha2VyanMubWVhc3VyZS5tb2RlbEV4dGVudHMocGFnZUJsb2NrTW9kZWwubW9kZWwpO1xuICAgICAgICBsZXQgb2Zmc2V0ID0gbW9kZWxFeHRlbnRzLmxvdztcblxuICAgICAgICBtYWtlcmpzLm1vZGVsLmFkZE1vZGVsKFxuICAgICAgICAgIHBhZ2VNb2RlbCxcbiAgICAgICAgICBtYWtlcmpzLm1vZGVsLm1vdmUoXG4gICAgICAgICAgICBwYWdlQmxvY2tNb2RlbC5tb2RlbCxcbiAgICAgICAgICAgIG1ha2VyanMucG9pbnQuc3VidHJhY3QoW3BhZ2VCbG9ja01vZGVsLngscGFnZUJsb2NrTW9kZWwueV0sb2Zmc2V0KVxuICAgICAgICAgIClcbiAgICAgICAgKTtcblxuICAgICAgICAvL0NhcHRpb25zIG5lZWQgc3BlY2lhbCBhdHRlbnRpb25cbiAgICAgICAgaWYgKHBhZ2VCbG9ja01vZGVsLm1vZGVsLmNhcHRpb24pIHtcbiAgICAgICAgICBtYWtlcmpzLnBhdGgubW92ZShcbiAgICAgICAgICAgIHBhZ2VCbG9ja01vZGVsLm1vZGVsLmNhcHRpb24uYW5jaG9yLFxuICAgICAgICAgICAgW3BhZ2VCbG9ja01vZGVsLngscGFnZUJsb2NrTW9kZWwueV1cbiAgICAgICAgICApXG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gcGFnZU1vZGVsO1xuICAgIH0pO1xuXG5cbiAgICByZXR1cm4ge1xuICAgICAgcGFja2VkUGFnZXM6IHBhZ2VNb2RlbHMsXG4gICAgICB1bnBhY2tlZE1vZGVsczogdW5wYWNrZWRCbG9ja3MubWFwKChibG9jaykgPT4gKGJsb2NrLm1vZGVsKSlcbiAgICB9XG4gIH1cblxuXG59XG4iLCJpbXBvcnQgeyBydW5EcmF3Q29kZSB9IGZyb20gJy4vY29kZXJ1bm5lci9jb2RlcnVubmVyLmpzJztcbmltcG9ydCBtYWtlcmpzIGZyb20gJ21ha2VyanMnO1xuaW1wb3J0IHsgTW9kZWxQYWNrZXIgfSBmcm9tICcuL21vZGVscGFja2VyLmpzJztcbmltcG9ydCBQREZEb2N1bWVudCBmcm9tICdwZGZraXRTdGFuZGFsb25lJztcbmltcG9ydCBibG9iU3RyZWFtIGZyb20gJ2Jsb2Itc3RyZWFtJztcblxuZnVuY3Rpb24gbW1Ub1BERlBQSShtbURpc3RhbmNlKSB7XG4gIC8vcGl4ZWwgPSBkcGkgKiBtbSAvIDI1LjQgbW0gKDEgaW4pXG4gIGNvbnN0IFBERlBQSSA9IDcyO1xuICByZXR1cm4gUERGUFBJICogbW1EaXN0YW5jZSAvIDI1LjQ7XG59XG5cblxuZnVuY3Rpb24gYmxvYlRvQmFzZTY0KGJsb2IpIHtcbiAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoYmxvYik7XG4gIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICByZWFkZXIub25sb2FkZW5kID0gKCkgPT4ge1xuICAgICAgcmVzb2x2ZShyZWFkZXIucmVzdWx0KTtcbiAgICB9O1xuICB9KTtcbn07XG5cblxuZXhwb3J0IGNsYXNzIFJlbmRlckVuZ2luZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMucmVuZGVySW5Qcm9ncmVzcyA9IGZhbHNlO1xuXG4gIH1cblxuICBnZXRSZW5kZXJJblByb2dyZXNzKCkge1xuICAgIHJldHVybiB0aGlzLnJlbmRlckluUHJvZ3Jlc3M7XG4gIH1cblxuICBzY2FsZU1vZGVsVG9QREZQUEkobW9kZWwpIHtcbiAgICAvL1NUb2xlbiBmcm9tOiBodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L21ha2VyLmpzL2Jsb2IvYjE4ZjhhOGQvcGFja2FnZXMvbWFrZXIuanMvc3JjL2NvcmUvcGRmLnRzI0wxMVxuICAgIC8vdHJ5IHRvIGdldCB0aGUgdW5pdCBzeXN0ZW0gZnJvbSB0aGUgaXRlbVRvRXhwb3J0XG4gICAgdmFyIHNjYWxlID0gMTtcbiAgICB2YXIgZXhwb3J0VW5pdHMgPSAnbW0nO1xuICAgIGlmIChleHBvcnRVbml0cykge1xuICAgICAgICAvL2NvbnZlcnQgdG8gaW5jaFxuICAgICAgICBzY2FsZSA9IG1ha2VyanMudW5pdHMuY29udmVyc2lvblNjYWxlKGV4cG9ydFVuaXRzLCBtYWtlcmpzLnVuaXRUeXBlLkluY2gpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vYXNzdW1lIHBpeGVscywgY29udmVydCB0byBpbmNoXG4gICAgICAgIHNjYWxlID0gMSAvIDEwMDtcbiAgICB9XG5cbiAgICAvL2Zyb20gaW5jaCB0byBQREYgUFBJXG4gICAgc2NhbGUgKj0gNzI7XG5cbiAgICAvL1RPRE8gc2NhbGUgZWFjaCBlbGVtZW50IHdpdGhvdXQgYSB3aG9sZSBjbG9uZVxuICAgIHZhciBzY2FsZWRNb2RlbCA9IG1ha2VyanMubW9kZWwuc2NhbGUobWFrZXJqcy5tb2RlbC5jbG9uZShtb2RlbCksIHNjYWxlKTtcbiAgICByZXR1cm4gc2NhbGVkTW9kZWw7XG4gIH1cblxuICByZW5kZXJNb2RlbFRvU1ZHKG1vZGVsLHJlbmRlck9wdHMpe1xuICAgIGxldCByZW5kZXJPcHRpb25zID0ge1xuICAgICAgc3R5bGVTZXQ6IHtcbiAgICAgICAgICBzdGl0Y2g6IHtcbiAgICAgICAgICAgIHN0cm9rZTogJ3JlZCcsXG4gICAgICAgICAgICBzdHJva2VXaWR0aDogJzEnLFxuICAgICAgICAgICAgY3NzU3R5bGU6ICdzdHJva2UtZGFzaGFycmF5OiA1LCA1J1xuICAgICAgICAgIH0sXG4gICAgICAgICAgY2VudGVyOiB7XG4gICAgICAgICAgICBzdHJva2U6ICdncmVlbicsXG4gICAgICAgICAgICBzdHJva2VXaWR0aDogJzEnLFxuICAgICAgICAgICAgY3NzU3R5bGU6ICdzdHJva2UtZGFzaGFycmF5OiA1LCA1LCAxMiwgNSdcbiAgICAgICAgICB9LFxuICAgICAgICAgIGhpbnQ6IHtcbiAgICAgICAgICAgIHN0cm9rZTogJ2JsdWUnLFxuICAgICAgICAgICAgc3Ryb2tlV2lkdGg6ICcxJyxcbiAgICAgICAgICAgIGNzc1N0eWxlOiAnc3Ryb2tlLWRhc2hhcnJheTogMiwgOCdcbiAgICAgICAgICB9LFxuICAgICAgICB9XG4gICAgfVxuICAgIE9iamVjdC5hc3NpZ24ocmVuZGVyT3B0aW9ucyxyZW5kZXJPcHRzKTtcblxuXG4gICAgbW9kZWwudW5pdHMgPSBtYWtlcmpzLnVuaXRUeXBlLk1pbGxpbWV0ZXI7XG4gICAgcmV0dXJuIG1ha2VyanMuZXhwb3J0ZXIudG9TVkcobW9kZWwsIHtcbiAgICAgIHVzZVN2Z1BhdGhPbmx5OiBmYWxzZSxcbiAgICAgIHVuaXRzOiAnbW0nLFxuICAgICAgbGF5ZXJPcHRpb25zOiByZW5kZXJPcHRpb25zLnN0eWxlU2V0XG4gICAgfSk7XG4gIH1cblxuICByZW5kZXJQYWdlTW9kZWxzVG9TVkcocGFnZU1vZGVscyxyZW5kZXJPcHRpb25zKSB7XG4gICAgbGV0IHN2Z1BhZ2VzID0gcGFnZU1vZGVscy5tYXAoKHBhY2tlZFBhZ2UpID0+IHtcbiAgICAgIHJldHVybiB0aGlzLnJlbmRlck1vZGVsVG9TVkcocGFja2VkUGFnZSxyZW5kZXJPcHRpb25zKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoc3ZnUGFnZXMpO1xuICB9XG5cbiAgbW9kZWxUb1BERihkb2MsbW9kZWwscGFnZU1hcmdpbnMsbGF5ZXJTdHlsZXMpIHtcbiAgICAvL0Vuc3VyZSB0aGVyZSBpcyBhIHN0eWxlc2V0IGFuZCBpdCBoYXMgYSBiYXNlIHN0eWxlc2V0IGFzIG1pbmltdW0gLSBhcyB0aGlzIHdpbGwgYmUgdGhlIGRlZmF1bHRcbiAgICBpZiAoIWxheWVyU3R5bGVzKSB7XG4gICAgICBsYXllclN0eWxlcyA9IHt9O1xuICAgIH1cbiAgICBpZiAoIWxheWVyU3R5bGVzLmJhc2UpIHtcbiAgICAgIGxheWVyU3R5bGVzLmJhc2UgPSB7XG4gICAgICAgIHN0cm9rZVdpZHRoOiAxLFxuICAgICAgICBzdHJva2VDb2xvcjogJyMwMDAnXG4gICAgICB9XG4gICAgfVxuICAgIC8vTm90IHVzaW5nIFBERk1ha2UgYXMgaXQgZG9lc24ndCBsZXQgdXMgY29udHJvbCBwYWdlc1xuICAgIGxldCBzY2FsZWRNb2RlbCA9IHRoaXMuc2NhbGVNb2RlbFRvUERGUFBJKG1vZGVsKTtcbiAgICAvL0FwcGx5IE1hcmdpbnNcbiAgICAvLyBtYWtlcmpzLm1vZGVsLm1vdmUoc2NhbGVkTW9kZWwsWzEwMCwxMDBdKTtcbiAgICBsZXQgbW9kZWxFeHRlbnRzID0gbWFrZXJqcy5tZWFzdXJlLm1vZGVsRXh0ZW50cyhzY2FsZWRNb2RlbCk7XG5cbiAgICBsZXQgc3ZnUGF0aHMgPSBtYWtlcmpzLmV4cG9ydGVyLnRvU1ZHUGF0aERhdGEoc2NhbGVkTW9kZWwse1xuICAgICAgb3JpZ2luOiBbbW1Ub1BERlBQSShwYWdlTWFyZ2lucy5sZWZ0KSxtb2RlbEV4dGVudHMuaGlnaFsxXSttbVRvUERGUFBJKHBhZ2VNYXJnaW5zLnRvcCldLFxuICAgICAgYnlMYXllcnM6IHRydWVcbiAgICB9KTtcbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhzdmdQYXRocykpIHtcbiAgICAgIC8vIGNvbXBvbmVudHMgPSBjb21wb25lbnRzLmNvbmNhdChmaW5kQ29tcG9uZW50c0luTW9kZWxUcmVlcyh2YWx1ZSkpO1xuXG4gICAgICAvL1NhdmUgdGhlIGJhc2Ugc3R5bGUgc28gd2UgY2FuIHJlc3RvcmUgdG8gaXQgbGF0ZXJcbiAgICAgIGRvYy5zYXZlKCk7XG4gICAgICBkb2MucGF0aCh2YWx1ZSk7XG4gICAgICAvL0FwcGx5IHRoZSBzdHlsZSBpZiB0aGUgbGF5ZXIgaGFzIG9uZSBpbiBzdHlsZXNldFxuICAgICAgbGV0IHN0eWxlID0gbGF5ZXJTdHlsZXNbKCgha2V5KSB8fCAoa2V5PT0nJykpPydiYXNlJzprZXldO1xuICAgICAgaWYgKCFzdHlsZSkge3N0eWxlID0gbGF5ZXJTdHlsZXMuYmFzZX1cblxuICAgICAgaWYgKHN0eWxlKSB7XG4gICAgICAgIGlmIChzdHlsZS5zdHJva2VXaWR0aCkge2RvYy5saW5lV2lkdGgoc3R5bGUuc3Ryb2tlV2lkdGgpO31cbiAgICAgICAgaWYgKHN0eWxlLmRhc2hlZCkge2RvYy5kYXNoKHN0eWxlLmRhc2hlZFswXSxzdHlsZS5kYXNoZWRbMV0pO30gZWxzZSB7ZG9jLnVuZGFzaCgpfVxuICAgICAgICBpZiAoc3R5bGUuc3Ryb2tlQ29sb3IpIHtkb2Muc3Ryb2tlKHN0eWxlLnN0cm9rZUNvbG9yKTt9XG4gICAgICB9XG5cblxuICAgICAgLy9SZXN0b3JlIGlmIGFueSBjaGFuZ2VzIHRvIHRoZSBzdHlsZXNcbiAgICAgIGRvYy5yZXN0b3JlKCk7XG4gICAgfVxuXG4gICAgbWFrZXJqcy5tb2RlbC5nZXRBbGxDYXB0aW9uc09mZnNldChzY2FsZWRNb2RlbCkuZm9yRWFjaCgobW9kZWxDYXB0aW9uKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZygnUHJvY2Vzc2luZycsbW9kZWxDYXB0aW9uKTtcbiAgICAgIGRvYy50ZXh0KFxuICAgICAgICBtb2RlbENhcHRpb24udGV4dCxcbiAgICAgICAgbW9kZWxFeHRlbnRzLmxvd1swXSArIG1tVG9QREZQUEkocGFnZU1hcmdpbnMubGVmdCkgKyBtb2RlbENhcHRpb24uYW5jaG9yLm9yaWdpblswXSxcbiAgICAgICAgKG1vZGVsRXh0ZW50cy5oaWdoWzFdICsgbW1Ub1BERlBQSShwYWdlTWFyZ2lucy50b3ApKSAtIG1vZGVsQ2FwdGlvbi5hbmNob3Iub3JpZ2luWzFdIC0gKChtb2RlbENhcHRpb24uYW5jaG9yLmVuZFsxXSAtIG1vZGVsQ2FwdGlvbi5hbmNob3Iub3JpZ2luWzFdKS8yKSxcbiAgICAgICAge1xuICAgICAgICAgIGJhc2VsaW5lOiAndG9wJ1xuICAgICAgICB9XG4gICAgICApO1xuICAgICAgY29uc29sZS5sb2coJ1Byb2Nlc3NpbmcnLG1vZGVsQ2FwdGlvbixtb2RlbEV4dGVudHMsIG1tVG9QREZQUEkocGFnZU1hcmdpbnMudG9wKSxtb2RlbEV4dGVudHMubG93WzBdICsgbW1Ub1BERlBQSShwYWdlTWFyZ2lucy5sZWZ0KSArIG1vZGVsQ2FwdGlvbi5hbmNob3Iub3JpZ2luWzBdLChtb2RlbEV4dGVudHMuaGlnaFsxXSArIG1tVG9QREZQUEkocGFnZU1hcmdpbnMudG9wKSkgLSBtb2RlbENhcHRpb24uYW5jaG9yLm9yaWdpblsxXSk7XG4gICAgfSk7XG5cblxuICB9XG5cbiAgcmVuZGVyUGFnZU1vZGVsc1RvUERGKHBhZ2VNb2RlbHMscmVuZGVyT3B0cykge1xuICAgIGxldCByZW5kZXJPcHRpb25zID0ge1xuICAgICAgc3R5bGVTZXQ6IHtcbiAgICAgICAgYmFzZToge1xuICAgICAgICAgIHN0cm9rZVdpZHRoOiAnMScsXG4gICAgICAgICAgc3Ryb2tlQ29sb3I6ICcjMDAwJ1xuICAgICAgICB9LFxuICAgICAgICBjZW50ZXI6IHtcbiAgICAgICAgICBzdHJva2VXaWR0aDogJzEnLFxuICAgICAgICAgIGRhc2hlZDogWzEwLDIwXSxcbiAgICAgICAgICBzdHJva2VDb2xvcjogJyMwRjAnXG4gICAgICAgIH0sXG4gICAgICAgIGhpbnQ6IHtcbiAgICAgICAgICBzdHJva2VXaWR0aDogJzEnLFxuICAgICAgICAgIGRhc2hlZDogWzUsNV0sXG4gICAgICAgICAgc3Ryb2tlQ29sb3I6ICcjMDBGJ1xuICAgICAgICB9LFxuICAgICAgICBzdGl0Y2g6IHtcbiAgICAgICAgICBzdHJva2VXaWR0aDogJzEnLFxuICAgICAgICAgIGRhc2hlZDogWzIsMTBdLFxuICAgICAgICAgIHN0cm9rZUNvbG9yOiAnI0YwMDAnXG4gICAgICAgIH0sXG4gICAgICAgIHBhdHRlcm5Kb2luTGluZToge1xuICAgICAgICAgIHN0cm9rZVdpZHRoOiAnMScsXG4gICAgICAgICAgZGFzaGVkOiBbMiwxMF0sXG4gICAgICAgICAgc3Ryb2tlQ29sb3I6ICcjYjJjJ1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIHBhZ2VNYXJnaW5zOiA1LFxuICAgICAgdW5pdHM6ICdtbScsXG4gICAgICBsYXlvdXQ6ICdwb3J0cmFpdCcsXG4gICAgICBwYWdlU2l6ZTogJ0E0JyxcblxuICAgIH1cblxuICAgIE9iamVjdC5hc3NpZ24ocmVuZGVyT3B0aW9ucyxyZW5kZXJPcHRzKTtcblxuICAgIC8vRG8gc29tZSBzYW5pdHkgY2hlY2tpbmdcbiAgICBpZiAoIXJlbmRlck9wdGlvbnMucGFnZVNpemUpIHtcbiAgICAgIHRocm93ICdQYWdlIHNpemUgbXVzdCBiZSBzcGVjaWZpZWQgZm9yIFBERiByZW5kZXJpbmcsIHRyeSBBNCdcbiAgICB9XG5cbiAgICBpZiAocmVuZGVyT3B0aW9ucy5wYWdlTWFyZ2lucykge1xuICAgICAgLy9mb3JjZSBwYWdlTWFyZ2lucyB0byBiZSBhbiBvYmplY3QgZm9yIHNpbXBsaWNpdHkgbGF0ZXJgXG4gICAgICAvL01vZGVsIHBhY2tlciBzaG91bGQgaGF2ZSB0YWtlbiBjYXJlIG9mIHRoaXMgZm9yIHVzXG4gICAgICBpZiAodHlwZW9mIHJlbmRlck9wdGlvbnMucGFnZU1hcmdpbnMgIT0gXCJvYmplY3RcIikge1xuICAgICAgICByZW5kZXJPcHRpb25zLnBhZ2VNYXJnaW5zID0ge1xuICAgICAgICAgIGxlZnQ6IHJlbmRlck9wdGlvbnMucGFnZU1hcmdpbnMsXG4gICAgICAgICAgcmlnaHQ6IHJlbmRlck9wdGlvbnMucGFnZU1hcmdpbnMsXG4gICAgICAgICAgdG9wOiByZW5kZXJPcHRpb25zLnBhZ2VNYXJnaW5zLFxuICAgICAgICAgIGJvdHRvbTogcmVuZGVyT3B0aW9ucy5wYWdlTWFyZ2luc1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy9jdGlvbiBjcmVhdGVQYWdlc0FzUERGKHBhZ2VzLG1hcmdpblRvcExlZnQgPSBbMCwwXSxzdHlsZVNldCA9IG51bGwscGRmQWN0aW9uKXtcbiAgICAvL1xuICAgIGxldCBwZGZQYWdlU2V0dGluZ3MgPSB7XG4gICAgICBsYXlvdXQ6IHJlbmRlck9wdGlvbnMubGF5b3V0LFxuICAgICAgLy9pZiB0aGUgcGFnZVNpemUgaXMgYSBzdHJpbmcgYXNzdW1lIGl0cyBBNCxBNSBvciBzaW1pbGFyLCBvdGhlcndpc2UgYXNzdW1lIGl0cyBwYWdlIGRpbXMgb2JqZWN0IHdpdGggeCBhbmQgeVxuICAgICAgc2l6ZTogKCh0eXBlb2YgcmVuZGVyT3B0aW9ucy5wYWdlU2l6ZSA9PSAnc3RyaW5nJyk/KHJlbmRlck9wdGlvbnMucGFnZVNpemUpOihbbW1Ub1BERlBQSShyZW5kZXJPcHRpb25zLnBhZ2VTaXplLngpLG1tVG9QREZQUEkocmVuZGVyT3B0aW9ucy5wYWdlU2l6ZS55KV0pKVxuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKCdQREYgU2V0dXAnLHBkZlBhZ2VTZXR0aW5ncyk7XG4gICAgbGV0IGRvYyA9IG5ldyBQREZEb2N1bWVudCh7XG4gICAgICBhdXRvRmlyc3RQYWdlOiBmYWxzZSxcbiAgICB9KTtcblxuICAgIGxldCBzdHJlYW0gPSBkb2MucGlwZShibG9iU3RyZWFtKCkpO1xuICAgIHBhZ2VNb2RlbHMuZm9yRWFjaChwYWdlID0+IHtcbiAgICAgIGRvYy5hZGRQYWdlKHBkZlBhZ2VTZXR0aW5ncyk7XG5cbiAgICAgIC8vIG1ha2VyanMuZXhwb3J0ZXIudG9QREYoZG9jLHBhZ2UscGRmRXhwb3J0T3B0aW9ucyk7XG4gICAgICB0aGlzLm1vZGVsVG9QREYoZG9jLHBhZ2UscmVuZGVyT3B0aW9ucy5wYWdlTWFyZ2lucyxyZW5kZXJPcHRpb25zLnN0eWxlU2V0KTtcbiAgICB9KTtcblxuICAgIC8vIEZpbmFsaXplIFBERiBmaWxlXG4gICAgZG9jLmVuZCgpO1xuICAgIC8vIGdldCBhIGJsb2Igd2hlbiB5b3UncmUgZG9uZVxuXG5cblxuICAgIGxldCBwZGZDb21wbGV0ZWQgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgc3RyZWFtLm9uKCdmaW5pc2gnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAvLyBnZXQgYSBibG9iIHlvdSBjYW4gZG8gd2hhdGV2ZXIgeW91IGxpa2Ugd2l0aFxuICAgICAgICAgIGNvbnN0IGJsb2IgPSBzdHJlYW0udG9CbG9iKCdhcHBsaWNhdGlvbi9wZGYnKTtcbiAgICAgICAgICByZXNvbHZlKGJsb2JUb0Jhc2U2NChibG9iKSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHN0cmVhbS5vbignZXJyb3InLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZWplY3QoKVxuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcGRmQ29tcGxldGVkO1xuICB9XG5cbiAgcmVuZGVyQ29kZShjb2RlLG9wdGlvbnMscmVzcG9uc2VDYWxsYmFjaykge1xuICAgIHRoaXMucmVuZGVySW5Qcm9ncmVzcyA9IHRydWU7XG5cbiAgICBsZXQgcmVuZGVyT3B0aW9ucyA9IHtcbiAgICAgIGZvcm1hdDogJ1NWRycsXG4gICAgICBwYWdlU2l6ZToge3g6IDEwMDAsIHk6IDEwMDB9LFxuICAgICAgcGFja1RvUGFnZXM6IGZhbHNlLFxuICAgICAgY2FuQWRkUGFnZXM6IHRydWUsXG4gICAgICBjYW5Hcm93UGFnZVNpemU6IGZhbHNlLFxuICAgICAgcGFnZU1hcmdpbnM6IDEwLFxuICAgICAgYWxsb3dTcGxpdHRpbmc6IHRydWUsXG4gICAgICBhbGxvd1JvdGF0aW9uOiB0cnVlXG4gICAgfVxuICAgIE9iamVjdC5hc3NpZ24ocmVuZGVyT3B0aW9ucyxvcHRpb25zKTtcblxuICAgIGlmIChyZW5kZXJPcHRpb25zLnBhZ2VNYXJnaW5zKSB7XG4gICAgICAvL2ZvcmNlIHBhZ2VNYXJnaW5zIHRvIGJlIGFuIG9iamVjdCBmb3Igc2ltcGxpY2l0eSBsYXRlcmBcbiAgICAgIC8vTW9kZWwgcGFja2VyIHNob3VsZCBoYXZlIHRha2VuIGNhcmUgb2YgdGhpcyBmb3IgdXNcbiAgICAgIGlmICh0eXBlb2YgcmVuZGVyT3B0aW9ucy5wYWdlTWFyZ2lucyAhPSBcIm9iamVjdFwiKSB7XG4gICAgICAgIHJlbmRlck9wdGlvbnMucGFnZU1hcmdpbnMgPSB7XG4gICAgICAgICAgbGVmdDogcmVuZGVyT3B0aW9ucy5wYWdlTWFyZ2lucyxcbiAgICAgICAgICByaWdodDogcmVuZGVyT3B0aW9ucy5wYWdlTWFyZ2lucyxcbiAgICAgICAgICB0b3A6IHJlbmRlck9wdGlvbnMucGFnZU1hcmdpbnMsXG4gICAgICAgICAgYm90dG9tOiByZW5kZXJPcHRpb25zLnBhZ2VNYXJnaW5zXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBsZXQgdXNlclBhcmFtZXRlcnMgPSBPYmplY3QuYXNzaWduKHt9LG9wdGlvbnMudXNlclBhcmFtZXRlcnMpO1xuXG4gICAgbGV0IGNvZGVSdW5uZXJSZXN1bHQgPSBydW5EcmF3Q29kZShjb2RlLHVzZXJQYXJhbWV0ZXJzKTtcblxuICAgIGxldCBtb2RlbHNGb3JQYWdlUGFja2luZyA9IGNvZGVSdW5uZXJSZXN1bHQub3V0cHV0O1xuICAgIGlmICgoQXJyYXkuaXNBcnJheShtb2RlbHNGb3JQYWdlUGFja2luZykpICYmIChtb2RlbHNGb3JQYWdlUGFja2luZy5sZW5ndGggPiAwKSkge1xuXG4gICAgICBsZXQgbW9kZWxQYWNrZXIgPSBuZXcgTW9kZWxQYWNrZXIoe1xuICAgICAgICBwYWdlU2l6ZToge1xuICAgICAgICAgIHg6IE1hdGgubWF4KHJlbmRlck9wdGlvbnMucGFnZVNpemUueCAtIChyZW5kZXJPcHRpb25zLnBhZ2VNYXJnaW5zLmxlZnQgKyByZW5kZXJPcHRpb25zLnBhZ2VNYXJnaW5zLnJpZ2h0KSwwKSxcbiAgICAgICAgICB5OiBNYXRoLm1heChyZW5kZXJPcHRpb25zLnBhZ2VTaXplLnkgLSAocmVuZGVyT3B0aW9ucy5wYWdlTWFyZ2lucy50b3AgKyByZW5kZXJPcHRpb25zLnBhZ2VNYXJnaW5zLmJvdHRvbSksMCksXG4gICAgICAgIH0sXG4gICAgICAgIHBhZ2VTaXplR3Jvd0xpbWl0OiB7eDogLTEsIHk6IC0xfSxcbiAgICAgICAgY2FuQWRkUGFnZXM6IHJlbmRlck9wdGlvbnMuY2FuQWRkUGFnZXMsXG4gICAgICAgIGNhbkdyb3dQYWdlU2l6ZTogcmVuZGVyT3B0aW9ucy5jYW5Hcm93UGFnZVNpemUsXG4gICAgICAgIGFsbG93Um90YXRpb246IHJlbmRlck9wdGlvbnMuYWxsb3dSb3RhdGlvbixcbiAgICAgICAgYWxsb3dTcGxpdHRpbmc6IHJlbmRlck9wdGlvbnMuYWxsb3dTcGxpdHRpbmdcbiAgICAgIH0pO1xuXG4gICAgICBsZXQgcGFja2luZ1Jlc3VsdCA9IG1vZGVsUGFja2VyLnBhY2tNb2RlbHMobW9kZWxzRm9yUGFnZVBhY2tpbmcpO1xuICAgICAgY29uc29sZS5sb2coJ1BhY2tpbmcgUmVzdWx0JyxwYWNraW5nUmVzdWx0KTtcbiAgICAgIGxldCByZW5kZXJlZFBhZ2VzID0gW107XG4gICAgICBpZiAocmVuZGVyT3B0aW9ucy5mb3JtYXQgPT0gJ1NWRycpIHtcbiAgICAgICAgcmVuZGVyZWRQYWdlcyA9IHRoaXMucmVuZGVyUGFnZU1vZGVsc1RvU1ZHKHBhY2tpbmdSZXN1bHQucGFja2VkUGFnZXMscmVuZGVyT3B0aW9ucyk7XG4gICAgICB9IGVsc2UgaWYocmVuZGVyT3B0aW9ucy5mb3JtYXQgPT0gJ1BERicpIHtcbiAgICAgICAgcmVuZGVyZWRQYWdlcyA9IHRoaXMucmVuZGVyUGFnZU1vZGVsc1RvUERGKHBhY2tpbmdSZXN1bHQucGFja2VkUGFnZXMscmVuZGVyT3B0aW9ucyk7XG4gICAgICB9XG5cbiAgICAgIC8vIGxldCByZW5kZXJlZFNWRyA9IHRoaXMucmVuZGVyTW9kZWxzVG9TVkcoY29kZVJ1bm5lclJlc3VsdC5vdXRwdXQpO1xuICAgICAgLy8gY29uc29sZS5sb2coJ1NWRyBQQWdlcycscmVuZGVyZWRTVkdQYWdlcyk7XG4gICAgICByZW5kZXJlZFBhZ2VzLnRoZW4oKHJlbmRlcmVkRGF0YSkgPT4ge1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkocmVuZGVyZWREYXRhKSkge3JlbmRlcmVkRGF0YSA9IFtyZW5kZXJlZERhdGFdfTtcbiAgICAgICAgcmVzcG9uc2VDYWxsYmFjayh7XG4gICAgICAgICAgdHlwZTogJ3JlbmRlclJlc3BvbnNlJyxcbiAgICAgICAgICBjb250ZW50VHlwZTogcmVuZGVyT3B0aW9ucy5mb3JtYXQsXG4gICAgICAgICAgcmVuZGVyRm9yOiBvcHRpb25zLnJlbmRlckZvcixcbiAgICAgICAgICBzdWNjZXNzQ29udGVudDogcmVuZGVyZWREYXRhLFxuICAgICAgICAgIGVycm9yQ29udGVudDogcGFja2luZ1Jlc3VsdC51bnBhY2tlZE1vZGVscyxcbiAgICAgICAgICBsb2dNZXNzYWdlczogW10sXG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgIH0gZWxzZSB7XG4gICAgICByZXNwb25zZUNhbGxiYWNrKHtcbiAgICAgICAgdHlwZTogJ3JlbmRlclJlc3BvbnNlJyxcbiAgICAgICAgY29udGVudFR5cGU6IHJlbmRlck9wdGlvbnMuZm9ybWF0LFxuICAgICAgICByZW5kZXJGb3I6IG9wdGlvbnMucmVuZGVyRm9yLFxuICAgICAgICBzdWNjZXNzQ29udGVudDogW10sXG4gICAgICAgIGVycm9yQ29udGVudDogW10sXG4gICAgICAgIGxvZ01lc3NhZ2VzOiBbXSxcbiAgICAgIH0pXG4gICAgfVxuXG5cblxuICAgIHRoaXMucmVuZGVySW5Qcm9ncmVzcyA9IGZhbHNlO1xuICB9XG5cbiAgcmVzZXQoKSB7XG5cbiAgfVxufVxuIiwiaW1wb3J0IG1ha2VyanMgZnJvbSAnbWFrZXJqcyc7XG5pbXBvcnQgeyBDb2RlUnVubmVyVXRpbHMgfSBmcm9tICcuL2NvZGVydW5uZXJ1dGlscy5qcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBydW5EcmF3Q29kZShkcmF3Q29kZSx1c2VyUGFyYW1ldGVycyl7XG4gIGxldCBDb2RlV3JhcHBlckZ1bmN0aW9uID0gbmV3IEZ1bmN0aW9uKCdjb25zb2xlJywnbWFrZXJqcycsJ01ha2VySnMnLCd1c2VyUGFyYW1ldGVycycsJ3V0aWxzJywgZHJhd0NvZGUpO1xuICBDb2RlV3JhcHBlckZ1bmN0aW9uLnByb3RvdHlwZS5tb2RlbHMgPSB7fTtcbiAgLy9UT0RPOiBXcmFwIHRoZSBjb25zb2xlIHdpdGggYW4gb2JqZWN0IHRoYXQgdGFrZXMgb3ZlciBhbmQgZmVlZHMgYmFjayB0byB0aGUgVUlcbiAgbGV0IGNydSA9IG5ldyBDb2RlUnVubmVyVXRpbHMoKTtcbiAgbGV0IGNvZGVSZXN1bHQgPSBuZXcgQ29kZVdyYXBwZXJGdW5jdGlvbihjb25zb2xlLG1ha2VyanMsbWFrZXJqcyx1c2VyUGFyYW1ldGVycyxjcnUpO1xuXG4gIGxldCByZXR1cm5WYWwgPSBudWxsO1xuXG4gIGlmIChjb2RlUmVzdWx0KSB7XG4gICAgcmV0dXJuVmFsID0ge307XG5cbiAgICBpZiAoY29kZVJlc3VsdC51c2VyUGFyYW1ldGVycykge1xuICAgICAgcmV0dXJuVmFsLnVzZXJQYXJhbWV0ZXJzID0gY29kZVJlc3VsdC51c2VyUGFyYW1ldGVycztcbiAgICB9XG5cbiAgICBpZiAoY29kZVJlc3VsdC5zdHlsZVNldCkge1xuICAgICAgcmV0dXJuVmFsLnN0eWxlU2V0ID0gY29kZVJlc3VsdC5zdHlsZVNldDtcbiAgICB9XG5cbiAgICBpZiAoY29kZVJlc3VsdC5sb2cpIHtcbiAgICAgIHJldHVyblZhbC5sb2cgPSBjb2RlUmVzdWx0LmxvZztcbiAgICB9XG5cbiAgICBpZiAoKGNvZGVSZXN1bHQubW9kZWxzKSAmJiBjb2RlUmVzdWx0Lm1vZGVscyAhPSAnbGVnYWN5Jykge1xuICAgICAgLy9UT0RPOiBmaXggdGhpcyBzbyB1c2VycyBqdXN0IGFzc2lnbiB0byB0aGlzLm1vZGVscyBhbHdheXMgKHRvIHByZXZlbnQgbmFtZXNwYWNlIHBvbGx1dGlvbiBvZiB1c2VyIHRoaW5ncylcbiAgICAgIC8vRXhwZWN0IG1vZGVscyB0byBiZSBhIG5hbWVkIG9iamVjdFxuXG4gICAgICBsZXQgbW9kZWxBcnJheSA9IFtdO1xuICAgICAgbW9kZWxBcnJheSA9IE9iamVjdC5rZXlzKGNvZGVSZXN1bHQubW9kZWxzKS5tYXAoKGtleSkgPT4ge1xuICAgICAgICByZXR1cm4gY29kZVJlc3VsdC5tb2RlbHNba2V5XVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVyblZhbC5vdXRwdXQgPSBtb2RlbEFycmF5O1xuICAgIH0gIGVsc2UgaWYgKChjb2RlUmVzdWx0KSAmJiAoT2JqZWN0LmtleXMoY29kZVJlc3VsdCkubGVuZ3RoID4gMCkpIHtcbiAgICAgIC8vT25seSBpZiBtb2RlbHMgaXNuJ3QgYXNzaWduZWQgc2hvdWxkIHdlIGxvb2sgdGhyb3VnaCB0aGUgd2hvbGUgb2JqZWN0XG4gICAgICAvL0Fzc3VtZSBldmVyeXRoaW5nIGluc2lkZSB3aGF0IHdlIHdlcmUgZ2l2ZW4gaXMgYSBtb2RlbCBleGNlcHQgdGhlIGtleXdvcmRzIGFib3ZlXG4gICAgICBsZXQgbW9kZWxBcnJheSA9IFtdO1xuICAgICAgbW9kZWxBcnJheSA9IE9iamVjdC5rZXlzKGNvZGVSZXN1bHQpLmZpbHRlcihrZXkgPT4gKCFbJ3VzZXJQYXJhbWV0ZXJzJywnc3R5bGVTZXQnLCdtb2RlbHMnLCdsb2cnLCdpbnN0cnVjdGlvbnMnLCdib20nLCdub3RlcyddLmluY2x1ZGVzKGtleSkpKS5tYXAoKGtleSkgPT4ge1xuICAgICAgICByZXR1cm4gY29kZVJlc3VsdFtrZXldXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuVmFsLm91dHB1dCA9IG1vZGVsQXJyYXk7XG4gICAgfVxuXG4gIH1cbiAgY29uc29sZVxuICByZXR1cm4gcmV0dXJuVmFsO1xuXG59XG4iLCJpbXBvcnQgeyBSZW5kZXJFbmdpbmUgfSBmcm9tICcuL3JlbmRlcmVuZ2luZS5qcyc7XG4vL1JlbmRlcmluZyBlbmdpbmUgd29ya2VyIHRocmVhZFxuc2VsZi5vbm1lc3NhZ2UgPSAoeyBkYXRhIH0pID0+IHtcblxuICBsZXQgaGFuZGxlUmVuZGVyUmVzcG9uc2UgPSAocmVzcG9uc2VEYXRhKSA9PiB7XG4gICAgc2VsZi5wb3N0TWVzc2FnZShyZXNwb25zZURhdGEpXG4gIH1cblxuICBsZXQgcmVuZGVyRW5naW5lID0gbmV3IFJlbmRlckVuZ2luZTtcbiAgaWYgKGRhdGEudHlwZSA9PSAncmVuZGVyUmVxdWVzdCcpIHtcbiAgICByZW5kZXJFbmdpbmUucmVuZGVyQ29kZShcbiAgICAgIGRhdGEuY29kZSxcbiAgICAgIGRhdGEub3B0aW9ucyxcbiAgICAgIGhhbmRsZVJlbmRlclJlc3BvbnNlXG4gICAgKVxuICB9XG5cbn07XG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuLy8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbl9fd2VicGFja19yZXF1aXJlX18ubSA9IF9fd2VicGFja19tb2R1bGVzX187XG5cbi8vIHRoZSBzdGFydHVwIGZ1bmN0aW9uXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnggPSAoKSA9PiB7XG5cdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuXHQvLyBUaGlzIGVudHJ5IG1vZHVsZSBkZXBlbmRzIG9uIG90aGVyIGxvYWRlZCBjaHVua3MgYW5kIGV4ZWN1dGlvbiBuZWVkIHRvIGJlIGRlbGF5ZWRcblx0dmFyIF9fd2VicGFja19leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fLk8odW5kZWZpbmVkLCBbOF0sICgpID0+IChfX3dlYnBhY2tfcmVxdWlyZV9fKDc0NjQpKSlcblx0X193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18uTyhfX3dlYnBhY2tfZXhwb3J0c19fKTtcblx0cmV0dXJuIF9fd2VicGFja19leHBvcnRzX187XG59O1xuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18uZiA9IHt9O1xuLy8gVGhpcyBmaWxlIGNvbnRhaW5zIG9ubHkgdGhlIGVudHJ5IGNodW5rLlxuLy8gVGhlIGNodW5rIGxvYWRpbmcgZnVuY3Rpb24gZm9yIGFkZGl0aW9uYWwgY2h1bmtzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmUgPSAoY2h1bmtJZCkgPT4ge1xuXHRyZXR1cm4gUHJvbWlzZS5hbGwoT2JqZWN0LmtleXMoX193ZWJwYWNrX3JlcXVpcmVfXy5mKS5yZWR1Y2UoKHByb21pc2VzLCBrZXkpID0+IHtcblx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmZba2V5XShjaHVua0lkLCBwcm9taXNlcyk7XG5cdFx0cmV0dXJuIHByb21pc2VzO1xuXHR9LCBbXSkpO1xufTsiLCIvLyBUaGlzIGZ1bmN0aW9uIGFsbG93IHRvIHJlZmVyZW5jZSBhc3luYyBjaHVua3MgYW5kIHNpYmxpbmcgY2h1bmtzIGZvciB0aGUgZW50cnlwb2ludFxuX193ZWJwYWNrX3JlcXVpcmVfXy51ID0gKGNodW5rSWQpID0+IHtcblx0Ly8gcmV0dXJuIHVybCBmb3IgZmlsZW5hbWVzIGJhc2VkIG9uIHRlbXBsYXRlXG5cdHJldHVybiBcIlwiICsgY2h1bmtJZCArIFwiLmJ1bmRsZS5qc1wiO1xufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJ2YXIgc2NyaXB0VXJsO1xuaWYgKF9fd2VicGFja19yZXF1aXJlX18uZy5pbXBvcnRTY3JpcHRzKSBzY3JpcHRVcmwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcubG9jYXRpb24gKyBcIlwiO1xudmFyIGRvY3VtZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmRvY3VtZW50O1xuaWYgKCFzY3JpcHRVcmwgJiYgZG9jdW1lbnQpIHtcblx0aWYgKGRvY3VtZW50LmN1cnJlbnRTY3JpcHQpXG5cdFx0c2NyaXB0VXJsID0gZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmNcblx0aWYgKCFzY3JpcHRVcmwpIHtcblx0XHR2YXIgc2NyaXB0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpO1xuXHRcdGlmKHNjcmlwdHMubGVuZ3RoKSBzY3JpcHRVcmwgPSBzY3JpcHRzW3NjcmlwdHMubGVuZ3RoIC0gMV0uc3JjXG5cdH1cbn1cbi8vIFdoZW4gc3VwcG9ydGluZyBicm93c2VycyB3aGVyZSBhbiBhdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIHlvdSBtdXN0IHNwZWNpZnkgYW4gb3V0cHV0LnB1YmxpY1BhdGggbWFudWFsbHkgdmlhIGNvbmZpZ3VyYXRpb25cbi8vIG9yIHBhc3MgYW4gZW1wdHkgc3RyaW5nIChcIlwiKSBhbmQgc2V0IHRoZSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyB2YXJpYWJsZSBmcm9tIHlvdXIgY29kZSB0byB1c2UgeW91ciBvd24gbG9naWMuXG5pZiAoIXNjcmlwdFVybCkgdGhyb3cgbmV3IEVycm9yKFwiQXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXJcIik7XG5zY3JpcHRVcmwgPSBzY3JpcHRVcmwucmVwbGFjZSgvIy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcPy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcL1teXFwvXSskLywgXCIvXCIpO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gc2NyaXB0VXJsOyIsIi8vIG5vIGJhc2VVUklcblxuLy8gb2JqZWN0IHRvIHN0b3JlIGxvYWRlZCBjaHVua3Ncbi8vIFwiMVwiIG1lYW5zIFwiYWxyZWFkeSBsb2FkZWRcIlxudmFyIGluc3RhbGxlZENodW5rcyA9IHtcblx0ODI1OiAxXG59O1xuXG4vLyBpbXBvcnRTY3JpcHRzIGNodW5rIGxvYWRpbmdcbnZhciBpbnN0YWxsQ2h1bmsgPSAoZGF0YSkgPT4ge1xuXHR2YXIgW2NodW5rSWRzLCBtb3JlTW9kdWxlcywgcnVudGltZV0gPSBkYXRhO1xuXHRmb3IodmFyIG1vZHVsZUlkIGluIG1vcmVNb2R1bGVzKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcblx0XHRcdF9fd2VicGFja19yZXF1aXJlX18ubVttb2R1bGVJZF0gPSBtb3JlTW9kdWxlc1ttb2R1bGVJZF07XG5cdFx0fVxuXHR9XG5cdGlmKHJ1bnRpbWUpIHJ1bnRpbWUoX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cdHdoaWxlKGNodW5rSWRzLmxlbmd0aClcblx0XHRpbnN0YWxsZWRDaHVua3NbY2h1bmtJZHMucG9wKCldID0gMTtcblx0cGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24oZGF0YSk7XG59O1xuX193ZWJwYWNrX3JlcXVpcmVfXy5mLmkgPSAoY2h1bmtJZCwgcHJvbWlzZXMpID0+IHtcblx0Ly8gXCIxXCIgaXMgdGhlIHNpZ25hbCBmb3IgXCJhbHJlYWR5IGxvYWRlZFwiXG5cdGlmKCFpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0pIHtcblx0XHRpZih0cnVlKSB7IC8vIGFsbCBjaHVua3MgaGF2ZSBKU1xuXHRcdFx0aW1wb3J0U2NyaXB0cyhfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBfX3dlYnBhY2tfcmVxdWlyZV9fLnUoY2h1bmtJZCkpO1xuXHRcdH1cblx0fVxufTtcblxudmFyIGNodW5rTG9hZGluZ0dsb2JhbCA9IHNlbGZbXCJ3ZWJwYWNrQ2h1bmtcIl0gPSBzZWxmW1wid2VicGFja0NodW5rXCJdIHx8IFtdO1xudmFyIHBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uID0gY2h1bmtMb2FkaW5nR2xvYmFsLnB1c2guYmluZChjaHVua0xvYWRpbmdHbG9iYWwpO1xuY2h1bmtMb2FkaW5nR2xvYmFsLnB1c2ggPSBpbnN0YWxsQ2h1bms7XG5cbi8vIG5vIEhNUlxuXG4vLyBubyBITVIgbWFuaWZlc3QiLCIvLyBydW4gc3RhcnR1cFxudmFyIF9fd2VicGFja19leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fLngoKTtcbiJdLCJuYW1lcyI6WyJkZWZlcnJlZCIsIm5leHQiLCJFbXB0eU1vZGVsIiwiY29uc3RydWN0b3IiLCJ0aGlzIiwicGF0aHMiLCJtb2RlbHMiLCJ1bml0cyIsIkZpbGxldGVkUGF0aE1vZGVsIiwicGF0aFBvaW50cyIsImZpbGxldFJhZGlpIiwiY2xvc2VkIiwic3VwZXIiLCJwYXRoUGFpcnMiLCJwdXNoIiwiaSIsImxlbmd0aCIsIm1hcCIsInBhdGhQYWlyIiwiYXJjcyIsImZvckVhY2giLCJmaWxsZXRSYWRpdXMiLCJpbmRleCIsImNvbmNhdCIsImFkZFBhdGgiLCJPZmZzZXRMaW5lc0F0SW50ZXJ2YWxzIiwiYmFzZUxpbmVTdGFydCIsImJhc2VMaW5lRW5kIiwiaW50ZXJ2YWxzIiwicmVsYXRpdmVJbnRlcnZhbHMiLCJsaW5lTGF5ZXIiLCJmbGlwUG9zaXRpdmVEaXJlY3Rpb24iLCJleHRlbnNpb25MaW5lQW5nbGUiLCJjdW11bGF0aXZlRXh0ZW5zaW9uIiwiQXJyYXkiLCJpc0FycmF5IiwiaW50ZXJ2YWxEaXN0Iiwib2Zmc2V0TGluZSIsImRpc3RQb2ludCIsIkNvZGVSdW5uZXJVdGlscyIsImxpbmVGcm9tUG9pbnRBdEFuZ2xlIiwiZnJvbVBvaW50IiwiYW5nbGVJbkRlZ3JlZXMiLCJhbmdsZUluUmFkaWFucyIsInRvUG9pbnQiLCJlbmFibGVTcGxpdHRpbmciLCJtb2RlbFRvU2V0Iiwic3BsaXQiLCJpZk5lZWRlZCIsImF4aXMiLCJhdXRvQ2FwdGlvbk1vZGVsIiwibW9kZWxUb0NhcHRpb24iLCJjYXB0aW9uIiwidGV4dEhlaWdodCIsImxvY2F0aW9uIiwibW9kZWxFeHRlbnRzIiwibG93IiwiaGlnaCIsImNsb25lQW5kT2Zmc2V0IiwibW9kZWxUb0Nsb25lIiwib2Zmc2V0IiwicG9pbnRGcm9tUG9pbnRBdEFuZ2xlIiwicG9pbnRGcm9tUG9pbnRMaW5lQXRBbmdsZSIsInAxIiwicDIiLCJkaXN0YW5jZSIsInBhcmFtcyIsIk9iamVjdCIsImFzc2lnbiIsImNsb2Nrd2lzZSIsImFuZ2xlIiwiaW5zZXQiLCJwb2ludEFuZ2xlIiwiciIsIk1hdGgiLCJzaW4iLCJQSSIsInRhYlBvaW50c0Zyb21Qb2ludExpbmUiLCJiYXNlSW5zZXQiLCJiYXNlSW5zZXQyIiwiYW5nbGUyIiwicGkxIiwic2xpY2UiLCJwaTIiLCJ0YWJQMSIsInRhYlAyIiwicmVzdWx0IiwicmVsYXRpdmVQb2ludExpc3RUb0Fic29sdXRlIiwicG9pbnRzIiwibGFzdFBvaW50IiwidGhpc1BvaW50IiwiYWJzUG9pbnQiLCJkcmF3RW5nbGlzaFBvaW50IiwiZnJvbSIsInRvIiwib3B0aW9ucyIsInJpc2VyUENUIiwicmlzZXJIZWlnaHQiLCJsaW5lQW5nbGUiLCJvcmlnaW5Gcm9tIiwib3JpZ2luVG8iLCJtaWRQb2ludCIsImNpcmNsZUZyb20iLCJjaXJjbGVUbyIsImludGVyc2VjdGlvbiIsImludGVyc2VjdGlvbkRpc3RhbmNlIiwiaW50ZXJzZWN0aW9uUG9pbnRzIiwibWlkUG9pbnRUaXAiLCJtaWRQb2ludEFuZ2xlRnJvbSIsIm1pZFBvaW50QW5nbGVUbyIsImVuZ2xpc2hQb2ludCIsImFkZFRhYkF0UG9pbnRMaW5lQXRMaW5lSW5kZXgiLCJwb2ludExpbmUiLCJhdXRvV3JhcCIsInAySW5kZXgiLCJ0YWJQb2ludHMiLCJzcGxpY2UiLCJkZXRlcm1pbmVCZW5kQWxsb3dhbmNlIiwibWF0ZXJpYWxUaGlja25lc3MiLCJpbm5lclJhZGl1cyIsImsiLCJzaW5nbGVTaWRlZCIsIm1heCIsImJlbmRBbGxvd2FuY2UiLCJjaG9yZGFsVHJhcGV6b2lkUG9pbnRMaW5lIiwicmFkaXVzRGVsdGEiLCJpbm5lckNob3JkTGVuZ3RoIiwib3V0ZXJDaG9yZExlbmd0aCIsIm91dGVyUmFkaXVzIiwiY2FyZFNsb3RQb2ludExpbmUiLCJvdXRlcldpZHRoIiwib3V0ZXJIZWlnaHQiLCJ0U2xvdCIsImJhc2VXaWR0aFBDVCIsImJhc2VXaWR0aCIsInN0aXRjaEFsbG93YW5jZSIsInNpZGVJbnNldCIsImNhcmRTdGlja091dFBDVCIsImNhcmRTdGlja091dCIsInNsb3RSaXNlQW1vdW50UENUIiwic2xvdFJpc2VBbW91bnQiLCJ0b3BMaW5lU2xvcGVQQ1QiLCJ0b3BMaW5lU2xvcGVSaXNlIiwidG9wTGluZVBvaW50cyIsInBhbmVsSGVpZ2h0IiwicGFuZWxXaWR0aCIsIkhlYXBQYWNrZXIiLCJhcHBsaWVkT3B0aW9ucyIsImRlZmF1bHRQYWNrQXJlYUhlaWdodCIsImRlZmF1bHRQYWNrQXJlYVdpZHRoIiwiZ3Jvd0xpbWl0SGVpZ2h0IiwiZ3Jvd0xpbWl0V2lkdGgiLCJjYW5Hcm93UGFja0FyZWEiLCJjYW5BZGRQYWNrQXJlYXMiLCJhdmFpbGFibGVIZWFwIiwicGFja0FyZWFEZWZpbml0aW9ucyIsInBhY2tBcmVhTWF4SW5kZXgiLCJwYWNrZWRCbG9ja3MiLCJhZGRQYWNrQXJlYSIsInBhY2tlZEFyZWFzIiwicGFja0FyZWEiLCJpZCIsImEiLCJoIiwidyIsImJsb2NrcyIsImZpbHRlciIsImJsb2NrIiwiYWRkUGFja0FyZWFXaWR0aCIsImFkZFBhY2tBcmVhSGVpZ2h0IiwibmV3UGFja0FyZWEiLCJ4IiwieSIsImdyb3dQYWNrQXJlYSIsImdyb3dUb0ZpdFdpZHRoIiwiZ3Jvd1RvRml0SGVpZ2h0IiwicGFja0FyZWFJZCIsImVkaXRpbmdQYWNrQXJlYSIsImZpbmQiLCJncm93T25XaWR0aCIsImFjdHVhbEZpbmFsV2lkdGgiLCJhY3R1YWxGaW5hbEhlaWdodCIsInBhY2tBcmVhSGVhcHMiLCJoZWFwIiwicmlnaHRTaWRlRGVsdGEiLCJib3R0b21TaWRlRGVsdGEiLCJzIiwiZSIsInNvcnRIZWFwRm9yUGFja2luZyIsInNvcnRCbG9ja3NGb3JQYWNraW5nIiwiYmxvY2tzVG9QYWNrIiwic29ydCIsImIiLCJzcGxpdFJlbWFpbmluZ0hlYXAiLCJoZWFwQXJlYSIsInNwbGl0QSIsInNwbGl0QiIsInBhY2tCbG9ja0luQXZhaWxhYmxlQXJlYXMiLCJibG9ja1BhY2tlZCIsImZpdHRpbmdIZWFwSW5kZXgiLCJmaW5kSW5kZXgiLCJmaXR0aW5nSGVhcCIsInBhY2tlZEJsb2NrIiwicm90YXRlZCIsIm1vZGVsIiwiaGVhcFJlbWFpbmluZyIsInRyaW1FbXB0eVBhY2tBcmVhcyIsInZhbGlkUGFja0FyZWFzIiwiaW5jbHVkZXMiLCJwYWNrQmxvY2siLCJNb2RlbFNwbGl0dGVyIiwidHJpbU1vZGVsVG9MaW5lIiwibW9kZWxUb1NsaWNlIiwibGluZUF0Iiwia2VlcFBvc2l0aXZlU2lkZSIsImFsb25nWEF4aXMiLCJvdmVybGFwIiwiaW5jbHVkZUN1dHRpbmdMaW5lSGludCIsImFzQ2xvbmUiLCJjdXR0ZXJQYXRoRXh0ZW5zaW9uIiwiY3V0dGVyUGF0aCIsImJvdW5kaW5nQm94IiwiYm91bmRpbmdCb3hXaWR0aCIsImJvdW5kaW5nQm94T2Zmc2V0WCIsImJvdW5kaW5nQm94SGVpZ2h0IiwiYm91bmRpbmdCb3hPZmZzZXRZIiwibW9kZWxTaXplIiwiY29uc29sZSIsImxvZyIsImhlaWdodCIsIndpZHRoIiwib25QYXRoIiwiY29udGV4dCIsInBhdGhJbnRlcnNlY3Rpb24iLCJwYXRoQ29udGV4dCIsImludGVyc2VjdGlvblBvaW50IiwibW9kZWxDb250ZXh0IiwicGF0aElkIiwiY3V0dGluZ0xpbmVIaW50Iiwic3BsaXRNb2RlbCIsIm1vZGVsVG9TcGxpdCIsInNwbGl0QXRQY3QiLCJzcGxpdEF0RGlzdCIsIk1vZGVsUGFja2VyIiwicGFja2luZ09wdGlvbnMiLCJwYWdlU2l6ZSIsInBhZ2VTaXplR3Jvd0xpbWl0IiwiY2FuQWRkUGFnZXMiLCJjYW5Hcm93UGFnZVNpemUiLCJhbGxvd1JvdGF0aW9uIiwiYWxsb3dTcGxpdHRpbmciLCJtYXhTcGxpdEl0ZXJhdGlvbnMiLCJjcmVhdGVNb2RlbEJsb2NrIiwiYmxvY2tpZCIsInNwbGl0Q291bnQiLCJwYWNrTW9kZWxzIiwiZmFpbGluZ01vZGVscyIsInJlZHVjZSIsImFjY3VtdWxhdG9yIiwibW9kZWxCbG9jayIsImhlYXBQYWNrZXIiLCJyb3RhdGVCbG9jayIsInRlbXBXIiwidW5wYWNrZWRCbG9ja3MiLCJza2lwU3BsaXR0aW5nQmxvY2tzIiwibW9kZWxTcGxpdHRlciIsImN1cnJlbnRCbG9ja0luZGV4IiwiYmxvY2tDYW5TcGxpdCIsInNwbGl0TW9kZWxzIiwicGFja2VkUGFnZXMiLCJwYWNrZWRQYWdlIiwicGFnZU1vZGVsIiwicGFnZXMiLCJvcmlnaW4iLCJwYWdlQmxvY2tNb2RlbCIsImFuY2hvciIsInVucGFja2VkTW9kZWxzIiwibW1Ub1BERlBQSSIsIm1tRGlzdGFuY2UiLCJSZW5kZXJFbmdpbmUiLCJyZW5kZXJJblByb2dyZXNzIiwiZ2V0UmVuZGVySW5Qcm9ncmVzcyIsInNjYWxlTW9kZWxUb1BERlBQSSIsInNjYWxlIiwicmVuZGVyTW9kZWxUb1NWRyIsInJlbmRlck9wdHMiLCJyZW5kZXJPcHRpb25zIiwic3R5bGVTZXQiLCJzdGl0Y2giLCJzdHJva2UiLCJzdHJva2VXaWR0aCIsImNzc1N0eWxlIiwiY2VudGVyIiwiaGludCIsInVzZVN2Z1BhdGhPbmx5IiwibGF5ZXJPcHRpb25zIiwicmVuZGVyUGFnZU1vZGVsc1RvU1ZHIiwicGFnZU1vZGVscyIsInN2Z1BhZ2VzIiwiUHJvbWlzZSIsInJlc29sdmUiLCJtb2RlbFRvUERGIiwiZG9jIiwicGFnZU1hcmdpbnMiLCJsYXllclN0eWxlcyIsImJhc2UiLCJzdHJva2VDb2xvciIsInNjYWxlZE1vZGVsIiwic3ZnUGF0aHMiLCJsZWZ0IiwidG9wIiwiYnlMYXllcnMiLCJrZXkiLCJ2YWx1ZSIsImVudHJpZXMiLCJzYXZlIiwicGF0aCIsInN0eWxlIiwibGluZVdpZHRoIiwiZGFzaGVkIiwiZGFzaCIsInVuZGFzaCIsInJlc3RvcmUiLCJtb2RlbENhcHRpb24iLCJ0ZXh0IiwiZW5kIiwiYmFzZWxpbmUiLCJyZW5kZXJQYWdlTW9kZWxzVG9QREYiLCJwYXR0ZXJuSm9pbkxpbmUiLCJsYXlvdXQiLCJyaWdodCIsImJvdHRvbSIsInBkZlBhZ2VTZXR0aW5ncyIsInNpemUiLCJhdXRvRmlyc3RQYWdlIiwic3RyZWFtIiwicGlwZSIsInBhZ2UiLCJhZGRQYWdlIiwicmVqZWN0Iiwib24iLCJibG9iIiwidG9CbG9iIiwicmVhZGVyIiwiRmlsZVJlYWRlciIsInJlYWRBc0RhdGFVUkwiLCJvbmxvYWRlbmQiLCJibG9iVG9CYXNlNjQiLCJyZW5kZXJDb2RlIiwiY29kZSIsInJlc3BvbnNlQ2FsbGJhY2siLCJmb3JtYXQiLCJwYWNrVG9QYWdlcyIsIm1vZGVsc0ZvclBhZ2VQYWNraW5nIiwiZHJhd0NvZGUiLCJ1c2VyUGFyYW1ldGVycyIsIkNvZGVXcmFwcGVyRnVuY3Rpb24iLCJGdW5jdGlvbiIsInByb3RvdHlwZSIsImNydSIsImNvZGVSZXN1bHQiLCJyZXR1cm5WYWwiLCJtb2RlbEFycmF5Iiwia2V5cyIsIm91dHB1dCIsInJ1bkRyYXdDb2RlIiwicGFja2luZ1Jlc3VsdCIsInJlbmRlcmVkUGFnZXMiLCJ0aGVuIiwicmVuZGVyZWREYXRhIiwidHlwZSIsImNvbnRlbnRUeXBlIiwicmVuZGVyRm9yIiwic3VjY2Vzc0NvbnRlbnQiLCJlcnJvckNvbnRlbnQiLCJsb2dNZXNzYWdlcyIsInJlc2V0Iiwic2VsZiIsIm9ubWVzc2FnZSIsImRhdGEiLCJyZW5kZXJFbmdpbmUiLCJyZXNwb25zZURhdGEiLCJwb3N0TWVzc2FnZSIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwibSIsIl9fd2VicGFja19leHBvcnRzX18iLCJPIiwiY2h1bmtJZHMiLCJmbiIsInByaW9yaXR5Iiwibm90RnVsZmlsbGVkIiwiSW5maW5pdHkiLCJmdWxmaWxsZWQiLCJqIiwiZXZlcnkiLCJuIiwiZ2V0dGVyIiwiX19lc01vZHVsZSIsImQiLCJkZWZpbml0aW9uIiwibyIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsImYiLCJjaHVua0lkIiwiYWxsIiwicHJvbWlzZXMiLCJ1IiwiZyIsImdsb2JhbFRoaXMiLCJ3aW5kb3ciLCJvYmoiLCJwcm9wIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJzY3JpcHRVcmwiLCJpbXBvcnRTY3JpcHRzIiwiZG9jdW1lbnQiLCJjdXJyZW50U2NyaXB0Iiwic3JjIiwic2NyaXB0cyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiRXJyb3IiLCJyZXBsYWNlIiwicCIsImluc3RhbGxlZENodW5rcyIsImNodW5rTG9hZGluZ0dsb2JhbCIsInBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uIiwiYmluZCIsIm1vcmVNb2R1bGVzIiwicnVudGltZSIsInBvcCJdLCJzb3VyY2VSb290IjoiIn0=