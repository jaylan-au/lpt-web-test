(()=>{var e,t,a={7464:(e,t,a)=>{"use strict";var i=a(6254),s=a.n(i);class o{constructor(){this.paths={},this.models={},this.units="mm"}}class n extends o{constructor(e,t,a=!1){super();let i=[];a&&e.push(e[0]);for(let t=0;t<=e.length-2;t++)i.push([e[t],e[t+1]]);let o=i.map((e=>new(s().paths.Line)(e[0],e[1]))),n=[];t.forEach(((e,t)=>{e&&n.push(s().path.fillet(o[t],o[t+1>=o.length?0:t+1],e))})),o.concat(n).forEach(((e,t)=>{s().path.addTo(e,this,t)}))}}class l extends o{constructor(e,t,a=[],i=!0,o=null,n=!1){super();let l=s().angle.ofPointInDegrees(e,t)+90,r=0;(a=Array.isArray(a)?a:[a]).forEach((a=>{let n;if(i?r+=a:r=a,0==r)n=new(s().paths.Line)(e,t);else{let a=s().point.fromPolar(s().angle.toRadians(l),r);n=new(s().paths.Line)(s().point.add(e,a),s().point.add(t,a))}o&&s().path.layer(n,o),s().model.addPath(this,n)}))}}class r{EmptyModel=o;FilletedPathModel=n;OffsetLinesAtIntervals=l;lineFromPointAtAngle(e,t,a){let i=s().angle.toRadians(a),o=s().point.add(e,s().point.fromPolar(i,t));return new(s().paths.Line)(e,o)}enableSplitting(e){e.split={ifNeeded:!0,axis:"auto"}}autoCaptionModel(e,t,a=12,i="bottom"){let o=s().measure.modelExtents(e);return s().model.addCaption(e,t,[o.low[0],o.low[1]],[o.high[0],o.high[1]]),e}cloneAndOffset(e,t=[0,0]){return s().model.moveRelative(s().model.clone(e),t)}pointFromPointAtAngle(e,t,a){let i=s().angle.toRadians(a);return s().point.add(e,s().point.fromPolar(i,t))}pointFromPointLineAtAngle(e,t,a,i){i=Object.assign({clockwise:!1,angle:90,inset:0},i);let o=s().angle.ofPointInDegrees(e,t)-(i.clockwise?i.angle:-i.angle),n=a;return i.angle>0&&(n=a/Math.sin(Math.PI*i.angle/180)),this.pointFromPointAtAngle(e,n,o)}tabPointsFromPointLine(e,t,a){if(0!=(a=Object.assign({distance:0,clockwise:!1,angle:90,baseInset:0,baseInset2:null,angle2:null},a)).distance){let i=e.slice(),s=t.slice();null==a.baseInset2&&(a.baseInset2=a.baseInset),a.baseInset>0&&(i=this.pointFromPointLineAtAngle(e,t,a.baseInset,{clockwise:a.clockwise,angle:0})),a.baseInset2>0&&(s=this.pointFromPointLineAtAngle(t,e,a.baseInset2,{clockwise:a.clockwise,angle:0}));let o=this.pointFromPointLineAtAngle(i,s,a.distance,{clockwise:a.clockwise,angle:a.angle,inset:a.inset});null==a.angle2&&(a.angle2=a.angle);let n=this.pointFromPointLineAtAngle(s,i,a.distance,{clockwise:!a.clockwise,angle:a.angle2,inset:a.inset}),l=[];return a.baseInset>0&&l.push(i),l.push(o),l.push(n),a.baseInset2>0&&l.push(s),l}return[e,t]}relativePointListToAbsolute(e){let t=[0,0];return e.map((e=>{let a=s().point.add(t,e);return t=a,a}))}drawEnglishPoint(e,t,a){let i=Object.assign({},{riserPCT:1.2},a).riserPCT,o=s().measure.pointDistance(e,t)*i,n=s().angle.ofPointInDegrees(e,t),l=this.pointFromPointAtAngle(e,o,n),r=this.pointFromPointAtAngle(t,o,180+n),h=s().point.average(e,t),d=new(s().paths.Circle)(l,o),c=new(s().paths.Circle)(r,o),p=s().path.intersection(d,c),g=s().measure.pointDistance(p.intersectionPoints[0],p.intersectionPoints[1]),u=this.pointFromPointAtAngle(h,g/2,n+90),m=s().angle.ofPointInDegrees(l,u),w=s().angle.ofPointInDegrees(r,u),P=new this.EmptyModel;return s().model.addPath(P,s().path.layer(new(s().paths.Line)(h,u),"stitch")),s().model.addPath(P,new(s().paths.Arc)(l,o,m,n+180)),s().model.addPath(P,new(s().paths.Arc)(r,o,n,w)),P}addTabAtPointLineAtLineIndex(e,t,a){a=Object.assign({distance:0,clockwise:!1,angle:90,angle2:null,autoWrap:!0},a);let i=e[t],s=t+1;t+1>e.length-1&&a.autoWrap&&(s=0);let o=e[s],n=this.tabPointsFromPointLine(i,o,a);return e.splice(t+1,0,...n),e}determineBendAllowance(e){null==(e=Object.assign({angle:90,materialThickness:1,innerRadius:null,k:.5,singleSided:!1},e)).innerRadius&&(e.innerRadius=Math.max(.5,e.materialThickness/4));let t=e.angle*(Math.PI/180)*(e.innerRadius+e.k*e.materialThickness);return e.singleSided&&(t/=2),t}chordalTrapezoidPointLine(e){(e=Object.assign({radiusDelta:45,innerChordLength:10,outerChordLength:null,innerRadius:null,outerRadius:null,angle:30},e)).innerRadius||(e.innerRadius=e.innerChordLength/Math.sin(e.angle/2*(Math.PI/180))),e.radiusDelta?e.outerRadius=e.innerRadius+e.radiusDelta:e.radiusDelta||(e.outerRadius=e.outerChordLength/Math.sin(e.angle/2*(Math.PI/180)));let t=[];return t.push([0,0]),t.push(this.pointFromPointAtAngle([0,-e.innerRadius],e.innerRadius,90-e.angle)),t.push(this.pointFromPointAtAngle([0,-e.innerRadius],e.outerRadius,90-e.angle)),t.push([0,e.outerRadius-e.innerRadius]),t}cardSlotPointLine(e,t,a=!1,i=null){null==(i=Object.assign({baseWidthPCT:.75,baseWidth:null,stitchAllowance:3.8,sideInset:null,cardStickOutPCT:.2,cardStickOut:null,slotRiseAmountPCT:.2,slotRiseAmount:null,topLineSlopePCT:null,topLineSlopeRise:0,topLinePoints:null},i)).sideInset&&(i.sideInset=i.stitchAllowance),null==i.baseWidth&&(i.baseWidth=i.baseWidthPCT*e),null==i.cardStickOut&&(i.cardStickOut=i.cardStickOutPCT*t),null==i.slotRiseAmount&&(i.slotRiseAmount=i.slotRiseAmountPCT*t),null!=i.topLineSlopePCT&&(i.topLineSlopeRise=t*i.topLineSlopePCT),null==i.topLineSlopeRise&&(i.topLineSlopeRise=0);let s=t-i.cardStickOut,o=e,n=[];return n.push([0,s]),n.push([i.stitchAllowance,s]),n.push([o-i.stitchAllowance,s+i.topLineSlopeRise]),n.push([o,s+i.topLineSlopeRise]),a?(n.push([o,s+i.topLineSlopeRise-i.slotRiseAmount]),n.push([o-i.sideInset,s+i.topLineSlopeRise-i.slotRiseAmount]),n.push([(o+i.baseWidth)/2,0]),n.push([(o-i.baseWidth)/2,0]),n.push([i.sideInset,s-i.slotRiseAmount]),n.push([0,s-i.slotRiseAmount])):(n.push([o,0]),n.push([0,0])),n}}class h{constructor(e){let t=Object.assign({defaultPackAreaHeight:1e3,defaultPackAreaWidth:2e3,growLimitHeight:-1,growLimitWidth:-1,canGrowPackArea:!1,canAddPackAreas:!0},e);this.defaultPackAreaHeight=t.defaultPackAreaHeight,this.defaultPackAreaWidth=t.defaultPackAreaWidth,this.canGrowPackArea=t.canGrowPackArea,this.canAddPackAreas=t.canAddPackAreas,this.availableHeap=[],this.packAreaDefinitions=[],this.packAreaMaxIndex=0,this.packedBlocks=[],this.addPackArea()}packedAreas(){return this.packAreaDefinitions.map((e=>({id:e.a,h:e.h,w:e.w,blocks:this.packedBlocks.filter((t=>t.a==e.a))})))}addPackArea(e=null,t=null){e||(e=this.defaultPackAreaWidth),t||(t=this.defaultPackAreaHeight);let a={x:0,y:0,w:e,h:t,a:++this.packAreaMaxIndex};return this.packAreaDefinitions.push(Object.assign({},a)),this.availableHeap.push(a),a}growPackArea(e,t,a=-1){let i=null;i=a<0?this.packAreaDefinitions[this.packAreaDefinitions.length-1]:this.packAreaDefinitions.find((e=>e.id==a));let s=1-(i.w+e)/Math.max(i.h,t)<=1-Math.max(i.w,e)/(i.h+t),o=s?i.w+e:Math.max(i.w,e),n=s?Math.max(i.h,t):i.h+t,l=this.availableHeap.filter((e=>e.a==i.a)),r=(l.filter((e=>e.x+e.w==i.w)),l.filter((e=>e.y+e.h==i.h)),o-i.w),h=n-i.h;s?(this.availableHeap.push({s:1,a:i.a,x:i.x+i.w,y:i.y,w:r,h:i.h+h}),this.availableHeap.push({s:2,a:i.a,x:i.x,y:i.y+i.h,w:i.w,h})):(this.availableHeap.push({e:1,a:i.a,x:i.x,y:i.y+i.h,w:i.w+r,h}),this.availableHeap.push({e:2,a:i.a,x:i.x+i.w,y:i.y,w:r,h:i.h})),i.w=o,i.h=n}sortBlocksForPacking(e){return e.sort(((e,t)=>t.w*t.h-e.w*e.h)),e}sortHeapForPacking(){this.availableHeap.sort(((e,t)=>e.w*e.h-t.w*t.h))}splitRemainingHeap(e,t){let a,i;return e.w-t.w>=e.h-t.h?(a={x:e.x+t.w,y:e.y,w:e.w-t.w,h:e.h},i={x:e.x,y:e.y+t.h,w:t.w,h:e.h-t.h}):(a={x:e.x,y:e.y+t.h,w:e.w,h:e.h-t.h},i={x:e.x+t.w,y:e.y,w:e.w-t.w,h:t.h}),a.a=e.a,i.a=e.a,[a,i]}packBlockInAvailableAreas(e){let t=!1,a=this.availableHeap.findIndex((t=>t.w>=e.w&&t.h>=e.h));if(a>-1){let i=this.availableHeap[a],s={w:e.w,h:e.h,x:i.x,y:i.y,a:i.a,id:e.id,rotated:e.rotated,model:e.model};this.packedBlocks.push(s);let o=this.splitRemainingHeap(i,e);this.availableHeap.splice(a,1,o[0],o[1]),this.sortHeapForPacking(),t=!0}return t}trimEmptyPackAreas(){this.packAreaDefinitions=this.packAreaDefinitions.filter((e=>this.packedBlocks.filter((t=>t.a==e.a)).length>0));let e=this.packAreaDefinitions.map((e=>e.a));this.availableHeap=this.availableHeap.filter((t=>e.includes(t.a)))}packBlock(e){this.packAreaDefinitions.length<1&&this.addPackArea();let t=this.packBlockInAvailableAreas(e);return!t&&this.canGrowPackArea&&(this.growPackArea(e.w+1,e.h+1),t=this.packBlockInAvailableAreas(e)),!t&&this.canAddPackAreas&&(this.addPackArea(),t=this.packBlockInAvailableAreas(e)),t||this.trimEmptyPackAreas(),t}}class d{trimModelToLine(e,t,a=!0,i=!0,o=5,n=!0,l=!0){const r=.2;l&&(e=s().model.clone(e));let h,d,c,p,g,u,m=s().measure.modelExtents(e);if(console.log("Cutting"),i?(h=new(s().paths.Line)([m.low[0]+t+(a?-o:o),m.low[1]-m.height*r],[m.low[0]+t+(a?-o:o),m.high[1]+m.height*r]),c=(a?m.width-t:t)+2*o,p=a?m.low[0]+t-o:m.low[0]-o,g=m.height+2*o,u=m.low[1]-o):(h=new(s().paths.Line)([m.low[0]-m.width*r,m.low[1]+t+(a?-o:o)],[m.high[0]+m.width*r,m.low[1]+t+(a?-o:o)]),c=m.width+2*o,p=m.low[0]-o,g=(a?m.height-t:t)+2*o,u=a?m.low[0]+t-o:m.low[0]-o),d=s().model.move(new(s().models.Rectangle)(c,g),[p,u]),console.log(m,p,c,u,d,g),s().model.walk(e,{onPath:e=>{let t=s().path.intersection(e.pathContext,h);t&&t.intersectionPoints.forEach((t=>{let a=s().path.breakAtPoint(e.pathContext,t);s().model.addPath(e.modelContext,a)}))}}),s().model.walk(e,{onPath:e=>{s().model.isPathInsideModel(e.pathContext,d,e.offset)||delete e.modelContext.paths[e.pathId]}}),n){let a;a=i?new(s().paths.Line)([m.low[0]+t,m.low[1]-3],[m.low[0]+t,m.high[1]+3]):new(s().paths.Line)([m.low[0]-3,m.low[1]+t],[m.high[0]+3,m.low[1]+t]),s().path.layer(a,"patternJoinLine"),s().model.addPath(e,a)}return e}splitModel(e,t=.5,a=!0){let i=s().measure.modelExtents(e),o=a?t*i.width:t*i.height;return{models:{a:this.trimModelToLine(e,o,!0,a),b:this.trimModelToLine(e,o,!1,a)}}}}class c{constructor(e){let t=Object.assign({pageSize:{x:1e3,y:1e3},pageSizeGrowLimit:{x:-1,y:-1},canAddPages:!0,canGrowPageSize:!1,allowRotation:!0,allowSplitting:!0,maxSplitIterations:1},e);this.pageSize=t.pageSize,this.pageSizeGrowLimit=t.pageSizeGrowLimit,this.canAddPages=t.canAddPages,this.canGrowPageSize=t.canGrowPageSize,this.allowRotation=t.allowRotation,this.allowSplitting=t.allowSplitting}createModelBlock(e,t){let a=s().measure.modelExtents(e);return{id:t,model:e,w:a.width,h:a.height,rotated:!1,splitCount:0}}packModels(e){let t=[],a=e.reduce(((e,a,i)=>{let s=this.createModelBlock(a,i);return s.w&&s.h?e.push(s):t.push(s),e}),[]),i=new h({defaultPackAreaHeight:this.pageSize.y,defaultPackAreaWidth:this.pageSize.x,growLimitHeight:this.pageSizeGrowLimit.y,growLimitWidth:this.pageSizeGrowLimit.x,canGrowPackArea:this.canGrowPageSize,canAddPackAreas:this.canAddPages});function o(e){let t=e.w;e.w=e.h,e.h=t,e.rotated=!e.rotated}console.log("HEAP PACKER",i);let n=[],l=[];if(a.forEach((e=>{i.packBlock(e)?l.push(e):n.push(e)})),a=n,this.allowRotation&&(a.forEach((e=>{o(e)})),n=[],a.forEach((e=>{i.packBlock(e)?l.push(e):n.push(e)})),a=n,a.forEach((e=>{e=o(e)}))),this.allowSplitting){let e=[],t=new d,s=a.reduce(((e,t)=>Math.max(e,t.id)),0)+1;a=a.reduce(((a,i)=>{let o=!0;if(i.model.split&&0==i.model.split.ifNeeded&&(o=!1),o){let o=.5;i.model.split&&i.model.split.splitAtPct&&(o=i.model.split.splitAtPct);let n=!1;i.model.split&&"y"==i.model.split.axis&&(n=!0);let l=t.splitModel(i.model,o,n);l?(a.push(this.createModelBlock(l.models.a,s++)),a.push(this.createModelBlock(l.models.b,s++))):e.push(i)}else e.push(i);return a}),[]),n=[],a.forEach((e=>{i.packBlock(e)?l.push(e):n.push(e)})),this.allowRotation&&(a=n,a.forEach((e=>{o(e)})),n=[],a.forEach((e=>{i.packBlock(e)?l.push(e):n.push(e)}))),n=n.concat(e)}return n=n.concat(t),i.trimEmptyPackAreas(),{packedPages:i.packedAreas().map((e=>{let t={models:{},pages:{},origin:[0,0]};return e.blocks.forEach((e=>{e.rotated&&s().model.rotate(e.model,90);let a=s().measure.modelExtents(e.model).low;s().model.addModel(t,s().model.move(e.model,s().point.subtract([e.x,e.y],a))),e.model.caption&&s().path.move(e.model.caption.anchor,[e.x,e.y])})),t})),unpackedModels:n.map((e=>e.model))}}}var p=a(3125),g=a.n(p),u=a(7152),m=a.n(u);function w(e){return 72*e/25.4}class P{constructor(){this.renderInProgress=!1}getRenderInProgress(){return this.renderInProgress}scaleModelToPDFPPI(e){var t=1;return t=s().units.conversionScale("mm",s().unitType.Inch),t*=72,s().model.scale(s().model.clone(e),t)}renderModelToSVG(e,t){let a={styleSet:{stitch:{stroke:"red",strokeWidth:"1",cssStyle:"stroke-dasharray: 5, 5"},center:{stroke:"green",strokeWidth:"1",cssStyle:"stroke-dasharray: 5, 5, 12, 5"},hint:{stroke:"blue",strokeWidth:"1",cssStyle:"stroke-dasharray: 2, 8"}}};return Object.assign(a,t),e.units=s().unitType.Millimeter,s().exporter.toSVG(e,{useSvgPathOnly:!1,units:"mm",layerOptions:a.styleSet})}renderPageModelsToSVG(e,t){let a=e.map((e=>this.renderModelToSVG(e,t)));return Promise.resolve(a)}modelToPDF(e,t,a,i){i||(i={}),i.base||(i.base={strokeWidth:1,strokeColor:"#000"});let o=this.scaleModelToPDFPPI(t),n=s().measure.modelExtents(o),l=s().exporter.toSVGPathData(o,{origin:[w(a.left),n.high[1]+w(a.top)],byLayers:!0});for(const[t,a]of Object.entries(l)){e.save(),e.path(a);let s=i[t&&""!=t?t:"base"];s||(s=i.base),s&&(s.strokeWidth&&e.lineWidth(s.strokeWidth),s.dashed?e.dash(s.dashed[0],s.dashed[1]):e.undash(),s.strokeColor&&e.stroke(s.strokeColor)),e.restore()}s().model.getAllCaptionsOffset(o).forEach((t=>{console.log("Processing",t),e.text(t.text,n.low[0]+w(a.left)+t.anchor.origin[0],n.high[1]+w(a.top)-t.anchor.origin[1]-(t.anchor.end[1]-t.anchor.origin[1])/2,{baseline:"top"}),console.log("Processing",t,n,w(a.top),n.low[0]+w(a.left)+t.anchor.origin[0],n.high[1]+w(a.top)-t.anchor.origin[1])}))}renderPageModelsToPDF(e,t){let a={styleSet:{base:{strokeWidth:"1",strokeColor:"#000"},center:{strokeWidth:"1",dashed:[10,20],strokeColor:"#0F0"},hint:{strokeWidth:"1",dashed:[5,5],strokeColor:"#00F"},stitch:{strokeWidth:"1",dashed:[2,10],strokeColor:"#F000"},patternJoinLine:{strokeWidth:"1",dashed:[2,10],strokeColor:"#b2c"}},pageMargins:5,units:"mm",layout:"portrait",pageSize:"A4"};if(Object.assign(a,t),!a.pageSize)throw"Page size must be specified for PDF rendering, try A4";a.pageMargins&&"object"!=typeof a.pageMargins&&(a.pageMargins={left:a.pageMargins,right:a.pageMargins,top:a.pageMargins,bottom:a.pageMargins});let i={layout:a.layout,size:"string"==typeof a.pageSize?a.pageSize:[w(a.pageSize.x),w(a.pageSize.y)]};console.log("PDF Setup",i);let s=new(g())({autoFirstPage:!1}),o=s.pipe(m()());return e.forEach((e=>{s.addPage(i),this.modelToPDF(s,e,a.pageMargins,a.styleSet)})),s.end(),new Promise((function(e,t){o.on("finish",(function(){const t=o.toBlob("application/pdf");e(function(e){const t=new FileReader;return t.readAsDataURL(e),new Promise((e=>{t.onloadend=()=>{e(t.result)}}))}(t))})),o.on("error",(function(){t()}))}))}renderCode(e,t,a){this.renderInProgress=!0;let i={format:"SVG",pageSize:{x:1e3,y:1e3},packToPages:!1,canAddPages:!0,canGrowPageSize:!1,pageMargins:10,allowSplitting:!0,allowRotation:!0};Object.assign(i,t),i.pageMargins&&"object"!=typeof i.pageMargins&&(i.pageMargins={left:i.pageMargins,right:i.pageMargins,top:i.pageMargins,bottom:i.pageMargins});let o=function(e,t){let a=new Function("console","makerjs","MakerJs","userParameters","utils",e);a.prototype.models={};let i=new r,o=new a(console,s(),s(),t,i),n=null;if(o)if(n={},o.userParameters&&(n.userParameters=o.userParameters),o.styleSet&&(n.styleSet=o.styleSet),o.log&&(n.log=o.log),o.models&&"legacy"!=o.models){let e=[];e=Object.keys(o.models).map((e=>o.models[e])),n.output=e}else if(o&&Object.keys(o).length>0){let e=[];e=Object.keys(o).filter((e=>!["userParameters","styleSet","models","log","instructions","bom","notes"].includes(e))).map((e=>o[e])),n.output=e}return console,n}(e,Object.assign({},t.userParameters)).output;if(Array.isArray(o)&&o.length>0){let e=new c({pageSize:{x:Math.max(i.pageSize.x-(i.pageMargins.left+i.pageMargins.right),0),y:Math.max(i.pageSize.y-(i.pageMargins.top+i.pageMargins.bottom),0)},pageSizeGrowLimit:{x:-1,y:-1},canAddPages:i.canAddPages,canGrowPageSize:i.canGrowPageSize,allowRotation:i.allowRotation,allowSplitting:i.allowSplitting}).packModels(o);console.log("Packing Result",e);let s=[];"SVG"==i.format?s=this.renderPageModelsToSVG(e.packedPages,i):"PDF"==i.format&&(s=this.renderPageModelsToPDF(e.packedPages,i)),s.then((s=>{Array.isArray(s)||(s=[s]),a({type:"renderResponse",contentType:i.format,renderFor:t.renderFor,successContent:s,errorContent:e.unpackedModels,logMessages:[]})}))}else a({type:"renderResponse",contentType:i.format,renderFor:t.renderFor,successContent:[],errorContent:[],logMessages:[]});this.renderInProgress=!1}reset(){}}self.onmessage=({data:e})=>{let t=new P;"renderRequest"==e.type&&t.renderCode(e.code,e.options,(e=>{self.postMessage(e)}))}},9862:()=>{},964:()=>{}},i={};function s(e){var t=i[e];if(void 0!==t)return t.exports;var o=i[e]={exports:{}};return a[e](o,o.exports,s),o.exports}s.m=a,s.x=()=>{var e=s.O(void 0,[8],(()=>s(7464)));return s.O(e)},e=[],s.O=(t,a,i,o)=>{if(!a){var n=1/0;for(d=0;d<e.length;d++){for(var[a,i,o]=e[d],l=!0,r=0;r<a.length;r++)(!1&o||n>=o)&&Object.keys(s.O).every((e=>s.O[e](a[r])))?a.splice(r--,1):(l=!1,o<n&&(n=o));if(l){e.splice(d--,1);var h=i();void 0!==h&&(t=h)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[a,i,o]},s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},s.f={},s.e=e=>Promise.all(Object.keys(s.f).reduce(((t,a)=>(s.f[a](e,t),t)),[])),s.u=e=>e+".bundle.js",s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;s.g.importScripts&&(e=s.g.location+"");var t=s.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var a=t.getElementsByTagName("script");a.length&&(e=a[a.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),s.p=e})(),(()=>{var e={825:1};s.f.i=(t,a)=>{e[t]||importScripts(s.p+s.u(t))};var t=self.webpackChunk=self.webpackChunk||[],a=t.push.bind(t);t.push=t=>{var[i,o,n]=t;for(var l in o)s.o(o,l)&&(s.m[l]=o[l]);for(n&&n(s);i.length;)e[i.pop()]=1;a(t)}})(),t=s.x,s.x=()=>s.e(8).then(t),s.x()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFBb0JPLEVBQUVOLEdBQVlzRCxFQUFZdEQsSUFJaEQsSUFER3VELEdBQVNBLEVBQVF4RCxHQUNkVSxFQUFTMVgsUUFDZG1hLEVBQWdCekMsRUFBUytDLE9BQVMsRUFDbkNKLEVBQTJCMUQsSyxHbEJuQnhCMVgsRUFBTytYLEVBQW9Cck4sRUFDL0JxTixFQUFvQnJOLEVBQUksSUFDaEJxTixFQUFvQnJNLEVBQUUsR0FBR3FMLEtBQUsvVyxHbUJEWitYLEVBQW9Cck4sSyIsInNvdXJjZXMiOlsid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvY2h1bmsgbG9hZGVkIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvc3RhcnR1cCBjaHVuayBkZXBlbmRlbmNpZXMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL3JlbmRlcmVuZ2luZS9jb2RlcnVubmVyL2VtcHR5bW9kZWwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL3JlbmRlcmVuZ2luZS9jb2RlcnVubmVyL2NvZGVydW5uZXJ1dGlscy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvcmVuZGVyZW5naW5lL2hlYXBwYWNrZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL3JlbmRlcmVuZ2luZS9tb2RlbHNwbGl0dGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9yZW5kZXJlbmdpbmUvbW9kZWxwYWNrZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL3JlbmRlcmVuZ2luZS9yZW5kZXJlbmdpbmUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL3JlbmRlcmVuZ2luZS9jb2RlcnVubmVyL2NvZGVydW5uZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL3JlbmRlcmVuZ2luZS9yZW5kZXJ3b3JrZXIuanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvZW5zdXJlIGNodW5rIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvZ2V0IGphdmFzY3JpcHQgY2h1bmsgZmlsZW5hbWUiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9nbG9iYWwiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9wdWJsaWNQYXRoIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvaW1wb3J0U2NyaXB0cyBjaHVuayBsb2FkaW5nIiwid2VicGFjazovLy93ZWJwYWNrL3N0YXJ0dXAiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGRlZmVycmVkID0gW107XG5fX3dlYnBhY2tfcmVxdWlyZV9fLk8gPSAocmVzdWx0LCBjaHVua0lkcywgZm4sIHByaW9yaXR5KSA9PiB7XG5cdGlmKGNodW5rSWRzKSB7XG5cdFx0cHJpb3JpdHkgPSBwcmlvcml0eSB8fCAwO1xuXHRcdGZvcih2YXIgaSA9IGRlZmVycmVkLmxlbmd0aDsgaSA+IDAgJiYgZGVmZXJyZWRbaSAtIDFdWzJdID4gcHJpb3JpdHk7IGktLSkgZGVmZXJyZWRbaV0gPSBkZWZlcnJlZFtpIC0gMV07XG5cdFx0ZGVmZXJyZWRbaV0gPSBbY2h1bmtJZHMsIGZuLCBwcmlvcml0eV07XG5cdFx0cmV0dXJuO1xuXHR9XG5cdHZhciBub3RGdWxmaWxsZWQgPSBJbmZpbml0eTtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBkZWZlcnJlZC5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBbY2h1bmtJZHMsIGZuLCBwcmlvcml0eV0gPSBkZWZlcnJlZFtpXTtcblx0XHR2YXIgZnVsZmlsbGVkID0gdHJ1ZTtcblx0XHRmb3IgKHZhciBqID0gMDsgaiA8IGNodW5rSWRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRpZiAoKHByaW9yaXR5ICYgMSA9PT0gMCB8fCBub3RGdWxmaWxsZWQgPj0gcHJpb3JpdHkpICYmIE9iamVjdC5rZXlzKF9fd2VicGFja19yZXF1aXJlX18uTykuZXZlcnkoKGtleSkgPT4gKF9fd2VicGFja19yZXF1aXJlX18uT1trZXldKGNodW5rSWRzW2pdKSkpKSB7XG5cdFx0XHRcdGNodW5rSWRzLnNwbGljZShqLS0sIDEpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZnVsZmlsbGVkID0gZmFsc2U7XG5cdFx0XHRcdGlmKHByaW9yaXR5IDwgbm90RnVsZmlsbGVkKSBub3RGdWxmaWxsZWQgPSBwcmlvcml0eTtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYoZnVsZmlsbGVkKSB7XG5cdFx0XHRkZWZlcnJlZC5zcGxpY2UoaS0tLCAxKVxuXHRcdFx0dmFyIHIgPSBmbigpO1xuXHRcdFx0aWYgKHIgIT09IHVuZGVmaW5lZCkgcmVzdWx0ID0gcjtcblx0XHR9XG5cdH1cblx0cmV0dXJuIHJlc3VsdDtcbn07IiwidmFyIG5leHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLng7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnggPSAoKSA9PiB7XG5cdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLmUoOCkudGhlbihuZXh0KTtcbn07IiwiZXhwb3J0IGNsYXNzIEVtcHR5TW9kZWwge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnBhdGhzID0ge307XG4gICAgdGhpcy5tb2RlbHMgPSB7fTtcbiAgICB0aGlzLnVuaXRzID0gJ21tJztcbiAgfVxufVxuIiwiaW1wb3J0IG1ha2VyanMgZnJvbSAnbWFrZXJqcyc7XG5pbXBvcnQge0VtcHR5TW9kZWx9IGZyb20gJy4vZW1wdHltb2RlbC5qcyc7XG4vKipcbiAqIEEgYXJyYXkgb2YgMiBpdGVtcyBbeCx5XVxuICogQHR5cGVkZWYge0FycmF5LjxudW1iZXIsbnVtYmVyPn0gUG9pbnRcbiAqL1xuXG5cblxuLyoqXG4gKiBDcmVhdGVzIGEgbW9kZWwgZnJvbSBhIHNlcmllcyBvZiBwb2ludHMsIGZpbGxldGluZyBjb3JuZXJzIHdpdGggdGhlIHN1cHBsaWVkIHJhZGlpXG4gKi9cbmNsYXNzIEZpbGxldGVkUGF0aE1vZGVsIGV4dGVuZHMgRW1wdHlNb2RlbHtcbi8qKlxuICogQ3JlYXRlIHRoZSBtb2RlbFxuICogQHBhcmFtIHtQb2ludH0gcGF0aFBvaW50cyAtIFRoZSBzZXJpZXMgb2YgYWJzb2x1dGUgcG9pbnRzIHRoYXQgcmVwcmVzZW50IHRoZSBjb3JuZXJzIG9mIHRoZSBzaGFwZVxuICogQHBhcmFtIHtQb2ludH0gZmlsbGV0UmFkaWkgLSBUaGUgcmFkaWkgdG8gdXNlIGZvciBlYWNoIGNvcm5lciAoc3RhcnRpbmcgYXQgMCBmb3IgdGhlIGZpcnN0IDIgcG9pbnRzIGluIFBhdGhQb2ludHMpLCBhbnkgdW5zdXBwbGllZCBwb2ludHMgd2lsbCBiZSAwIChubyBmaWxsZXQpXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtjbG9zZWQ9ZmFsc2VdIC0gQ2xvc2UgdGhlIG1vZGVsIHVzaW5nIHRoZSBmaXJzdCBhbmQgbGFzdCBwb2ludHNcbiAqIEByZXR1cm4ge01vZGVsfSBUaGUgbW9kZWxcbiAqL1xuICBjb25zdHJ1Y3RvcihwYXRoUG9pbnRzLGZpbGxldFJhZGlpLGNsb3NlZCA9IGZhbHNlKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIC8vaWYgYWRkVG9Nb2RlbCBpcyBudWxsIHRoZW4gY3JlYXRlIGFuIGVtcHR5IG1vZGVsc1xuICAgIC8vY3JlYXRlIGVhY2ggcGF0aCBhbiBhZGQgdG8gYW4gYXJyYXlcbiAgICAvL0NvbmRlbnNlIHRoZSBwYXRoUG9pbnRzIGludG8gcGFpcnNcbiAgICBsZXQgcGF0aFBhaXJzID0gW107XG4gICAgaWYgKGNsb3NlZCkge1xuICAgICAgLy9BZGQgdGhlIGxhc3QgcG9pbnQgYmFjayBpbiBhdCB0aGUgZW5kIHRvIGNsb3NlIHRoZSBsb29wXG4gICAgICBwYXRoUG9pbnRzLnB1c2gocGF0aFBvaW50c1swXSk7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IHBhdGhQb2ludHMubGVuZ3RoLTI7IGkrKyApIHtcbiAgICAgIHBhdGhQYWlycy5wdXNoKFtwYXRoUG9pbnRzW2ldLHBhdGhQb2ludHNbaSsxXV0pO1xuICAgIH1cblxuICAgIGxldCBwYXRocyA9IHBhdGhQYWlycy5tYXAoKHBhdGhQYWlyKSA9PiB7XG4gICAgICByZXR1cm4gbmV3IG1ha2VyanMucGF0aHMuTGluZShwYXRoUGFpclswXSxwYXRoUGFpclsxXSk7XG4gICAgfSk7XG5cbiAgICAvL1N0ZXAgdGhyb3VnaCB0aGUgZmlsbGV0IHJhZGlpIHRvIGFwcGx5IGZpbGxldHMgd2hlcmUgbmVlZGVkXG4gICAgbGV0IGFyY3MgPSBbXTtcbiAgICBmaWxsZXRSYWRpaS5mb3JFYWNoKChmaWxsZXRSYWRpdXMsaW5kZXgpID0+IHtcbiAgICAgIGlmIChmaWxsZXRSYWRpdXMpIHtcbiAgICAgICAgYXJjcy5wdXNoKG1ha2VyanMucGF0aC5maWxsZXQoXG4gICAgICAgICAgcGF0aHNbaW5kZXhdLFxuICAgICAgICAgIHBhdGhzWygoKGluZGV4KzEpPj1wYXRocy5sZW5ndGgpPzA6aW5kZXgrMSldLFxuICAgICAgICAgIGZpbGxldFJhZGl1c1xuICAgICAgICApKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHBhdGhzLmNvbmNhdChhcmNzKS5mb3JFYWNoKChhZGRQYXRoLGluZGV4KSA9PiB7XG4gICAgICBtYWtlcmpzLnBhdGguYWRkVG8oYWRkUGF0aCx0aGlzLGluZGV4KTtcbiAgICB9KTtcbiAgfVxufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBtb2RlbCB3aXRoIGEgc2VyaWVzIG9mIGxpbmVzIGF0IGdpdmVuIGFycmF5IG9mIGludGVydmFsc1xuICovXG5jbGFzcyBPZmZzZXRMaW5lc0F0SW50ZXJ2YWxzIGV4dGVuZHMgRW1wdHlNb2RlbCB7XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBzZXJpZXMgb2YgbGluZXMgYXQgZ2l2ZW4gYXJyYXkgb2YgaW50ZXJ2YWxzXG4gICAqIEBwYXJhbSB7UG9pbnR9IGJhc2VMaW5lU3RhcnQgLSBTdGFydCBwb2ludCBvZiB0aGUgYmFzZSBsaW5lXG4gICAqIEBwYXJhbSB7UG9pbnR9IGJhc2VMaW5lRW5kIC0gRW5kIHBvaW50IG9mIHRoZSBiYXNlIGxpbmVcbiAgICogQHBhcmFtIHtBcnJheX0gW2ludGVydmFscz1bXV0gIC0gQXJyYXkgb2YgbnVtYmVyIG9mZnNldHMgZm9yIHRoZSBsaW5lc1xuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtyZWxhdGl2ZUludGVydmFscz10cnVlXSAtIElmIHRydWUgaW50ZXJ2YWxzIGFyZSBpbnRlcnByZXRlZCBhcyByZWxhdGl2ZSB0byB0aGUgcHJldmlvdXMgaW50ZXJ2YWxcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtsaW5lTGF5ZXI9bnVsbF0gIC0gVGhlIGxheWVyIHRvIHNldCB0aGUgbGluZXMgdG9cbiAgICogQHBhcmFtIHtib29sZWFufSBbZmxpcFBvc2l0aXZlRGlyZWN0aW9uPXRydWVdICAtIEZMaXAgdGhlIGRpcmVjdGlvbiBvZiBwb3NpdGl2ZSBvZmZzZXRzIHJlbGF0aXZlIHRvIHRoZSBiYXNlbGluZSAoZS5nLiBnbyBsZWZ0IG9yIGdvIHJpZ2h0IG9mIHRoZSBsaW5lKVxuICAgKiBAcmV0dXJuIHtNb2RlbH0gLSBUaGUgTW9kZWxcbiAgICovXG4gIGNvbnN0cnVjdG9yKGJhc2VMaW5lU3RhcnQsYmFzZUxpbmVFbmQsaW50ZXJ2YWxzID0gW10scmVsYXRpdmVJbnRlcnZhbHMgPSB0cnVlLGxpbmVMYXllciA9IG51bGwsZmxpcFBvc2l0aXZlRGlyZWN0aW9uID0gZmFsc2UpIHtcbiAgICBzdXBlcigpO1xuICAgIC8vQ2FsY3VsYXRlIHRoZSBhbmdsZSBvZiB0aGUgYmFzZUxpbmVFbmRcbiAgICBsZXQgYmFzZUxpbmVBbmdsZSA9IG1ha2VyanMuYW5nbGUub2ZQb2ludEluRGVncmVlcyhiYXNlTGluZVN0YXJ0LGJhc2VMaW5lRW5kKVxuICAgIGxldCBleHRlbnNpb25MaW5lQW5nbGUgPSBiYXNlTGluZUFuZ2xlICs5MDtcbiAgICBsZXQgY3VtdWxhdGl2ZUV4dGVuc2lvbiA9IDA7XG4gICAgaW50ZXJ2YWxzID0gQXJyYXkuaXNBcnJheShpbnRlcnZhbHMpP2ludGVydmFsczpbaW50ZXJ2YWxzXTtcbiAgICBpbnRlcnZhbHMuZm9yRWFjaChpbnRlcnZhbERpc3QgPT4ge1xuICAgICAgbGV0IG9mZnNldExpbmU7XG4gICAgICBpZiAocmVsYXRpdmVJbnRlcnZhbHMpIHtcbiAgICAgICAgY3VtdWxhdGl2ZUV4dGVuc2lvbiArPSBpbnRlcnZhbERpc3Q7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjdW11bGF0aXZlRXh0ZW5zaW9uID0gaW50ZXJ2YWxEaXN0O1xuICAgICAgfVxuXG4gICAgICBpZiAoY3VtdWxhdGl2ZUV4dGVuc2lvbiA9PSAwKSB7XG4gICAgICAgIG9mZnNldExpbmUgPSBuZXcgbWFrZXJqcy5wYXRocy5MaW5lKGJhc2VMaW5lU3RhcnQsYmFzZUxpbmVFbmQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IGRpc3RQb2ludCA9IG1ha2VyanMucG9pbnQuZnJvbVBvbGFyKG1ha2VyanMuYW5nbGUudG9SYWRpYW5zKGV4dGVuc2lvbkxpbmVBbmdsZSksY3VtdWxhdGl2ZUV4dGVuc2lvbik7XG4gICAgICAgIG9mZnNldExpbmUgPSBuZXcgbWFrZXJqcy5wYXRocy5MaW5lKFxuICAgICAgICAgIG1ha2VyanMucG9pbnQuYWRkKGJhc2VMaW5lU3RhcnQsZGlzdFBvaW50KSxcbiAgICAgICAgICBtYWtlcmpzLnBvaW50LmFkZChiYXNlTGluZUVuZCxkaXN0UG9pbnQpXG4gICAgICAgIClcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ29mZnNldFBvaW50JyxkaXN0UG9pbnQsb2Zmc2V0TGluZSlcbiAgICAgIH1cblxuICAgICAgaWYgKGxpbmVMYXllcikge1xuICAgICAgICBtYWtlcmpzLnBhdGgubGF5ZXIob2Zmc2V0TGluZSxsaW5lTGF5ZXIpO1xuICAgICAgfVxuXG4gICAgICBtYWtlcmpzLm1vZGVsLmFkZFBhdGgodGhpcyxvZmZzZXRMaW5lKTtcbiAgICB9KVxuICB9XG59XG5cblxuZXhwb3J0IGNsYXNzIENvZGVSdW5uZXJVdGlscyB7XG5cblxuLy8gZXhwb3J0IHZhciBDb2RlUnVubmVyVXRpbHMgPSBmdW5jdGlvbigpe1xuICBFbXB0eU1vZGVsID0gRW1wdHlNb2RlbDtcbiAgRmlsbGV0ZWRQYXRoTW9kZWwgPSBGaWxsZXRlZFBhdGhNb2RlbDtcbiAgT2Zmc2V0TGluZXNBdEludGVydmFscyA9IE9mZnNldExpbmVzQXRJbnRlcnZhbHM7XG5cbiAgLyoqXG4gICAgKiBUaGUgRmlsbGV0ZWRQYXRoTW9kZWwgY2xhc3MgYWNjZXNzb3JcbiAgICAqIEBwYXJhbSB7UG9pbnR9IGZyb21Qb2ludCAtIFRoZSBwb2ludCB0byBzdGFydCBmcm9tXG4gICAgKiBAcGFyYW0ge251bWJlcn0gbGVuZ3RoIC0gVGhlIGxlbmd0aCBvZiB0aGUgbGluZVxuICAgICogQHBhcmFtIHtudW1iZXJ9IGFuZ2xlSW5EZWdyZWVzIFRoZSBhYnNvbHV0ZSBhbmdsZSBpbiBkZWdyZWVzIHRvIGRyYXcgdGhlIGxpbmVcbiAgICAqIEByZXR1cm4ge0xpbmV9IEEgTGluZSBwYXRoXG4gICAgKi9cbiAgbGluZUZyb21Qb2ludEF0QW5nbGUoZnJvbVBvaW50LGxlbmd0aCxhbmdsZUluRGVncmVlcykge1xuICAgIGxldCBhbmdsZUluUmFkaWFucyA9IG1ha2VyanMuYW5nbGUudG9SYWRpYW5zKGFuZ2xlSW5EZWdyZWVzKTtcbiAgICBsZXQgdG9Qb2ludCA9IG1ha2VyanMucG9pbnQuYWRkKGZyb21Qb2ludCxtYWtlcmpzLnBvaW50LmZyb21Qb2xhcihhbmdsZUluUmFkaWFucyxsZW5ndGgpKTtcbiAgICByZXR1cm4gbmV3IG1ha2VyanMucGF0aHMuTGluZShmcm9tUG9pbnQsdG9Qb2ludCk7XG4gIH07XG4gIC8qKlxuICAgICogRW5hYmxlIGF1dG8gc3BsaXR0aW5nIG9uIHRoZSBtb2RlbCBpZiBuZWVkZWQgYnkgdGhlIG1vZGVsIHBhY2tlciB3aGVuIHJlbmRlcmluZ1xuICAgICogQHBhcmFtIHtNb2RlbH0gbW9kZWxUb1NldCAtIFRoZSBtb2RlbCB0byBlbmFibGUgc3BsaXR0aW5nIGZvclxuICAgICovXG4gIGVuYWJsZVNwbGl0dGluZyhtb2RlbFRvU2V0KSB7XG4gICAgbW9kZWxUb1NldC5zcGxpdCA9IHtcbiAgICAgIGlmTmVlZGVkOiB0cnVlLFxuICAgICAgYXhpczogJ2F1dG8nXG4gICAgfVxuICB9O1xuICAvKipcbiAgICAqIENhcHRpb24gdGhlIG1vZGVsIHdpdGggdGhlIHN1cHBsaWVkIHRleHQgdXNpbmcgYSBkaWFnb25hbCB0aHJvdWdoIHRoZSBjZW50ZXIsIGVkaXRzIHRoZSBtb2RlbCBpbi1wbGFjZVxuICAgICogQHBhcmFtIHtNb2RlbH0gbW9kZWxUb0NhcHRpb24gLSBUaGUgbW9kZWwgdG8gY2FwdGlvblxuICAgICogQHBhcmFtIHtzdHJpbmd9IGNhcHRpb24gLSBUaGUgdGV4dCB0byB1c2UgZm9yIHRoZSBjYXB0aW9uXG4gICAgKiBAcGFyYW0ge251bWJlcn0gW3RleHRIZWlnaHQ9MTJdIC0gKElnbm9yZWQpXG4gICAgKiBAcGFyYW0ge3N0cmluZ30gW2xvY2F0aW9uPSdib3R0b20nXSAtIChJZ25vcmVkKVxuICAgICogQHJldHVybiB7TW9kZWx9IC0gVGhlIG1vZGVsIGNhcHRpb25lZFxuICAgICovXG4gIGF1dG9DYXB0aW9uTW9kZWwobW9kZWxUb0NhcHRpb24sY2FwdGlvbix0ZXh0SGVpZ2h0ID0gMTIsbG9jYXRpb24gPSAnYm90dG9tJykge1xuICAgIGxldCBtb2RlbEV4dGVudHMgPSBtYWtlcmpzLm1lYXN1cmUubW9kZWxFeHRlbnRzKG1vZGVsVG9DYXB0aW9uKTtcbiAgICBtYWtlcmpzLm1vZGVsLmFkZENhcHRpb24oXG4gICAgICBtb2RlbFRvQ2FwdGlvbixcbiAgICAgIGNhcHRpb24sXG4gICAgICBbbW9kZWxFeHRlbnRzLmxvd1swXSxtb2RlbEV4dGVudHMubG93WzFdXSxcbiAgICAgIFttb2RlbEV4dGVudHMuaGlnaFswXSxtb2RlbEV4dGVudHMuaGlnaFsxXV0sXG4gICAgKTtcbiAgICByZXR1cm4gbW9kZWxUb0NhcHRpb247XG4gIH07XG4gIC8qKlxuICAgICogQ2xvbmUgYSBtb2RlbCBhbmQgcGxhY2UgaXQgYXQgYSByZWxhdGl2ZSBvZmZzZXQgdG8gdGhlIG9yaWdpYW5sXG4gICAgKiBAcGFyYW0ge01vZGVsfSBtb2RlbFRvQ2FwdGlvbiAtIFRoZSBtb2RlbCB0byBjb3B5XG4gICAgKiBAcGFyYW0ge1BvaW50fSBbb2Zmc2V0PVswLDBdXSAtIHRoZSBvZmZzZXQgdG8gbW92ZSB0aGUgbW9kZWwgYnlcbiAgICAqIEByZXR1cm4ge01vZGVsfSAtIFRoZSBjbG9uZWQgbW9kZWxcbiAgICAqL1xuICBjbG9uZUFuZE9mZnNldChtb2RlbFRvQ2xvbmUsb2Zmc2V0ID0gWzAsMF0pIHtcbiAgICByZXR1cm4gbWFrZXJqcy5tb2RlbC5tb3ZlUmVsYXRpdmUobWFrZXJqcy5tb2RlbC5jbG9uZShtb2RlbFRvQ2xvbmUpLG9mZnNldCk7XG4gIH07XG4gIC8qKlxuICAgICogUGxhY2UgYSBwb2ludCBhIGRpc3RhbmNlIGFuZCBwb2xhciBhbmdsZSBhd2F5IGZyb20gYSBzdGFydGluZyBwb2ludFxuICAgICogQHBhcmFtIHtQb2ludH0gZnJvbVBvaW50IC0gVGhlIHN0YXJ0aW5nIHBvaW50XG4gICAgKiBAcGFyYW0ge251bWJlcn0gbGVuZ3RoIC0gVGhlIGRpc3RhbmNlIGZyb20gdGhlIGZyb21Qb2ludFxuICAgICogQHBhcmFtIHtudW1iZXJ9IGFuZ2xlSW5EZWdyZWVzIC0gVGhlIGFuZ2xlIHRvIHJvdGF0ZSB0aGUgcG9pbnQgYnlcbiAgICAqIEByZXR1cm4ge1BvaW50fSAtIFRoZSBuZXcgcG9pbnRcbiAgICAqL1xuICBwb2ludEZyb21Qb2ludEF0QW5nbGUoZnJvbVBvaW50LGxlbmd0aCxhbmdsZUluRGVncmVlcykge1xuICAgIGxldCBhbmdsZUluUmFkaWFucyA9IG1ha2VyanMuYW5nbGUudG9SYWRpYW5zKGFuZ2xlSW5EZWdyZWVzKTtcbiAgICBsZXQgdG9Qb2ludCA9IG1ha2VyanMucG9pbnQuYWRkKGZyb21Qb2ludCxtYWtlcmpzLnBvaW50LmZyb21Qb2xhcihhbmdsZUluUmFkaWFucyxsZW5ndGgpKTtcbiAgICByZXR1cm4gdG9Qb2ludDtcbiAgfTtcbiAgLyoqXG4gICAgKiBQbGFjZSBhIHBvaW50IGEgZ2l2ZW4gZGlzdGFuY2UgYW5kIHJlbGF0aXZlIGFuZ2xlIGZyb20gYSBnaXZlbiBsaW5lICh0aGUgcG9pbnQgaXMgcGxhY2VkIHJlbGF0aXZlIHRvIFAxKVxuICAgICogQHBhcmFtIHtQb2ludH0gcDEgLSBUaGUgYmFzZSBwb2ludCB0byBtYWtlIHRoZSBuZXcgcG9pbnQgcmVsYXRpdmUgdG9cbiAgICAqIEBwYXJhbSB7UG9pbnR9IHAyIC0gVGhlIHNlY29uZCBwb2ludCB0aGF0IGRlc2NyaWJlcyB0aGUgb3RoZXIgZW5kIG9mIHRoZSBsaW5lXG4gICAgKiBAcGFyYW0ge251bWJlcn0gZGlzdGFuY2UgLSBUaGUgZGlzdGFuY2UgZnJvbSB0aGUgcDFcbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBbcGFyYW1zXSAtIFBhcmFtZXRlcnMgdG8gdXNlLFxuICAgICogQHBhcmFtIHtib29sZWFufSBbcGFyYW1zLmNsb2Nrd2lzZT1mYWxzZV0gLSBDbG9ja3dpc2UgaXMgdGhlIGRpcmVjdGlvbiB0byBtYWtlIHRoZSBhbmdsZSByZWxhdGl2ZVxuICAgICogQHBhcmFtIHtudW1iZXJ9IFtwYXJhbXMuYW5nbGU9OTBdIC0gYW5nbGUgaXMgdGhlIGFuZ2xlIGZyb20gdGhlIHJlZmVyZW5jZSBsaW5lXG4gICAgKiBAcGFyYW0ge251bWJlcn0gIFtwYXJhbXMuaW5zZXQ9MF0gLSBpbnNldCBpcyBob3cgZmFyIGluc2V0ICh0b3dhcmRzIHAyKSB0aGUgYmFzZSBwb2ludCBzaG91bGQgYmVcbiAgICAqIEByZXR1cm4ge1BvaW50fSAtIFRoZSBuZXcgcG9pbnRcbiAgICAqL1xuICBwb2ludEZyb21Qb2ludExpbmVBdEFuZ2xlKHAxLHAyLGRpc3RhbmNlLHBhcmFtcykge1xuXG4gICAgcGFyYW1zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICBjbG9ja3dpc2U6IGZhbHNlLFxuICAgICAgYW5nbGU6IDkwLFxuICAgICAgaW5zZXQ6IDBcbiAgICB9LHBhcmFtcyk7XG4gICAgLy9HZXQgdGhlIGFuZ2xlIG9mIHRoZSBwb2ludHNcbiAgICBsZXQgYmFzZUFuZ2xlID0gbWFrZXJqcy5hbmdsZS5vZlBvaW50SW5EZWdyZWVzKHAxLHAyKTtcblxuICAgIGxldCBwb2ludEFuZ2xlID0gYmFzZUFuZ2xlIC0gKHBhcmFtcy5jbG9ja3dpc2U/cGFyYW1zLmFuZ2xlOi1wYXJhbXMuYW5nbGUpO1xuICAgIC8vY2FuJ3QgdXNlIHV0aWxzIHBvaW50IGZyb20gcG9pbnQgYXQgQW5nbGUgYXMgdGhpcyBzZXRzIHRoZSBkaXN0YW5jZSBvZiB0aGUgbGluZSAtIG5vdCB0aGUgb2Zmc2V0XG4gICAgbGV0IHIgPSBkaXN0YW5jZTtcbiAgICBpZiAocGFyYW1zLmFuZ2xlID4gMCkge1xuICAgICAgciA9IGRpc3RhbmNlIC8gKE1hdGguc2luKE1hdGguUEkgKiBwYXJhbXMuYW5nbGUgLyAxODApKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMucG9pbnRGcm9tUG9pbnRBdEFuZ2xlKHAxLHIscG9pbnRBbmdsZSk7XG4gIH07XG4gIC8qKlxuICAgICogUmV0dXJuIGEgcGFpciBvZiBwb2ludHMgdGhhdCByZXByZXNlbnQgd2hlcmUgVGFiIG9mIHRoZSBzdXBwbGllZCBwYXJhbWV0ZXJzIGNvcm5lcnMgd291bGQgYmVcbiAgICAqIEBwYXJhbSB7UG9pbnR9IHAxIC0gVGhlIHN0YXJ0IHBvaW50IG9mIHRoZSBsaW5lXG4gICAgKiBAcGFyYW0ge1BvaW50fSBwMiAtIFRoZSBlbmQgcG9pbnQgb2YgdGhlIGxpbmVcbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBbcGFyYW1zXSAtIFBhcmFtZXRlcnMgdG8gdXNlLFxuICAgICogQHBhcmFtIHtudW1iZXJ9IFtwYXJhbXMuZGlzdGFuY2U9MF0gLSBUaGUgb3V0c2V0IGRpc3RhbmNlIGZvciB0aGUgdGFiXG4gICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtwYXJhbXMuY2xvY2t3aXNlPWZhbHNlXSAtIENsb2Nrd2lzZSBpcyB0aGUgZGlyZWN0aW9uIHRvIG1ha2UgdGhlIGFuZ2xlIHJlbGF0aXZlXG4gICAgKiBAcGFyYW0ge251bWJlcn0gW3BhcmFtcy5hbmdsZT05MF0gLSBBbmdsZSBvZiB0aGUgdGFiIHNpZGVzXG4gICAgKiBAcGFyYW0ge251bWJlcn0gW3BhcmFtcy5iYXNlSW5zZXQ9MF0gLSBJbnNldCBvZiB0aGUgdGFiIGZyb20gdGhlIGVuZCBvZiB0aGUgbGluZVxuICAgICogQHBhcmFtIHtudW1iZXJ9IFtwYXJhbXMuYmFzZUluc2V0Ml0gLSBJZiBzdXBwbGllZCwgaXMgaW5zZXQgZnJvbSB0aGUgb3RoZXIgZW5kIG9mIHRoZSBsaW5lLCBvdGhlcndpc2UgaXMgdGhlIHNhbWUgYXMgX2Jhc2VJbnNldF9cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSAgW3BhcmFtcy5hbmdsZTJdIC0gSWYgc3VwcGxpZWQsIGlzIHRha2VuIGFzIHRoZSBhbmdsZSBmb3IgdGhlIHNlY29uZCB0YWIgc2lkZSwgb3RoZXJ3aXNlIGlzIHRoZSBzYW1lIGFzIF9hbmdsZV9cbiAgICAqIEByZXR1cm4ge1BvaW50W119IC0gMiBQb2ludHMgdGhhdCBkZXNjcmliZSB0aGUgYWRkZWQgVGFiIGNvcm5lcnNcbiAgICAqL1xuICB0YWJQb2ludHNGcm9tUG9pbnRMaW5lKHAxLHAyLHBhcmFtcykge1xuICAgIHBhcmFtcyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgZGlzdGFuY2U6IDAsXG4gICAgICBjbG9ja3dpc2U6IGZhbHNlLFxuICAgICAgYW5nbGU6IDkwLFxuICAgICAgYmFzZUluc2V0OiAwLFxuICAgICAgYmFzZUluc2V0MjogbnVsbCxcbiAgICAgIGFuZ2xlMjogbnVsbFxuICAgIH0scGFyYW1zKTtcblxuICAvLyB9LGNsb2Nrd2lzZT1mYWxzZSxhbmdsZT05MCxpbnNldD0wLGFuZ2xlMiA9IG51bGwpIHtcblxuICAgIGlmIChwYXJhbXMuZGlzdGFuY2UgIT0gMCkge1xuXG4gICAgICBsZXQgcGkxID0gcDEuc2xpY2UoKTtcbiAgICAgIGxldCBwaTIgPSBwMi5zbGljZSgpO1xuXG4gICAgICBpZiAocGFyYW1zLmJhc2VJbnNldDIgPT0gbnVsbCkgcGFyYW1zLmJhc2VJbnNldDIgPSBwYXJhbXMuYmFzZUluc2V0O1xuXG4gICAgICBpZiAocGFyYW1zLmJhc2VJbnNldCA+IDApIHtcbiAgICAgICAgcGkxID0gdGhpcy5wb2ludEZyb21Qb2ludExpbmVBdEFuZ2xlKHAxLHAyLHBhcmFtcy5iYXNlSW5zZXQse2Nsb2Nrd2lzZTogcGFyYW1zLmNsb2Nrd2lzZSxhbmdsZTogMH0pO1xuICAgICAgfVxuXG5cbiAgICAgIGlmIChwYXJhbXMuYmFzZUluc2V0MiA+IDApIHtcbiAgICAgICAgcGkyID0gdGhpcy5wb2ludEZyb21Qb2ludExpbmVBdEFuZ2xlKHAyLHAxLHBhcmFtcy5iYXNlSW5zZXQyLHtjbG9ja3dpc2U6IHBhcmFtcy5jbG9ja3dpc2UsYW5nbGU6IDB9KTtcbiAgICAgIH1cblxuICAgICAgbGV0IHRhYlAxID0gdGhpcy5wb2ludEZyb21Qb2ludExpbmVBdEFuZ2xlKHBpMSxwaTIscGFyYW1zLmRpc3RhbmNlLHtcbiAgICAgICAgY2xvY2t3aXNlOiBwYXJhbXMuY2xvY2t3aXNlLFxuICAgICAgICBhbmdsZTogcGFyYW1zLmFuZ2xlLFxuICAgICAgICBpbnNldDogcGFyYW1zLmluc2V0XG4gICAgICB9KTtcblxuICAgICAgaWYgKHBhcmFtcy5hbmdsZTIgPT0gbnVsbCkgcGFyYW1zLmFuZ2xlMiA9IHBhcmFtcy5hbmdsZTtcblxuICAgICAgbGV0IHRhYlAyID0gdGhpcy5wb2ludEZyb21Qb2ludExpbmVBdEFuZ2xlKHBpMixwaTEscGFyYW1zLmRpc3RhbmNlLHtcbiAgICAgICAgY2xvY2t3aXNlOiFwYXJhbXMuY2xvY2t3aXNlLFxuICAgICAgICBhbmdsZTpwYXJhbXMuYW5nbGUyLFxuICAgICAgICBpbnNldDpwYXJhbXMuaW5zZXRcbiAgICAgIH0pO1xuXG4gICAgICBsZXQgcmVzdWx0ID0gW107XG4gICAgICBpZiAocGFyYW1zLmJhc2VJbnNldCA+IDApIHtcbiAgICAgICAgcmVzdWx0LnB1c2gocGkxKTtcbiAgICAgIH1cbiAgICAgIHJlc3VsdC5wdXNoKHRhYlAxKVxuICAgICAgcmVzdWx0LnB1c2godGFiUDIpXG4gICAgICBpZiAocGFyYW1zLmJhc2VJbnNldDIgPiAwKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKHBpMik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBbcDEscDJdO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICAqIFRyZWF0IGEgcG9pbnRsaW5lIGFzIHJlbGF0aXZlIHBvaW50cyBmcm9tIHRoZSBmaXJzdCBwb2ludCBhbmQgY29udmVydCBlYWNoIHBvaW50IHRvIGFuIGFic29sdXRlIHBvaW50XG4gICAgKiBAcGFyYW0ge1BvaW50W119IFtwb2ludHNdIC0gUG9pbnRMaW5lIHRvIHVzZVxuICAgICogQHJldHVybiB7cG9pbnRbXX0gLSBUaGUgcG9pbnRzIGNvbnZlcnRlZFxuICAgICovXG4gIHJlbGF0aXZlUG9pbnRMaXN0VG9BYnNvbHV0ZShwb2ludHMpIHtcbiAgICBsZXQgbGFzdFBvaW50ID0gWzAsMF07XG4gICAgcmV0dXJuIHBvaW50cy5tYXAoKHRoaXNQb2ludCkgPT4ge1xuICAgICAgICBsZXQgYWJzUG9pbnQgPSBtYWtlcmpzLnBvaW50LmFkZChsYXN0UG9pbnQsdGhpc1BvaW50KTtcbiAgICAgICAgbGFzdFBvaW50ID0gYWJzUG9pbnQ7XG4gICAgICAgIHJldHVybiBhYnNQb2ludDtcbiAgICB9KTtcblxuICB9XG5cbiAgLyoqXG4gICAgKiBDb25zdHJ1Y3QgYSBzaW11bGF0ZWQgZW5nbGlzaCBwb2ludCBzaGFwZSwgdG8gdGhlIGxlZnQgb2YgdGhlIGxpbmUgZnJvbS0+dG9cbiAgICAqIEBwYXJhbSB7UG9pbnR9IGZyb20gLSBUaGUgZnJvbSBwb2ludFxuICAgICogQHBhcmFtIHtQb2ludH0gdG8gLSBUaGUgdG8gcG9pbnRcbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gLSBQYXJhbWV0ZXJzIHRvIHVzZSxcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcGFyYW1zLnJpc2VyUENUPTEuMl0gLSBUaGUgZXh0ZW5zaW9uIG9mIHRoZSBwb2ludCBmcm9tIHRoZSBiYXNlIGxpbmUgYXMgcGVyY2VudGFnZSAoZGVjaW1hbClcbiAgICAqIEByZXR1cm4ge01vZGVsfSAtIFRoZSBlbmdsaXNoIHBvaW50IGFyYyBwYXRoc1xuICAgICovXG4gIGRyYXdFbmdsaXNoUG9pbnQoZnJvbSx0byxvcHRpb25zKSB7XG5cbiAgICBsZXQgb3B0c1dpdGhEZWZhdWx0cyA9IE9iamVjdC5hc3NpZ24oe30se1xuICAgICAgcmlzZXJQQ1Q6IDEuMixcbiAgICB9LG9wdGlvbnMpXG5cbiAgICAvL2NhbGN1bGF0ZSB0aGUgZGlzdGFuY2UgYmV0d2VlbiBwb2ludHNcbiAgICBsZXQgcmlzZXJQQ1QgPSBvcHRzV2l0aERlZmF1bHRzLnJpc2VyUENUO1xuICAgIGxldCBiYXNlTGVuZ3RoID0gbWFrZXJqcy5tZWFzdXJlLnBvaW50RGlzdGFuY2UoZnJvbSx0byk7XG4gICAgbGV0IHJpc2VySGVpZ2h0ID0gYmFzZUxlbmd0aCAqIHJpc2VyUENUO1xuXG4gICAgbGV0IGxpbmVBbmdsZSA9IG1ha2VyanMuYW5nbGUub2ZQb2ludEluRGVncmVlcyhmcm9tLHRvKTtcblxuICAgIGxldCBvcmlnaW5Gcm9tID0gdGhpcy5wb2ludEZyb21Qb2ludEF0QW5nbGUoZnJvbSxyaXNlckhlaWdodCxsaW5lQW5nbGUpO1xuICAgIGxldCBvcmlnaW5UbyA9IHRoaXMucG9pbnRGcm9tUG9pbnRBdEFuZ2xlKHRvLHJpc2VySGVpZ2h0LDE4MCtsaW5lQW5nbGUpO1xuXG5cbiAgICBsZXQgbWlkUG9pbnQgPSBtYWtlcmpzLnBvaW50LmF2ZXJhZ2UoZnJvbSx0byk7XG5cbiAgICBsZXQgY2lyY2xlRnJvbSA9IG5ldyBtYWtlcmpzLnBhdGhzLkNpcmNsZShvcmlnaW5Gcm9tLHJpc2VySGVpZ2h0KTtcbiAgICBsZXQgY2lyY2xlVG8gPSBuZXcgbWFrZXJqcy5wYXRocy5DaXJjbGUob3JpZ2luVG8scmlzZXJIZWlnaHQpO1xuXG4gICAgbGV0IGludGVyc2VjdGlvbiA9IG1ha2VyanMucGF0aC5pbnRlcnNlY3Rpb24oY2lyY2xlRnJvbSxjaXJjbGVUbyk7XG4gICAgbGV0IGludGVyc2VjdGlvbkRpc3RhbmNlID0gbWFrZXJqcy5tZWFzdXJlLnBvaW50RGlzdGFuY2UoaW50ZXJzZWN0aW9uLmludGVyc2VjdGlvblBvaW50c1swXSxpbnRlcnNlY3Rpb24uaW50ZXJzZWN0aW9uUG9pbnRzWzFdKTtcblxuICAgIGxldCBtaWRQb2ludFRpcCA9IHRoaXMucG9pbnRGcm9tUG9pbnRBdEFuZ2xlKG1pZFBvaW50LGludGVyc2VjdGlvbkRpc3RhbmNlLzIsbGluZUFuZ2xlKzkwKTtcblxuICAgIGxldCBtaWRQb2ludEFuZ2xlRnJvbSA9IG1ha2VyanMuYW5nbGUub2ZQb2ludEluRGVncmVlcyhvcmlnaW5Gcm9tLG1pZFBvaW50VGlwKTtcbiAgICBsZXQgbWlkUG9pbnRBbmdsZVRvID0gbWFrZXJqcy5hbmdsZS5vZlBvaW50SW5EZWdyZWVzKG9yaWdpblRvLG1pZFBvaW50VGlwKTtcblxuXG4gICAgbGV0IGVuZ2xpc2hQb2ludCA9IG5ldyB0aGlzLkVtcHR5TW9kZWwoKTtcblxuICAgIG1ha2VyanMubW9kZWwuYWRkUGF0aChcbiAgICAgIGVuZ2xpc2hQb2ludCxcbiAgICAgIG1ha2VyanMucGF0aC5sYXllcihuZXcgbWFrZXJqcy5wYXRocy5MaW5lKG1pZFBvaW50LG1pZFBvaW50VGlwKSwnc3RpdGNoJylcbiAgICApO1xuXG5cbiAgICBtYWtlcmpzLm1vZGVsLmFkZFBhdGgoXG4gICAgICBlbmdsaXNoUG9pbnQsXG4gICAgICBuZXcgbWFrZXJqcy5wYXRocy5BcmMob3JpZ2luRnJvbSxyaXNlckhlaWdodCxtaWRQb2ludEFuZ2xlRnJvbSxsaW5lQW5nbGUgKyAxODApXG4gICAgKTtcblxuICAgIG1ha2VyanMubW9kZWwuYWRkUGF0aChcbiAgICAgIGVuZ2xpc2hQb2ludCxcbiAgICAgIG5ldyBtYWtlcmpzLnBhdGhzLkFyYyhvcmlnaW5UbyxyaXNlckhlaWdodCxsaW5lQW5nbGUsbWlkUG9pbnRBbmdsZVRvKVxuICAgICk7XG5cblxuXG5cbiAgICByZXR1cm4gZW5nbGlzaFBvaW50O1xuICB9XG5cbiAgLyoqXG4gICAgKiBBZGQgYSB0YWIgdG8gYSBQb2ludExpbmUgd2l0aCB0aGUgZ2l2ZW4gcGFyYW1ldGVycywgZWRpdHMgdGhlIFBvaW50TGluZSBpbi1wbGFjZVxuICAgICogQHBhcmFtIHtQb2ludFtdfSBwb2ludExpbmUgLSBUaGUgcG9pbnRsaW5lIHRvIHVzZVxuICAgICogQHBhcmFtIHtpbnRlZ2VyfSBpbmRleCAtIFRoZSBpbmRleCBvZiB0aGUgbGluZSBpbiB0aGUgcG9pbnRMaW5lIHRvIGFkZCB0aGUgdGFiIHRvXG4gICAgKiBAcGFyYW0ge09iamVjdH0gW3BhcmFtc10gLSBQYXJhbWV0ZXJzIHRvIHVzZSxcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcGFyYW1zLmRpc3RhbmNlPTBdIC0gVGhlIG91dHNldCBkaXN0YW5jZSBmb3IgdGhlIHRhYlxuICAgICogQHBhcmFtIHtib29sZWFufSBbcGFyYW1zLmNsb2Nrd2lzZT1mYWxzZV0gLSBDbG9ja3dpc2UgaXMgdGhlIGRpcmVjdGlvbiB0byBtYWtlIHRoZSBhbmdsZSByZWxhdGl2ZVxuICAgICogQHBhcmFtIHtudW1iZXJ9IFtwYXJhbXMuYW5nbGU9OTBdIC0gQW5nbGUgb2YgdGhlIHRhYiBzaWRlc1xuICAgICogQHBhcmFtIHtudW1iZXJ9IFtwYXJhbXMuYmFzZUluc2V0PTBdIC0gSW5zZXQgb2YgdGhlIHRhYiBmcm9tIHRoZSBlbmQgb2YgdGhlIGxpbmVcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcGFyYW1zLmJhc2VJbnNldDJdIC0gSWYgc3VwcGxpZWQsIGlzIGluc2V0IGZyb20gdGhlIG90aGVyIGVuZCBvZiB0aGUgbGluZSwgb3RoZXJ3aXNlIGlzIHRoZSBzYW1lIGFzIF9iYXNlSW5zZXRfXG4gICAgKiBAcGFyYW0ge251bWJlcn0gIFtwYXJhbXMuYW5nbGUyXSAtIElmIHN1cHBsaWVkLCBpcyB0YWtlbiBhcyB0aGUgYW5nbGUgZm9yIHRoZSBzZWNvbmQgdGFiIHNpZGUsIG90aGVyd2lzZSBpcyB0aGUgc2FtZSBhcyBfYW5nbGVfXG4gICAgKiBAcGFyYW0ge2Jvb2xlYW59ICBbcGFyYW1zLmF1dG9XcmFwPXRydWVdIC0gSWYgaW5kZXggc2hvdWxkIHdyYXAgYXJvdW5kIHRoZSBwb2ludGxpbmUgaWYgaXQgZXhjZWVkcyB0aGUgbGVuZ3RoXG4gICAgKiBAcmV0dXJuIHtQb2ludFtdfSAtIFRoZSBQb2ludExpbmVcbiAgICAqL1xuICBhZGRUYWJBdFBvaW50TGluZUF0TGluZUluZGV4KHBvaW50TGluZSxpbmRleCxwYXJhbXMpIHtcbiAgICBwYXJhbXMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgIGRpc3RhbmNlOiAwLFxuICAgICAgY2xvY2t3aXNlOiBmYWxzZSxcbiAgICAgIGFuZ2xlOiA5MCxcbiAgICAgIGFuZ2xlMjogbnVsbCxcbiAgICAgIGF1dG9XcmFwOiB0cnVlXG4gICAgfSxwYXJhbXMpO1xuXG4gICBsZXQgcDEgPSBwb2ludExpbmVbaW5kZXhdO1xuXG5cbiAgIGxldCBwMkluZGV4ID0gaW5kZXgrMTtcbiAgIGlmICgoKGluZGV4KzEpID4gKHBvaW50TGluZS5sZW5ndGgtMSkpICYmIChwYXJhbXMuYXV0b1dyYXApKSB7cDJJbmRleCA9IDA7fVxuXG4gICBsZXQgcDIgPSBwb2ludExpbmVbcDJJbmRleF07XG4gICBsZXQgdGFiUG9pbnRzID0gdGhpcy50YWJQb2ludHNGcm9tUG9pbnRMaW5lKHAxLHAyLHBhcmFtcyk7XG4gICAvL2luc2VydCBiYWNrIGludG8gdGhlIGFycmF5XG4gICBwb2ludExpbmUuc3BsaWNlKGluZGV4KzEsMCwuLi50YWJQb2ludHMpO1xuICAgcmV0dXJuIHBvaW50TGluZTtcbiAgfVxuICAvKipcbiAgICAqIERldGVybWluZSB0aGUgYmVuZCBhbGxvd2FuY2UgKEN1cnZlZCBhcmVhIGJldHdlZW4gdGhlIGVuZCBvZiB0d28gcGFuZWxzKSB0byBhY2hpZXZlIHRoZSByZXF1aXJlZCBiZW5kXG4gICAgKiBAcGFyYW0ge09iamVjdH0gW3BhcmFtc10gLSBQYXJhbWV0ZXJzIHRvIHVzZSxcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcGFyYW1zLmFuZ2xlPTkwXSAtIEFuZ2xlIG9mIHRoZSBiZW5kXG4gICAgKiBAcGFyYW0ge251bWJlcn0gW3BhcmFtcy5tYXRlcmlhbFRoaWNrbmVzcz0xXSAtIFRoaWNrbmVzcyBvZiB0aGUgbWF0ZXJpYWwgYmVpbmcgYmVudFxuICAgICogQHBhcmFtIHtudW1iZXJ9IFtwYXJhbXMuaW5uZXJSYWRpdXNdIC0gVGhlIGlubmVyIHJhZGl1cyBvZiB0aGUgYmVuZCAoaW5zaWRlIG9mIHRoZSBtYXRlcmlhOylcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcGFyYW1zLms9MC41XSAtIEJlbmRpbmYgSyBGYWN0b3Igb2YgdGhlIG1hdGVyaWFsXG4gICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtwYXJhbXMuc2luZ2xlU2lkZWQ9ZmFsc2VdIC0gT25seSByZXR1cm4gaGFsZiBvZiB0aGUgYmVuZCBhbGxvd2FuY2VcbiAgICAqIEByZXR1cm4ge251bWJlcn0gLSBUaGUgbGVuZ3RoIG9mIHRoZSBiZW5kIGFsbG93YW5jZVxuICAgICovXG4gIGRldGVybWluZUJlbmRBbGxvd2FuY2UocGFyYW1zKSB7XG4gICAgcGFyYW1zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICBhbmdsZTogOTAsXG4gICAgICBtYXRlcmlhbFRoaWNrbmVzczogMSxcbiAgICAgIGlubmVyUmFkaXVzOiBudWxsLFxuICAgICAgazogMC41LFxuICAgICAgc2luZ2xlU2lkZWQ6IGZhbHNlXG4gICAgfSxwYXJhbXMpO1xuXG4gICAgaWYgKHBhcmFtcy5pbm5lclJhZGl1cyA9PSBudWxsKSB7XG4gICAgICBwYXJhbXMuaW5uZXJSYWRpdXMgPSBNYXRoLm1heCgwLjUsIHBhcmFtcy5tYXRlcmlhbFRoaWNrbmVzcy80KTtcbiAgICB9XG5cbiAgICAvL0JlbmQgYWxsb3dhbmNlOiBCQSA9IChhbmdsZSAqIChQaS8xODApKSAqIChSICsgKEsgKiBUKSk7XG4gICAgLy9hdXRvIGFwcHJveDogSyA9IChsb2cobWluKDEwMCwobWF4KDIwKnIsVCkvVCkpKSkgLyAoMiAqIGxvZygxMDApKVxuXG4gICAgbGV0IGJlbmRBbGxvd2FuY2UgPSAocGFyYW1zLmFuZ2xlICogKE1hdGguUEkgLyAxODApKSAqIChwYXJhbXMuaW5uZXJSYWRpdXMgKyAocGFyYW1zLmsgKiBwYXJhbXMubWF0ZXJpYWxUaGlja25lc3MpKTtcblxuICAgIGlmIChwYXJhbXMuc2luZ2xlU2lkZWQpIHtcbiAgICAgIGJlbmRBbGxvd2FuY2UgPSBiZW5kQWxsb3dhbmNlIC8yO1xuICAgIH1cblxuICAgIHJldHVybiBiZW5kQWxsb3dhbmNlO1xuICB9XG5cbiAgY2hvcmRhbFRyYXBlem9pZFBvaW50TGluZShwYXJhbXMpIHtcbiAgICBwYXJhbXMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgIHJhZGl1c0RlbHRhOiA0NSwgLy9yZXF1aXJlZFxuICAgICAgaW5uZXJDaG9yZExlbmd0aDogMTAsXG4gICAgICBvdXRlckNob3JkTGVuZ3RoOiBudWxsLCAvL0NhbGN1bGF0ZWRcbiAgICAgIGlubmVyUmFkaXVzOiBudWxsLCAvL092ZXJyaWRlcyBpbm5lckxlbmd0aCArIG91dGVyIGxlbmd0aCBpZiBzcGVjaWZpZWRcbiAgICAgIG91dGVyUmFkaXVzOiBudWxsLFxuICAgICAgYW5nbGU6IDMwIC8vbXVzdCBzcGVjaWZ5IGVpdGhlciBpbm5lciBhbmdsZSBvciAoaW5uZXIgY2hvcmQgbGVuZ3RoIG9yIG91dGVyIGNob3JkIGxlbmd0aClcbiAgICB9LHBhcmFtcyk7XG5cblxuICAgIC8vU0lOID0gT1BQIC8gSFlQXG4gICAgaWYgKCFwYXJhbXMuaW5uZXJSYWRpdXMpIHtcbiAgICAgIHBhcmFtcy5pbm5lclJhZGl1cyA9IHBhcmFtcy5pbm5lckNob3JkTGVuZ3RoIC8gKE1hdGguc2luKChwYXJhbXMuYW5nbGUvMikgKiAoTWF0aC5QSSAvIDE4MCkpKTtcbiAgICB9XG5cbiAgICBpZiAocGFyYW1zLnJhZGl1c0RlbHRhKSB7XG4gICAgICBwYXJhbXMub3V0ZXJSYWRpdXMgPSBwYXJhbXMuaW5uZXJSYWRpdXMgKyBwYXJhbXMucmFkaXVzRGVsdGE7XG5cbiAgICB9IGVsc2UgaWYgKCFwYXJhbXMucmFkaXVzRGVsdGEpIHtcbiAgICAgIHBhcmFtcy5vdXRlclJhZGl1cyA9IHBhcmFtcy5vdXRlckNob3JkTGVuZ3RoIC8gKE1hdGguc2luKChwYXJhbXMuYW5nbGUvMikgKiAoTWF0aC5QSSAvIDE4MCkpKTtcbiAgICB9XG5cbiAgICAvL0FzdXNtZSBhbmdsZSBzZXQgZm9yIG5vd1xuICAgIC8vT2Zmc2V0IHRoZSBjb3JlIHBvaW50IHRvIC0gKG1pbnVzKSB0aGUgaW5uZGVyIHJhZGl1cyAgdmVydGljYWxseVxuICAgIC8vIGxldCBhbmdsZWRJbm5lclJhZGl1c1BvaW50ID0gdXRpbHMucG9pbnRGcm9tUG9pbnRBdEFuZ2xlKFswLC1wYXJhbXMuaW5uZXJSYWRpdXNdLHBhcmFtcy5pbm5lclJhZGl1cyxwYXJhbXMuYW5nbGUpO1xuICAgIGxldCBwb2ludExpbmUgPSBbXTtcbiAgICBwb2ludExpbmUucHVzaChbMCwwXSk7XG4gICAgcG9pbnRMaW5lLnB1c2godGhpcy5wb2ludEZyb21Qb2ludEF0QW5nbGUoWzAsLXBhcmFtcy5pbm5lclJhZGl1c10scGFyYW1zLmlubmVyUmFkaXVzLDkwLXBhcmFtcy5hbmdsZSkpO1xuICAgIHBvaW50TGluZS5wdXNoKHRoaXMucG9pbnRGcm9tUG9pbnRBdEFuZ2xlKFswLC1wYXJhbXMuaW5uZXJSYWRpdXNdLHBhcmFtcy5vdXRlclJhZGl1cyw5MC1wYXJhbXMuYW5nbGUpKTtcbiAgICBwb2ludExpbmUucHVzaChbMCxwYXJhbXMub3V0ZXJSYWRpdXMgLSBwYXJhbXMuaW5uZXJSYWRpdXNdKTtcblxuICAgIHJldHVybiBwb2ludExpbmU7XG4gIH1cbiAgLyoqXG4gICAgKiBDcmVhdGUgYSBwb2ludExpbmUgdGhhdCByZXByZXNlbnRzIGEgY3JlZGl0IGNhcmQgaG9sZGVyIHNsb3RcbiAgICAqIEBwYXJhbSB7aW50ZWdlcn0gb3V0ZXJXaWR0aCAtIE91dGVyIHdpZHRoIG9mIHRoZSBjYXJkc2xvdCAoaW5jbHVkaW5nIGFueSBzbGlwIGFsbG93YW5jZSBhbmQgc3RpdGNoQWxsb3dhbmNlKSxcbiAgICAqIEBwYXJhbSB7aW50ZWdlcn0gb3V0ZXJIZWlnaHQgLSBPdXRlciBoZWlnaHQgb2YgdGhlIGNhcmRzbG90IChpbmNsdWRpbmcgYW55IHNsaXAgYWxsb3dhbmNlIGFuZCBzdGl0Y2hBbGxvd2FuY2UpLFxuICAgICogQHBhcmFtIHtib29sZWFufSBbdFNsb3Q9ZmFsc2VdIC0gSWYgdGhlIGNhcmQgc2xvdCBzaG91bGQgYmUgYSBUIHNsb3QgKG1pZGRsZSBzbG90IGluIGEgc3RhY2sgb2YgY2FyZCBzbG90cylcbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBbcGFyYW1zXSAtIFBhcmFtZXRlcnMgdG8gdXNlLFxuICAgICogQHBhcmFtIHtudW1iZXJ9IFtwYXJhbXMuYmFzZVdpZHRoUENUPS43NV0gLSBTZXRzIHRoZSBiYXNlIG9mIHQgc2xvdHMgdG8gYmUgYSBwb3J0aW9uIG9mIHRoZSBvdmVyYWxsIHdpZHRoXG4gICAgKiBAcGFyYW0ge251bWJlcn0gW3BhcmFtcy5iYXNlV2lkdGhdIC0gT3ZlcnJpZGVzIGJhc2VXaWR0aFBDVCwgc2V0cyB0aGUgYmFzZSBvZiB0IHNsb3RzIHRvIGJlIGEgc3BlY2lmaWMgd2lkdGhcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcGFyYW1zLnN0aXRjaEFsbG93YW5jZT0zLjhdIC0gU2V0cyB0aGUgaW5zZXQgb2YgdGhlIHRvcCBsaW5lIChiZWZvcmUvYWZ0ZXIgdGhlIHNsb3BlL3RvcGxpbmUgcG9pbnRzKSBhcyBob3Jpem9udGFsIGFyZSBhZGRlZFxuICAgICogQHBhcmFtIHtudW1iZXJ9IFtwYXJhbXMuc2lkZUluc2V0XSAtIElmIG51bGwsID0gc3RpdGNoQWxsb3dhbmNlOyBTaWRlIGluc2V0IGZvciB0aGUgbG93ZXIgcGFydCBvZiB0IHNsb3RzXG4gICAgKiBAcGFyYW0ge251bWJlcn0gW3BhcmFtcy5jYXJkU3RpY2tPdXRQQ1Q9Ljc1XSAtIFNldHMgdGhlIGhlaWd0aCBvZiB0aGUgY2FyZHMgc3RpY2tpbmcgb3V0IG9mIHRoZSBzbG90IGFzIGEgcG9ydGlvIG9mIHRoZSBvdmVyYWxsIGhlaWdodCBvZiB0aGUgc2xvdFxuICAgICogQHBhcmFtIHtudW1iZXJ9IFtwYXJhbXMuY2FyZFN0aWNrT3V0XSAtIE92ZXJyaWRlcyBjYXJkU3RpY2tPdXRQQ1QsIHNldHMgdGhlIGhlaWdodCBvZiB0aGUgY2FyZCBzdGlja2luZyBvdXQgb2YgdGhlIHNsb3QgdG8gYmUgYSBzcGVjaWZpYyBzaXplXG4gICAgKiBAcGFyYW0ge251bWJlcn0gW3BhcmFtcy5zbG90UmlzZUFtb3VudFBDVD0uNzVdIC0gU2V0IHRoZSBzbG90IHJpc2UgKGZvciB0c2xvdHMpIHRvIGJlIGEgcG9ydGlvbiBvZiB0aGUgaGVpZ2h0XG4gICAgKiBAcGFyYW0ge251bWJlcn0gW3BhcmFtcy5zbG90UmlzZUFtb3VudF0gLSBPdmVycmlkZXMgc2xvdFJpc2VBbW91bnRQQ1Qgc2xvdCByaXNlIGZvciB0IHNsb3RzIHRvIGJlIGEgc3BlY2lmaWMgc2l6ZVxuICAgICogQHBhcmFtIHtudW1iZXJ9IFtwYXJhbXMudG9wTGluZVNsb3BlUENUXSAtIE92ZXJyaWRlIHRvcExpbmVTbG9wZVJpc2Ugc2V0IHRvIGJlIHRvcExpbmVTbG9wZVBDVCBtdWx0aXBsaWVkIGJ5IHRoZSB3aWR0aFxuICAgICogQHBhcmFtIHtudW1iZXJ9IFtwYXJhbXMudG9wTGluZVNsb3BlUmlzZT0wXSAtIFVuaXRzIHRvIGhhdmUgdGhlIGNhcmQgdG9wIHJpc2Ugb24gdGhlIHJpZ2h0IGhhbmQgc2lkZVxuICAgICogQHBhcmFtIHtQb2ludFtdfSBbcGFyYW1zLnRvcExpbmVQb2ludHNdIC1cbiAgICAqIEByZXR1cm4ge1BvaW50W119IC0gQSBwb2ludCBsaW5lIHJlcHJlc2VudGluZyB0aGUgY3JlZGl0IGNhcmQgaG9sZGVyIHNsb3RcbiAgICAqL1xuICBjYXJkU2xvdFBvaW50TGluZShvdXRlcldpZHRoLCBvdXRlckhlaWdodCwgdFNsb3QgPSBmYWxzZSwgcGFyYW1zPW51bGwpIHtcbiAgICBwYXJhbXMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgIGJhc2VXaWR0aFBDVDogLjc1LFxuICAgICAgYmFzZVdpZHRoOiBudWxsLCAvL2lmIG51bGwgLSBjYWxjdWxhdGUgZnJvbSBQQ1QgdmFsdWVcbiAgICAgIHN0aXRjaEFsbG93YW5jZTogMy44LFxuICAgICAgc2lkZUluc2V0OiBudWxsLCAvLz0gc2lkZSBhbGxvd2FuY2UgaWYgPSBudWxsIC0gc3RpdGNoQWxsb3dhbmNlXG4gICAgICBjYXJkU3RpY2tPdXRQQ1Q6IC4yLFxuICAgICAgY2FyZFN0aWNrT3V0OiBudWxsLCAvL2lmIG51bGwgLSBjYWxjdWxhdGUgZm9ybSBQQ1QgdmFsdWVcbiAgICAgIHNsb3RSaXNlQW1vdW50UENUOiAuMixcbiAgICAgIHNsb3RSaXNlQW1vdW50OiBudWxsLCAvL2lmIG51bGwgLSBjYWxjdWxhdGUgZnJvbSBQQ1QgdmFsdWVcbiAgICAgIHRvcExpbmVTbG9wZVBDVDogbnVsbCwgLy9pZiAhPTAgYWRkIGEgc2xvcGUgdG8gdGhlIHRvcCBsaW5lXG4gICAgICB0b3BMaW5lU2xvcGVSaXNlOiAwLCAvL2lmIHNsb3BlICE9IG51bGwgdGhpcyBpcyBpZ25vcmVkIGFuZCB1cGRhdGVkIHRvIGJlIHRoZSB2YWx1ZSBvZiB3aWR0aCAqIHNsb3BlUENUXG4gICAgICB0b3BMaW5lUG9pbnRzOiBudWxsLCAvL2lmICE9bnVsbCBPdmVycmlkZSB0aGUgdG9wbGluZSB3aXRoIGN1c3RvbSBwb2ludHMgKGZpcnN0IGFuZCBsYXN0IHBvaW50cyB3aWxsIG5vdCBiZSBvdmVycmlkZW4pXG4gICAgfSxwYXJhbXMpO1xuXG4gICAgLy9DYWxjdWxhdGUgdGhlIGFjdHVhbCB2YWx1ZXMgZnJvbSBhbnkgUENUIHZhbHVlc1xuICAgIGlmIChwYXJhbXMuc2lkZUluc2V0ID09IG51bGwpIHtcbiAgICAgIHBhcmFtcy5zaWRlSW5zZXQgPSBwYXJhbXMuc3RpdGNoQWxsb3dhbmNlO1xuICAgIH1cblxuICAgIGlmIChwYXJhbXMuYmFzZVdpZHRoID09IG51bGwpIHtcbiAgICAgIHBhcmFtcy5iYXNlV2lkdGggPSBwYXJhbXMuYmFzZVdpZHRoUENUICogb3V0ZXJXaWR0aDtcbiAgICB9XG5cbiAgICBpZiAocGFyYW1zLmNhcmRTdGlja091dCA9PSBudWxsKSB7XG4gICAgICBwYXJhbXMuY2FyZFN0aWNrT3V0ID0gcGFyYW1zLmNhcmRTdGlja091dFBDVCAqIG91dGVySGVpZ2h0O1xuICAgIH1cblxuICAgIGlmIChwYXJhbXMuc2xvdFJpc2VBbW91bnQgPT0gbnVsbCkge1xuICAgICAgcGFyYW1zLnNsb3RSaXNlQW1vdW50ID0gcGFyYW1zLnNsb3RSaXNlQW1vdW50UENUICogb3V0ZXJIZWlnaHQ7XG4gICAgfVxuXG4gICAgaWYgKHBhcmFtcy50b3BMaW5lU2xvcGVQQ1QgIT0gbnVsbCkge1xuICAgICAgcGFyYW1zLnRvcExpbmVTbG9wZVJpc2UgPSBvdXRlckhlaWdodCAqIHBhcmFtcy50b3BMaW5lU2xvcGVQQ1Q7XG4gICAgfVxuXG4gICAgaWYgKHBhcmFtcy50b3BMaW5lU2xvcGVSaXNlID09IG51bGwpIHtcbiAgICAgIHBhcmFtcy50b3BMaW5lU2xvcGVSaXNlID0gMDtcbiAgICB9XG5cbiAgICBsZXQgcGFuZWxIZWlnaHQgPSBvdXRlckhlaWdodCAtIHBhcmFtcy5jYXJkU3RpY2tPdXQ7XG4gICAgbGV0IHBhbmVsV2lkdGggPSBvdXRlcldpZHRoO1xuXG4gICAgbGV0IHBhdGhQb2ludHMgPSBbXTtcbiAgICBwYXRoUG9pbnRzLnB1c2goWzAsIHBhbmVsSGVpZ2h0XSk7XG4gICAgcGF0aFBvaW50cy5wdXNoKFtwYXJhbXMuc3RpdGNoQWxsb3dhbmNlLCBwYW5lbEhlaWdodF0pO1xuICAgIHBhdGhQb2ludHMucHVzaChbcGFuZWxXaWR0aC1wYXJhbXMuc3RpdGNoQWxsb3dhbmNlLCBwYW5lbEhlaWdodCArIHBhcmFtcy50b3BMaW5lU2xvcGVSaXNlXSk7XG4gICAgcGF0aFBvaW50cy5wdXNoKFtwYW5lbFdpZHRoLCBwYW5lbEhlaWdodCArIHBhcmFtcy50b3BMaW5lU2xvcGVSaXNlXSk7XG5cbiAgICBpZiAodFNsb3QpIHtcbiAgICAgIHBhdGhQb2ludHMucHVzaChbcGFuZWxXaWR0aCwgcGFuZWxIZWlnaHQgKyBwYXJhbXMudG9wTGluZVNsb3BlUmlzZSAtIHBhcmFtcy5zbG90UmlzZUFtb3VudF0pO1xuICAgICAgcGF0aFBvaW50cy5wdXNoKFtwYW5lbFdpZHRoIC0gcGFyYW1zLnNpZGVJbnNldCwgcGFuZWxIZWlnaHQgKyBwYXJhbXMudG9wTGluZVNsb3BlUmlzZSAtIHBhcmFtcy5zbG90UmlzZUFtb3VudF0pO1xuXG4gICAgICBwYXRoUG9pbnRzLnB1c2goWyhwYW5lbFdpZHRoICsgcGFyYW1zLmJhc2VXaWR0aCkvMiwgMF0pO1xuICAgICAgcGF0aFBvaW50cy5wdXNoKFsocGFuZWxXaWR0aCAtIHBhcmFtcy5iYXNlV2lkdGgpLzIsIDBdKTtcblxuICAgICAgcGF0aFBvaW50cy5wdXNoKFtwYXJhbXMuc2lkZUluc2V0LCBwYW5lbEhlaWdodCAtIHBhcmFtcy5zbG90UmlzZUFtb3VudF0pO1xuICAgICAgcGF0aFBvaW50cy5wdXNoKFswLCBwYW5lbEhlaWdodCAtIHBhcmFtcy5zbG90UmlzZUFtb3VudF0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBwYXRoUG9pbnRzLnB1c2goW3BhbmVsV2lkdGgsMF0pO1xuICAgICAgcGF0aFBvaW50cy5wdXNoKFswLDBdKTtcbiAgICB9XG4gICAgcmV0dXJuIHBhdGhQb2ludHM7XG4gIH1cblxuXG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBIZWFwUGFja2VyIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIGxldCBhcHBsaWVkT3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgZGVmYXVsdFBhY2tBcmVhSGVpZ2h0OiAxMDAwLFxuICAgICAgZGVmYXVsdFBhY2tBcmVhV2lkdGg6IDIwMDAsXG4gICAgICBncm93TGltaXRIZWlnaHQ6IC0xLFxuICAgICAgZ3Jvd0xpbWl0V2lkdGg6IC0xLFxuICAgICAgY2FuR3Jvd1BhY2tBcmVhOiBmYWxzZSwgLy9jYW5Hcm93UGFja0FyZWEgb3IgY2FuQWRkUGFja0FyZWFzIG9ubHkgMSBtdXN0IGJlIGVuYWJsZWQgLSBncm93IHdpbGwgdGFrZSBwcmVjZWRlbmNlXG4gICAgICBjYW5BZGRQYWNrQXJlYXM6IHRydWUsXG4gICAgfSxvcHRpb25zKTtcblxuICAgIHRoaXMuZGVmYXVsdFBhY2tBcmVhSGVpZ2h0ID0gYXBwbGllZE9wdGlvbnMuZGVmYXVsdFBhY2tBcmVhSGVpZ2h0O1xuICAgIHRoaXMuZGVmYXVsdFBhY2tBcmVhV2lkdGggPSBhcHBsaWVkT3B0aW9ucy5kZWZhdWx0UGFja0FyZWFXaWR0aDtcbiAgICB0aGlzLmNhbkdyb3dQYWNrQXJlYSA9IGFwcGxpZWRPcHRpb25zLmNhbkdyb3dQYWNrQXJlYTtcbiAgICB0aGlzLmNhbkFkZFBhY2tBcmVhcyA9IGFwcGxpZWRPcHRpb25zLmNhbkFkZFBhY2tBcmVhcztcblxuICAgIHRoaXMuYXZhaWxhYmxlSGVhcCA9IFtdO1xuICAgIHRoaXMucGFja0FyZWFEZWZpbml0aW9ucyA9IFtdO1xuICAgIHRoaXMucGFja0FyZWFNYXhJbmRleCA9IDA7XG4gICAgdGhpcy5wYWNrZWRCbG9ja3MgPSBbXTtcblxuICAgIC8vU2V0dXAgdGhlIGluaXRpYWwgaGVhcFxuICAgIHRoaXMuYWRkUGFja0FyZWEoKTtcbiAgfVxuXG4gIHBhY2tlZEFyZWFzKCkge1xuICAgIHJldHVybiB0aGlzLnBhY2tBcmVhRGVmaW5pdGlvbnMubWFwKChwYWNrQXJlYSkgPT4ge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IHBhY2tBcmVhLmEsXG4gICAgICAgIGg6IHBhY2tBcmVhLmgsXG4gICAgICAgIHc6IHBhY2tBcmVhLncsXG4gICAgICAgIGJsb2NrczogdGhpcy5wYWNrZWRCbG9ja3MuZmlsdGVyKChibG9jaykgPT4gKGJsb2NrLmEgPT0gcGFja0FyZWEuYSkpXG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBhZGRQYWNrQXJlYShhZGRQYWNrQXJlYVdpZHRoID0gbnVsbCxhZGRQYWNrQXJlYUhlaWdodCA9IG51bGwpIHtcbiAgICBpZiAoIWFkZFBhY2tBcmVhV2lkdGgpIHthZGRQYWNrQXJlYVdpZHRoID0gdGhpcy5kZWZhdWx0UGFja0FyZWFXaWR0aH07XG4gICAgaWYgKCFhZGRQYWNrQXJlYUhlaWdodCkge2FkZFBhY2tBcmVhSGVpZ2h0ID0gdGhpcy5kZWZhdWx0UGFja0FyZWFIZWlnaHR9O1xuICAgIGxldCBwYWNrQXJlYUluZGV4ID0gKyt0aGlzLnBhY2tBcmVhTWF4SW5kZXg7XG4gICAgbGV0IG5ld1BhY2tBcmVhID0ge1xuICAgICAgeDogMCxcbiAgICAgIHk6IDAsXG4gICAgICB3OiBhZGRQYWNrQXJlYVdpZHRoLFxuICAgICAgaDogYWRkUGFja0FyZWFIZWlnaHQsXG4gICAgICBhOiBwYWNrQXJlYUluZGV4XG4gICAgfVxuXG4gICAgdGhpcy5wYWNrQXJlYURlZmluaXRpb25zLnB1c2goT2JqZWN0LmFzc2lnbih7fSxuZXdQYWNrQXJlYSkpO1xuICAgIHRoaXMuYXZhaWxhYmxlSGVhcC5wdXNoKG5ld1BhY2tBcmVhKTtcbiAgICByZXR1cm4gbmV3UGFja0FyZWE7XG4gIH1cblxuICBncm93UGFja0FyZWEoZ3Jvd1RvRml0V2lkdGgsZ3Jvd1RvRml0SGVpZ2h0LHBhY2tBcmVhSWQgPSAtMSkge1xuICAgIC8vIGNvbnNvbGUubG9nKCdHcm93aW5nIFBhY2sgQXJlYScsZ3Jvd1RvRml0V2lkdGgsZ3Jvd1RvRml0SGVpZ2h0LHRoaXMuYXZhaWxhYmxlSGVhcCk7XG4gICAgLy9UT0RPOiBNYXkgbmVlZCByZXdvcmsgYXMgdGhpcyB3aWxsIHVuZWNjZXNzYXJpbHkgYWRkIGdyb3d0aCBiZWNhdXNlIGl0XG4gICAgLy8gICAgICBpZ25vcmVzIGFueSBleGlzdGluZyBoZWFwOyBlLmcuIGlmIHRoZSBibG9jayBhbG1vc3QgZml0IGluIHRoZSBIZWFwXG4gICAgLy8gICAgICBhbmQgb25seSBuZWVkcyBhIGZldyBtb3JlIG1tLCB0aGlzIHdpbGwgc3RpbGwgYWRkIHRoZSBmdWxsIHNwYWNlIGZvciB0aGUgYmxvY2tcbiAgICAvL0ZJWDogIEFkZCBpbiB0cmltbWluZyBkb3duIHBhY2tBcmVhcyBieSByZW1vdmluZyBvciB0cmltbWluZyB1bnVzZWQgaGVhcHNcbiAgICAvL0ZJWDogIFNob3VsZCBmaXJzdCBsb29rIGZvciB0aGUgbmVhcmVzdCBlZGdlIGZhY2luZyBoZWFwIHRoYXQgbWF0Y2hlcyBhbmQgdXNlIHRoYXQ/XG5cbiAgICAvKipcbiAgICAgKiBGSVhNRTogQWRkaW5nIHRvIHRoZSBleGlzdGluZyBwYWNrIGFyZWFzIGRvZXMgbm90IGFsd2F5cyBhZGQgZW5vdWdoIHNwYWNlIChzaW5jZSB0aGUgaGVhcCBhcmVhcyBtYXkgbm90IGJlIGNvbnRpZ3VvdXMgaGVuY2Ugc3RpbGwgbWF5IG5vdCBoYXZlIGVub3VnaCBzcGFjZS4pXG4gICAgICBUZW1wb3JhcnkgZml4IGlzIHRvIGp1c3QgYWRkIGhlYXBzIHJhdGhlciB0aGFuIGV4dGVuZGluZz9cbiAgICAgKi9cblxuICAgIC8vQWRkIHRoZSBzaXplIHRvIHRoZSBwYWNrQXJlYVxuICAgIGxldCBlZGl0aW5nUGFja0FyZWEgPSBudWxsO1xuICAgIGlmIChwYWNrQXJlYUlkIDwgMCkge1xuICAgICAgLy9JZiBub3Qgc3BlY2lmaWVkIGp1c3QgdXNlIHRoZSBsYXN0IG9uZVxuICAgICAgZWRpdGluZ1BhY2tBcmVhID0gdGhpcy5wYWNrQXJlYURlZmluaXRpb25zW3RoaXMucGFja0FyZWFEZWZpbml0aW9ucy5sZW5ndGgtMV07XG4gICAgfSBlbHNlIHtcbiAgICAgIGVkaXRpbmdQYWNrQXJlYSA9IHRoaXMucGFja0FyZWFEZWZpbml0aW9ucy5maW5kKChwYWNrQXJlYSkgPT4gKHBhY2tBcmVhLmlkID09IHBhY2tBcmVhSWQpKTtcbiAgICB9XG5cbiAgICAvL0RlY2lkZSBvbiB3aGljaCBwcmltYXJ5IHNpZGUgdG8gZ3JvdyB0aGUgcGFjayBhcmVhXG4gICAgLy9DaG9vc2UgdGhlIHNpemUgdGhhdCB3aWxsIGluY3JlYXNlIHRoZSBwYWNrIGFyZWEgdGhlIGxlYXN0XG4gICAgbGV0IGdyb3dPbldpZHRoUmF0aW8gPSAoZWRpdGluZ1BhY2tBcmVhLncgKyBncm93VG9GaXRXaWR0aCkgLyAoTWF0aC5tYXgoZWRpdGluZ1BhY2tBcmVhLmgsZ3Jvd1RvRml0SGVpZ2h0KSk7XG4gICAgbGV0IGdyb3dPbkhlaWdodFJhdGlvID0gKE1hdGgubWF4KGVkaXRpbmdQYWNrQXJlYS53LGdyb3dUb0ZpdFdpZHRoKSkgLyAoZWRpdGluZ1BhY2tBcmVhLmggKyBncm93VG9GaXRIZWlnaHQpO1xuICAgIC8vQ2hvb3NlIHRoZSBsb3dlc3QgcmF0aW8gc28gdGhlIHBhY2sgYXJlYSBncm93cyBhcyBtb3N0bHkgYSBzcXVhcmVcbiAgICAvL0ZJWE1FOiBDaGFuZ2UgZnJvbSBsb3dlc3QgcmF0aW8gdG8gYmUgY2xvc2VzdCB0byAxXG4gICAgbGV0IGdyb3dPbldpZHRoID0gKDEtZ3Jvd09uV2lkdGhSYXRpbykgPD0gKDEtZ3Jvd09uSGVpZ2h0UmF0aW8gKTtcblxuICAgIGxldCBhY3R1YWxGaW5hbFdpZHRoID0gKGdyb3dPbldpZHRoP2VkaXRpbmdQYWNrQXJlYS53ICsgZ3Jvd1RvRml0V2lkdGg6TWF0aC5tYXgoZWRpdGluZ1BhY2tBcmVhLncsZ3Jvd1RvRml0V2lkdGgpKTtcbiAgICBsZXQgYWN0dWFsRmluYWxIZWlnaHQgPSAoZ3Jvd09uV2lkdGg/TWF0aC5tYXgoZWRpdGluZ1BhY2tBcmVhLmgsZ3Jvd1RvRml0SGVpZ2h0KTplZGl0aW5nUGFja0FyZWEuaCArIGdyb3dUb0ZpdEhlaWdodCk7XG5cbiAgICAvL2ZpbmQgdGhlIHggc2lkZSBlZGdlc1xuICAgIGxldCBwYWNrQXJlYUhlYXBzID0gdGhpcy5hdmFpbGFibGVIZWFwLmZpbHRlcigoaGVhcCkgPT4gKGhlYXAuYSA9PSBlZGl0aW5nUGFja0FyZWEuYSkpO1xuXG4gICAgbGV0IHJpZ2h0U2lkZUhlYXBzID0gcGFja0FyZWFIZWFwcy5maWx0ZXIoKGhlYXApID0+IChoZWFwLngraGVhcC53ID09IGVkaXRpbmdQYWNrQXJlYS53KSk7XG4gICAgbGV0IGJvdHRvbVNpZGVIZWFwcyA9IHBhY2tBcmVhSGVhcHMuZmlsdGVyKChoZWFwKSA9PiAoaGVhcC55K2hlYXAuaCA9PSBlZGl0aW5nUGFja0FyZWEuaCkpO1xuXG5cbiAgICBsZXQgcmlnaHRTaWRlRGVsdGEgPSBhY3R1YWxGaW5hbFdpZHRoIC0gZWRpdGluZ1BhY2tBcmVhLnc7XG4gICAgbGV0IGJvdHRvbVNpZGVEZWx0YSA9IGFjdHVhbEZpbmFsSGVpZ2h0IC0gZWRpdGluZ1BhY2tBcmVhLmg7XG5cblxuICAgIC8vL0luc3RlYWQgb2YgZXh0ZW5kZWQgaGVhcHMgLSBuZWVkIHRvIGFkZCBuZXcgb25lc1xuICAgIGlmIChncm93T25XaWR0aCkge1xuICAgICAgLy9QdXNoIHRoZSBoZWFwIGZvciB0aGUgYmxvY2sgKG9uIHRoZSByaWdodClcbiAgICAgIHRoaXMuYXZhaWxhYmxlSGVhcC5wdXNoKHtcbiAgICAgICAgczogMSxcbiAgICAgICAgYTogZWRpdGluZ1BhY2tBcmVhLmEsXG4gICAgICAgIHg6IGVkaXRpbmdQYWNrQXJlYS54ICsgZWRpdGluZ1BhY2tBcmVhLncsXG4gICAgICAgIHk6IGVkaXRpbmdQYWNrQXJlYS55LFxuICAgICAgICB3OiByaWdodFNpZGVEZWx0YSxcbiAgICAgICAgaDogZWRpdGluZ1BhY2tBcmVhLmggKyBib3R0b21TaWRlRGVsdGFcbiAgICAgIH0pXG4gICAgICAvL1B1c2ggdGhlIHJlbWFpbmluZyBoZWFwXG4gICAgICB0aGlzLmF2YWlsYWJsZUhlYXAucHVzaCh7XG4gICAgICAgIHM6IDIsXG4gICAgICAgIGE6IGVkaXRpbmdQYWNrQXJlYS5hLFxuICAgICAgICB4OiBlZGl0aW5nUGFja0FyZWEueCxcbiAgICAgICAgeTogZWRpdGluZ1BhY2tBcmVhLnkgKyBlZGl0aW5nUGFja0FyZWEuaCxcbiAgICAgICAgdzogZWRpdGluZ1BhY2tBcmVhLncsXG4gICAgICAgIGg6IGJvdHRvbVNpZGVEZWx0YVxuICAgICAgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgLy9QdXNoIHRoZSBoZWFwIGZvciB0aGUgYmxvY2sgKGF0IHRoZSBib3R0b20pXG4gICAgICB0aGlzLmF2YWlsYWJsZUhlYXAucHVzaCh7XG4gICAgICAgIGU6IDEsXG4gICAgICAgIGE6IGVkaXRpbmdQYWNrQXJlYS5hLFxuICAgICAgICB4OiBlZGl0aW5nUGFja0FyZWEueCxcbiAgICAgICAgeTogZWRpdGluZ1BhY2tBcmVhLnkgKyBlZGl0aW5nUGFja0FyZWEuaCxcbiAgICAgICAgdzogZWRpdGluZ1BhY2tBcmVhLncgKyByaWdodFNpZGVEZWx0YSxcbiAgICAgICAgaDogYm90dG9tU2lkZURlbHRhXG4gICAgICB9KVxuICAgICAgLy9QdXNoIHRoZSByZW1haW5pbmcgaGVhcFxuICAgICAgdGhpcy5hdmFpbGFibGVIZWFwLnB1c2goe1xuICAgICAgICBlOiAyLFxuICAgICAgICBhOiBlZGl0aW5nUGFja0FyZWEuYSxcbiAgICAgICAgeDogZWRpdGluZ1BhY2tBcmVhLnggKyBlZGl0aW5nUGFja0FyZWEudyxcbiAgICAgICAgeTogZWRpdGluZ1BhY2tBcmVhLnksXG4gICAgICAgIHc6IHJpZ2h0U2lkZURlbHRhLFxuICAgICAgICBoOiBlZGl0aW5nUGFja0FyZWEuaFxuICAgICAgfSlcbiAgICB9XG5cbiAgICAvL3Jlc2l6ZSB0aGUgcGFjayBhcmVhXG4gICAgZWRpdGluZ1BhY2tBcmVhLncgPSBhY3R1YWxGaW5hbFdpZHRoO1xuICAgIGVkaXRpbmdQYWNrQXJlYS5oID0gYWN0dWFsRmluYWxIZWlnaHQ7XG5cblxuICAgIC8vVE9ETzogVXNlIHRoZSBzcGFjZSBtb3JlIGVmZmljaWVudGx5IGJ5IHJlY2xhaW1pbmcgZW1wdHkgaGVhcHNcbiAgICAvL0NBTkNFTFxuICAgIC8vIHJpZ2h0U2lkZUhlYXBzLmZvckVhY2goKGhlYXApID0+IHtcbiAgICAvLyAgIGhlYXAudyA9IGhlYXAudyArIHJpZ2h0U2lkZURlbHRhO1xuICAgIC8vIH0pO1xuICAgIC8vXG4gICAgLy8gYm90dG9tU2lkZUhlYXBzLmZvckVhY2goKGhlYXApID0+IHtcbiAgICAvLyAgIGhlYXAuaCA9IGhlYXAuaCArIGJvdHRvbVNpZGVEZWx0YTtcbiAgICAvLyB9KTtcbiAgICAvL0NBTkNFTFxuXG5cbiAgICAvLyBjb25zb2xlLmxvZygnR3Jvd24gUGFjayBBcmVhJyxyaWdodFNpZGVEZWx0YSxib3R0b21TaWRlRGVsdGEsdGhpcy5wYWNrQXJlYURlZmluaXRpb25zLHBhY2tBcmVhSGVhcHMscmlnaHRTaWRlSGVhcHMsYm90dG9tU2lkZUhlYXBzKTtcbiAgfVxuXG4gIHNvcnRCbG9ja3NGb3JQYWNraW5nKGJsb2Nrc1RvUGFjaykge1xuICAgIGJsb2Nrc1RvUGFjay5zb3J0KChhLGIpID0+IHtcbiAgICAgIHJldHVybiAoKGIudypiLmgpIC0gKGEudyphLmgpKTtcbiAgICB9KTtcbiAgICByZXR1cm4gYmxvY2tzVG9QYWNrO1xuICB9XG5cbiAgc29ydEhlYXBGb3JQYWNraW5nKCkge1xuICAgIC8vU29ydCBzbWFsbGVzdCB0byBsYXJnZXN0IHRvIGVuY291cmFnZSBpdGVtcyB0byBnbyBpbnRvIHRoZSB0aWdodGVzdCBmaXQgKHRvIGdlbmVyYXRlIHRoZSBsZWFzdCBudW1iZXIgb2YgbGVmdC1vdmVyc1xuICAgIHRoaXMuYXZhaWxhYmxlSGVhcC5zb3J0KChhLGIpID0+IHtcbiAgICAgIGxldCBhcmVhQSA9IGEudyphLmg7XG4gICAgICBsZXQgYXJlYUIgPSBiLncqYi5oO1xuICAgICAgcmV0dXJuIGFyZWFBIC0gYXJlYUI7XG4gICAgfSk7XG4gIH1cblxuICBzcGxpdFJlbWFpbmluZ0hlYXAoaGVhcEFyZWEsYmxvY2spIHtcbiAgICBsZXQgc3BsaXRBLCBzcGxpdEI7XG4gICAgaWYgKChoZWFwQXJlYS53IC0gYmxvY2sudykgPj0gKGhlYXBBcmVhLmggLSBibG9jay5oKSkge1xuICAgICAgc3BsaXRBID0ge1xuICAgICAgICB4OiBoZWFwQXJlYS54ICsgYmxvY2sudyxcbiAgICAgICAgeTogaGVhcEFyZWEueSxcbiAgICAgICAgdzogaGVhcEFyZWEudyAtIGJsb2NrLncsXG4gICAgICAgIGg6IGhlYXBBcmVhLmhcbiAgICAgIH1cbiAgICAgIHNwbGl0QiA9IHtcbiAgICAgICAgeDogaGVhcEFyZWEueCxcbiAgICAgICAgeTogaGVhcEFyZWEueSArIGJsb2NrLmgsXG4gICAgICAgIHc6IGJsb2NrLncsXG4gICAgICAgIGg6IGhlYXBBcmVhLmggLSBibG9jay5oXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHNwbGl0QSA9IHtcbiAgICAgICAgeDogaGVhcEFyZWEueCxcbiAgICAgICAgeTogaGVhcEFyZWEueSArIGJsb2NrLmgsXG4gICAgICAgIHc6IGhlYXBBcmVhLncsXG4gICAgICAgIGg6IGhlYXBBcmVhLmggLSBibG9jay5oXG4gICAgICB9XG4gICAgICBzcGxpdEIgPSB7XG4gICAgICAgIHg6IGhlYXBBcmVhLnggKyBibG9jay53LFxuICAgICAgICB5OiBoZWFwQXJlYS55LFxuICAgICAgICB3OiBoZWFwQXJlYS53IC0gYmxvY2sudyxcbiAgICAgICAgaDogYmxvY2suaFxuICAgICAgfVxuICAgIH1cblxuICAgIHNwbGl0QS5hID0gaGVhcEFyZWEuYTtcbiAgICBzcGxpdEIuYSA9IGhlYXBBcmVhLmE7XG4gICAgcmV0dXJuIFtzcGxpdEEsc3BsaXRCXTtcbiAgfVxuXG5cblxuICBwYWNrQmxvY2tJbkF2YWlsYWJsZUFyZWFzKGJsb2NrKSB7XG4gICAgbGV0IGJsb2NrUGFja2VkID0gZmFsc2U7XG4gICAgLy90cnkgdG8gZmluZCBhIGhlYXAgYXJlYSB0aGF0IGZpdHMgdGhlIGJsb2NrXG4gICAgbGV0IGZpdHRpbmdIZWFwSW5kZXggPSB0aGlzLmF2YWlsYWJsZUhlYXAuZmluZEluZGV4KChoZWFwQXJlYSkgPT4ge1xuICAgICAgcmV0dXJuICgoaGVhcEFyZWEudyA+PSBibG9jay53KSAmJiAoaGVhcEFyZWEuaCA+PSBibG9jay5oKSlcbiAgICB9KTtcblxuICAgIC8vSWYgcm90YXRpb24gaXMgYWxsb3dlZCAtIHRyeSBhZ2FpbiBsb29raW5nIGZvciB0aGUgaGVhcEluZGV4IC0+IHNpbmNlIHRoZSBoZWFwIGlzIHNvcnRlZCBzbWFsbGVzdCB0byBsYXJnZXN0IHRoZW4gdGhlIGxvd2VyIEluZGV4IHdpbGwgYmUgdGhlXG4gICAgLy9iZXR0ZXIgaGVhcCBzbG90LiAoT1Igc3BlY2lmaWNhbGx5IGlmIGl0IGRvZXNuJ3QgZml0IHJvdGF0ZSBpdCBhbmQgZ28gbG9va2luZylcbiAgICAvL0FsdGhvdWdoIHRoaXMgaXMgd2VpcmQgc2luY2UgdGhlIGFyZWEgZG9lc24ndCBjaGFuZ2VcbiAgICAvL2lmIGl0IGRpZG4ndCBmaXQgLSB0aGVuIHJvdGF0ZSBpdCBhbmQgZ28gc2VhcmNoaW5nIGFnYWluIC0gcmVjb3JkIHRoYXQgaXQgd2FzIHJvdGF0ZWRcblxuICAgIC8vIGNvbnNvbGUubG9nKGJsb2NrLGZpdHRpbmdIZWFwSW5kZXgpO1xuICAgIGlmIChmaXR0aW5nSGVhcEluZGV4ID4gLTEpIHtcbiAgICAgIGxldCBmaXR0aW5nSGVhcCA9IHRoaXMuYXZhaWxhYmxlSGVhcFtmaXR0aW5nSGVhcEluZGV4XTtcbiAgICAgIC8vQmxvY2sgZml0cyBpbiB0aGlzIGhlYXBcbiAgICAgIC8vYXNzaWduIHRoZSBibG9jayBhcyBwYWNrZWQgYW5kIHRoZW4gc3BsaXQgcmVtYWluaW5nIGFyZWEgb2YgdGhlIGhlYXBcbiAgICAgIGxldCBwYWNrZWRCbG9jayA9IHtcbiAgICAgICAgdzogYmxvY2sudyxcbiAgICAgICAgaDogYmxvY2suaCxcbiAgICAgICAgeDogZml0dGluZ0hlYXAueCxcbiAgICAgICAgeTogZml0dGluZ0hlYXAueSxcbiAgICAgICAgYTogZml0dGluZ0hlYXAuYSxcbiAgICAgICAgaWQ6IGJsb2NrLmlkLFxuICAgICAgICByb3RhdGVkOiBibG9jay5yb3RhdGVkLFxuICAgICAgICBtb2RlbDogYmxvY2subW9kZWxcbiAgICAgIH1cbiAgICAgIHRoaXMucGFja2VkQmxvY2tzLnB1c2gocGFja2VkQmxvY2spO1xuXG4gICAgICBsZXQgaGVhcFJlbWFpbmluZyA9IHRoaXMuc3BsaXRSZW1haW5pbmdIZWFwKGZpdHRpbmdIZWFwLGJsb2NrKTtcbiAgICAgIHRoaXMuYXZhaWxhYmxlSGVhcC5zcGxpY2UoZml0dGluZ0hlYXBJbmRleCwxLGhlYXBSZW1haW5pbmdbMF0saGVhcFJlbWFpbmluZ1sxXSk7XG4gICAgICB0aGlzLnNvcnRIZWFwRm9yUGFja2luZygpO1xuICAgICAgYmxvY2tQYWNrZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBibG9ja1BhY2tlZDtcbiAgfVxuXG5cblxuICAvL1RPRE86IHRyaW0gZW1wdHkgcGFjayBhcmVhc1xuXG4gIC8vVE9ETzogVHJpbSB6ZXJvIGhlYXAgYXJlYXNcbiAgdHJpbUVtcHR5UGFja0FyZWFzKCkge1xuICAgIHRoaXMucGFja0FyZWFEZWZpbml0aW9ucyA9IHRoaXMucGFja0FyZWFEZWZpbml0aW9ucy5maWx0ZXIoKHBhY2tBcmVhKSA9PiB7XG4gICAgICByZXR1cm4gKHRoaXMucGFja2VkQmxvY2tzLmZpbHRlcigoYmxvY2spID0+IChibG9jay5hID09IHBhY2tBcmVhLmEpKS5sZW5ndGggPiAwKTtcbiAgICB9KTtcblxuICAgIGxldCB2YWxpZFBhY2tBcmVhcyA9IHRoaXMucGFja0FyZWFEZWZpbml0aW9ucy5tYXAoKHBhY2tBcmVhKSA9PiAocGFja0FyZWEuYSkpO1xuICAgIHRoaXMuYXZhaWxhYmxlSGVhcCA9IHRoaXMuYXZhaWxhYmxlSGVhcC5maWx0ZXIoKGhlYXApID0+IHtcbiAgICAgIHJldHVybiAgdmFsaWRQYWNrQXJlYXMuaW5jbHVkZXMoaGVhcC5hKTtcbiAgICB9KTtcbiAgfVxuXG4gIHBhY2tCbG9jayhibG9jaykge1xuXG4gICAgLy9FbnN1cmUgYXRsZWFzdCAxIHBhY2sgYXJlYSBleGlzdHNcbiAgICBpZiAodGhpcy5wYWNrQXJlYURlZmluaXRpb25zLmxlbmd0aCA8IDEpIHtcbiAgICAgIHRoaXMuYWRkUGFja0FyZWEoKTtcbiAgICB9XG5cbiAgICAvL1RyaW0gYW55IGVtcHR5IHBhY2sgYXJlYXMgLVxuICAgIGxldCBibG9ja1BhY2tlZCA9IHRoaXMucGFja0Jsb2NrSW5BdmFpbGFibGVBcmVhcyhibG9jayk7XG4gICAgLypcbiAgICAgIFRvIGdyb3cgcGFjayBhcmVhcyAtXG4gICAgICAgIDEuIGZpbmQgdGhlIGhlYXAgYXJlYXMgdGhhdCBoYXZlIDIgb3IgbGVzcyBuZWlnaGJvdXJzIChpLmUuIG5vdCBzdXJyb3VuZGVkKVxuICAgICAgICAyLiBGaW5kIHdoaWNoIG9mIHRoZXNlIGlzIHRoZSBuZWFyZXN0IGZpdFxuICAgICAgICAzLiBpbmNyZWFzZSB0aGUgc2l6ZSBvZiB0aGUgaGVhcCBhcmVhIHRvIGZpdFxuICAgICAgICA0LiBJbmNyZWFzZSB0aGUgc2l6ZSBvZiBpdHMgcGFyZW50IHBhY2sgYXJlYSB0byBhY2NvdW50IGZvciB0aGUgYWRkZWQgc3BhY2UuXG4gICAgICAgIC0tLS0tLS0tLVxuICAgICAgICBvciBmaW5kIGEgd2F5IHRvIGdyb3cgYSBwYWNrYXJlYSAtIGFuZCBrbm93IGhvdyB0byBncm93IHRoZSBhZmZlY3RlZCBoZWFwIGFyZWFzPyAoYW5kIGFkZCBhbnkgaGVhcCBhcmVhcyBhcyByZXF1aXJlZClcbiAgICAgICAgLS0gRmluZCBoZWFwcyBibG9ja3MgdGhhdCBlbmRlZCBhdCB0aGUgcHJldmlvdXMgbGltaXQgKGUuZy4gaC5YK2guVyA9IFBhY2thcmVhLlcpXG4gICAgICAgIC0tIEluY3JlYXNlIHRoZSBzaXplIG9mIHRoZSBwYWNrIGFyZWEgZGltZW5zaW9uIChQYWNrYXJlYS5XICsgMSlcbiAgICAgICAgLS0gSW5jcmVhc2UgdGhlIHByZXZpb3VzbHkgaWRlbnRpZmllZCBoZWFwIGFyZWFzIGJ5IHRoZSBhbW91bnQgKGgudysxKTtcbiAgICAgICAgLS0gUmVwYWNrXG4gICAgKi9cbiAgICAvL0dyb3cgdGFrZXMgcHJlY2VkZW5jZVxuICAgIGlmICgoIWJsb2NrUGFja2VkKSAmJiAodGhpcy5jYW5Hcm93UGFja0FyZWEpKSB7XG4gICAgICAvLysxIGFsbG93cyBmb3Igd2VpcmQgcm91bmRpbmcgaXNzdWVzXG4gICAgICAvLyBjb25zb2xlLmxvZygnUkVxdWVzdGluZyBHcm93IFBhY2sgYXJlYSBmb3InLGJsb2NrKTtcbiAgICAgIHRoaXMuZ3Jvd1BhY2tBcmVhKGJsb2NrLncrMSxibG9jay5oKzEpO1xuICAgICAgLy90cnkgYWdhaW5cbiAgICAgIGJsb2NrUGFja2VkID0gdGhpcy5wYWNrQmxvY2tJbkF2YWlsYWJsZUFyZWFzKGJsb2NrKTtcbiAgICAgIC8vIGNvbnNvbGUubG9nKCdBZnRlciBHcm93IFBhY2tlZD8nLGJsb2NrUGFja2VkLGJsb2NrKVxuICAgIH1cbiAgICBpZiAoKCFibG9ja1BhY2tlZCkgJiYgKHRoaXMuY2FuQWRkUGFja0FyZWFzKSkge1xuICAgICAgLy9BZGQgYSBuZXcgZGVmYXVsdCBwYWNrIGFyZWEgYW5kIHRyeSBhZ2FpblxuICAgICAgdGhpcy5hZGRQYWNrQXJlYSgpO1xuICAgICAgYmxvY2tQYWNrZWQgPSB0aGlzLnBhY2tCbG9ja0luQXZhaWxhYmxlQXJlYXMoYmxvY2spO1xuICAgICAgLy9kb24ndCBsb29wIGlmIGl0IGRpZG50IGZpdCBhZnRlciBhZGRpbmcgb25lIGFyZWEgLSBpdCB3b24ndCBmaXQuXG4gICAgfVxuXG4gICAgaWYgKCFibG9ja1BhY2tlZCkge1xuICAgICAgLy9UcmltIGVtcHR5IHBhY2sgYXJlYXMgKHJlbW92ZSB0aGUgb25lIHdlIGpzdXQgYWRkZWRcbiAgICAgIC8vTWFrZSBzdXJlIGF0bGVhc3QgMSBpcyBsZWZ0XG4gICAgICB0aGlzLnRyaW1FbXB0eVBhY2tBcmVhcygpO1xuICAgIH1cblxuICAgIHJldHVybiBibG9ja1BhY2tlZDtcbiAgfVxufVxuIiwiaW1wb3J0IG1ha2VyanMgZnJvbSAnbWFrZXJqcyc7XG5pbXBvcnQgeyBFbXB0eU1vZGVsIH0gZnJvbSAnLi9jb2RlcnVubmVyL2VtcHR5bW9kZWwuanMnO1xuXG5leHBvcnQgY2xhc3MgTW9kZWxTcGxpdHRlciAge1xuXG4gIHRyaW1Nb2RlbFRvTGluZShtb2RlbFRvU2xpY2UsbGluZUF0LGtlZXBQb3NpdGl2ZVNpZGUgPSB0cnVlLCBhbG9uZ1hBeGlzID0gdHJ1ZSwgb3ZlcmxhcCA9IDUsIGluY2x1ZGVDdXR0aW5nTGluZUhpbnQgPSB0cnVlLCBhc0Nsb25lID0gdHJ1ZSkge1xuICAgIGNvbnN0IGN1dHRlclBhdGhFeHRlbnNpb24gPSAwLjI7XG4gICAgY29uc3QgY3V0dGVyUGF0aEhpbnRMaW5lRXh0ZW5zaW9uID0gM1xuICAgIC8vQ2xvbmUgb3Igbm90IHRoZSBtb2RlbFxuICAgIGlmIChhc0Nsb25lKSB7XG4gICAgICBtb2RlbFRvU2xpY2UgPSBtYWtlcmpzLm1vZGVsLmNsb25lKG1vZGVsVG9TbGljZSk7XG4gICAgfVxuXG4gICAgbGV0IG1vZGVsU2l6ZSA9IG1ha2VyanMubWVhc3VyZS5tb2RlbEV4dGVudHMobW9kZWxUb1NsaWNlKTtcbiAgICBjb25zb2xlLmxvZygnQ3V0dGluZycpO1xuXG4gICAgLy9DcmVhdGUgdGhlIGN1dHRlciBwaWVjZXNcbiAgICBsZXQgY3V0dGVyUGF0aCwgYm91bmRpbmdCb3g7XG4gICAgbGV0IGJvdW5kaW5nQm94V2lkdGgsIGJvdW5kaW5nQm94T2Zmc2V0WCwgYm91bmRpbmdCb3hIZWlnaHQsIGJvdW5kaW5nQm94T2Zmc2V0WTtcblxuICAgIGlmIChhbG9uZ1hBeGlzKSB7XG4gICAgICBjdXR0ZXJQYXRoID0gbmV3IG1ha2VyanMucGF0aHMuTGluZShcbiAgICAgICAgW21vZGVsU2l6ZS5sb3dbMF0rbGluZUF0KyhrZWVwUG9zaXRpdmVTaWRlPy1vdmVybGFwOm92ZXJsYXApLG1vZGVsU2l6ZS5sb3dbMV0gLSAobW9kZWxTaXplLmhlaWdodCpjdXR0ZXJQYXRoRXh0ZW5zaW9uKV0sXG4gICAgICAgIFttb2RlbFNpemUubG93WzBdK2xpbmVBdCsoa2VlcFBvc2l0aXZlU2lkZT8tb3ZlcmxhcDpvdmVybGFwKSxtb2RlbFNpemUuaGlnaFsxXSArIChtb2RlbFNpemUuaGVpZ2h0KmN1dHRlclBhdGhFeHRlbnNpb24pXVxuICAgICAgKTtcblxuICAgICAgYm91bmRpbmdCb3hXaWR0aCA9IChrZWVwUG9zaXRpdmVTaWRlPyhtb2RlbFNpemUud2lkdGgtbGluZUF0KToobGluZUF0KSkgKyAob3ZlcmxhcCoyKTtcbiAgICAgIGJvdW5kaW5nQm94T2Zmc2V0WCA9IChrZWVwUG9zaXRpdmVTaWRlPyhtb2RlbFNpemUubG93WzBdK2xpbmVBdC1vdmVybGFwKToobW9kZWxTaXplLmxvd1swXS1vdmVybGFwKSk7XG4gICAgICBib3VuZGluZ0JveEhlaWdodCA9IG1vZGVsU2l6ZS5oZWlnaHQgKyAob3ZlcmxhcCoyKTtcbiAgICAgIGJvdW5kaW5nQm94T2Zmc2V0WSA9IG1vZGVsU2l6ZS5sb3dbMV0gLSBvdmVybGFwO1xuICAgIH0gZWxzZSB7XG4gICAgICBjdXR0ZXJQYXRoID0gbmV3IG1ha2VyanMucGF0aHMuTGluZShcbiAgICAgICAgW21vZGVsU2l6ZS5sb3dbMF0gLSAobW9kZWxTaXplLndpZHRoKmN1dHRlclBhdGhFeHRlbnNpb24pLCBtb2RlbFNpemUubG93WzFdK2xpbmVBdCsoa2VlcFBvc2l0aXZlU2lkZT8tb3ZlcmxhcDpvdmVybGFwKV0sXG4gICAgICAgIFttb2RlbFNpemUuaGlnaFswXSArIChtb2RlbFNpemUud2lkdGgqY3V0dGVyUGF0aEV4dGVuc2lvbiksIG1vZGVsU2l6ZS5sb3dbMV0rbGluZUF0KyhrZWVwUG9zaXRpdmVTaWRlPy1vdmVybGFwOm92ZXJsYXApXVxuICAgICAgKTtcblxuICAgICAgYm91bmRpbmdCb3hXaWR0aCA9IG1vZGVsU2l6ZS53aWR0aCArIChvdmVybGFwKjIpO1xuICAgICAgYm91bmRpbmdCb3hPZmZzZXRYID0gbW9kZWxTaXplLmxvd1swXSAtIG92ZXJsYXA7XG4gICAgICBib3VuZGluZ0JveEhlaWdodCA9IChrZWVwUG9zaXRpdmVTaWRlPyhtb2RlbFNpemUuaGVpZ2h0LWxpbmVBdCk6KGxpbmVBdCkpICsgKG92ZXJsYXAqMik7XG4gICAgICBib3VuZGluZ0JveE9mZnNldFkgPSAoa2VlcFBvc2l0aXZlU2lkZT8obW9kZWxTaXplLmxvd1swXStsaW5lQXQtb3ZlcmxhcCk6KG1vZGVsU2l6ZS5sb3dbMF0tb3ZlcmxhcCkpO1xuICAgIH1cbiAgICBib3VuZGluZ0JveCA9IG1ha2VyanMubW9kZWwubW92ZShcbiAgICAgIG5ldyBtYWtlcmpzLm1vZGVscy5SZWN0YW5nbGUoYm91bmRpbmdCb3hXaWR0aCxib3VuZGluZ0JveEhlaWdodCksXG4gICAgICBbYm91bmRpbmdCb3hPZmZzZXRYLGJvdW5kaW5nQm94T2Zmc2V0WV1cbiAgICApO1xuICAgIGNvbnNvbGUubG9nKG1vZGVsU2l6ZSxib3VuZGluZ0JveE9mZnNldFgsYm91bmRpbmdCb3hXaWR0aCxib3VuZGluZ0JveE9mZnNldFksYm91bmRpbmdCb3gsYm91bmRpbmdCb3hIZWlnaHQpO1xuXG4gICAgLy9Kc3V0IGJyZWFrIHRoZSBwYXRocyBhcGFydCB0byBzdGFydCB3aXRoXG4gICAgbWFrZXJqcy5tb2RlbC53YWxrKG1vZGVsVG9TbGljZSx7XG4gICAgICBvblBhdGg6IChjb250ZXh0KSA9PiB7XG4gICAgICAgIGxldCBwYXRoSW50ZXJzZWN0aW9uID0gbWFrZXJqcy5wYXRoLmludGVyc2VjdGlvbihjb250ZXh0LnBhdGhDb250ZXh0LGN1dHRlclBhdGgpO1xuICAgICAgICBpZiAocGF0aEludGVyc2VjdGlvbil7XG4gICAgICAgICAgcGF0aEludGVyc2VjdGlvbi5pbnRlcnNlY3Rpb25Qb2ludHMuZm9yRWFjaChpbnRlcnNlY3Rpb25Qb2ludCA9PiB7XG4gICAgICAgICAgICBsZXQgYWRkUGF0aCA9IG1ha2VyanMucGF0aC5icmVha0F0UG9pbnQoY29udGV4dC5wYXRoQ29udGV4dCxpbnRlcnNlY3Rpb25Qb2ludCk7XG4gICAgICAgICAgICBtYWtlcmpzLm1vZGVsLmFkZFBhdGgoY29udGV4dC5tb2RlbENvbnRleHQsYWRkUGF0aCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICAvLyAvL05vdyB3YWxrIGFnYWluIHRyaW1taW5nIGl0ZW1zIHRoYXQgYXJlbid0IGluIHRoZSBib3VuZGluZyBib3hcbiAgICBtYWtlcmpzLm1vZGVsLndhbGsobW9kZWxUb1NsaWNlLHtcbiAgICAgIG9uUGF0aDogKGNvbnRleHQpID0+IHtcbiAgICAgICAgaWYgKCFtYWtlcmpzLm1vZGVsLmlzUGF0aEluc2lkZU1vZGVsKGNvbnRleHQucGF0aENvbnRleHQsYm91bmRpbmdCb3gsY29udGV4dC5vZmZzZXQpKSB7XG4gICAgICAgICAgZGVsZXRlIGNvbnRleHQubW9kZWxDb250ZXh0LnBhdGhzW2NvbnRleHQucGF0aElkXVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvL0FkZCB0aGUgY3V0IGxpbmUgaGludCBsaW5lIC0gaWdub3Jpbmcgb3ZlcmxhcFxuICAgIGlmIChpbmNsdWRlQ3V0dGluZ0xpbmVIaW50KSB7XG4gICAgICBsZXQgY3V0dGluZ0xpbmVIaW50O1xuICAgICAgaWYgKGFsb25nWEF4aXMpIHtcbiAgICAgICAgY3V0dGluZ0xpbmVIaW50ID0gbmV3IG1ha2VyanMucGF0aHMuTGluZShcbiAgICAgICAgICBbbW9kZWxTaXplLmxvd1swXStsaW5lQXQsbW9kZWxTaXplLmxvd1sxXSAtIChjdXR0ZXJQYXRoSGludExpbmVFeHRlbnNpb24pXSxcbiAgICAgICAgICBbbW9kZWxTaXplLmxvd1swXStsaW5lQXQsbW9kZWxTaXplLmhpZ2hbMV0gKyAoY3V0dGVyUGF0aEhpbnRMaW5lRXh0ZW5zaW9uKV1cbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGN1dHRpbmdMaW5lSGludCA9IG5ldyBtYWtlcmpzLnBhdGhzLkxpbmUoXG4gICAgICAgICAgW21vZGVsU2l6ZS5sb3dbMF0gLSAoY3V0dGVyUGF0aEhpbnRMaW5lRXh0ZW5zaW9uKSwgbW9kZWxTaXplLmxvd1sxXStsaW5lQXRdLFxuICAgICAgICAgIFttb2RlbFNpemUuaGlnaFswXSArIChjdXR0ZXJQYXRoSGludExpbmVFeHRlbnNpb24pLCBtb2RlbFNpemUubG93WzFdK2xpbmVBdF1cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIG1ha2VyanMucGF0aC5sYXllcihjdXR0aW5nTGluZUhpbnQsJ3BhdHRlcm5Kb2luTGluZScpO1xuICAgICAgbWFrZXJqcy5tb2RlbC5hZGRQYXRoKG1vZGVsVG9TbGljZSxjdXR0aW5nTGluZUhpbnQpO1xuICAgIH1cblxuICAgIHJldHVybiBtb2RlbFRvU2xpY2VcbiAgfVxuXG5cbiAgc3BsaXRNb2RlbChtb2RlbFRvU3BsaXQsc3BsaXRBdFBjdCA9IC41LGFsb25nWEF4aXMgPSB0cnVlKSB7XG4gICAgbGV0IG1vZGVsRXh0ZW50cyA9IG1ha2VyanMubWVhc3VyZS5tb2RlbEV4dGVudHMobW9kZWxUb1NwbGl0KTtcbiAgICBsZXQgc3BsaXRBdERpc3QgPSBhbG9uZ1hBeGlzPyhzcGxpdEF0UGN0ICogIG1vZGVsRXh0ZW50cy53aWR0aCk6KHNwbGl0QXRQY3QgKiAgbW9kZWxFeHRlbnRzLmhlaWdodCk7XG4gICAgLy8gY29uc29sZS5sb2coJ3NwbGl0dGluZyBhdCcsc3BsaXRBdERpc3QpO1xuICAgIGxldCBwb3NpdGl2ZVNpZGUgPSB0aGlzLnRyaW1Nb2RlbFRvTGluZShtb2RlbFRvU3BsaXQsc3BsaXRBdERpc3QsdHJ1ZSxhbG9uZ1hBeGlzKTtcbiAgICBsZXQgbmVnYXRpdmVTaWRlID0gdGhpcy50cmltTW9kZWxUb0xpbmUobW9kZWxUb1NwbGl0LHNwbGl0QXREaXN0LGZhbHNlLGFsb25nWEF4aXMpO1xuICAgIHJldHVybiB7XG4gICAgICBtb2RlbHM6IHtcbiAgICAgICAgYTogcG9zaXRpdmVTaWRlLFxuICAgICAgICBiOiBuZWdhdGl2ZVNpZGVcbiAgICAgIH1cbiAgICB9XG4gIH1cblxufVxuIiwiaW1wb3J0IEhlYXBQYWNrZXIgZnJvbSAnLi9oZWFwcGFja2VyLmpzJztcbmltcG9ydCBtYWtlcmpzIGZyb20gJ21ha2VyanMnO1xuaW1wb3J0IHsgTW9kZWxTcGxpdHRlciB9IGZyb20gJy4vbW9kZWxzcGxpdHRlci5qcyc7XG5cbmV4cG9ydCBjbGFzcyBNb2RlbFBhY2tlciB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcblxuICAgIGxldCBwYWNraW5nT3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgcGFnZVNpemU6IHt4OiAxMDAwLCB5OiAxMDAwfSxcbiAgICAgIHBhZ2VTaXplR3Jvd0xpbWl0OiB7eDogLTEsIHk6IC0xfSxcbiAgICAgIGNhbkFkZFBhZ2VzOiB0cnVlLFxuICAgICAgY2FuR3Jvd1BhZ2VTaXplOiBmYWxzZSxcbiAgICAgIGFsbG93Um90YXRpb246IHRydWUsXG4gICAgICBhbGxvd1NwbGl0dGluZzogdHJ1ZSxcbiAgICAgIG1heFNwbGl0SXRlcmF0aW9uczogMSxcbiAgICB9LG9wdGlvbnMpO1xuXG4gICAgdGhpcy5wYWdlU2l6ZSA9IHBhY2tpbmdPcHRpb25zLnBhZ2VTaXplO1xuICAgIHRoaXMucGFnZVNpemVHcm93TGltaXQgPSBwYWNraW5nT3B0aW9ucy5wYWdlU2l6ZUdyb3dMaW1pdDtcbiAgICB0aGlzLmNhbkFkZFBhZ2VzID0gcGFja2luZ09wdGlvbnMuY2FuQWRkUGFnZXM7XG4gICAgdGhpcy5jYW5Hcm93UGFnZVNpemUgPSBwYWNraW5nT3B0aW9ucy5jYW5Hcm93UGFnZVNpemU7XG4gICAgdGhpcy5hbGxvd1JvdGF0aW9uID0gcGFja2luZ09wdGlvbnMuYWxsb3dSb3RhdGlvbjtcbiAgICB0aGlzLmFsbG93U3BsaXR0aW5nID0gcGFja2luZ09wdGlvbnMuYWxsb3dTcGxpdHRpbmc7XG4gIH1cblxuICBjcmVhdGVNb2RlbEJsb2NrKG1vZGVsLGJsb2NraWQpIHtcbiAgICBsZXQgbW9kZWxFeHRlbnRzID0gbWFrZXJqcy5tZWFzdXJlLm1vZGVsRXh0ZW50cyhtb2RlbCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiBibG9ja2lkLFxuICAgICAgbW9kZWw6IG1vZGVsLFxuICAgICAgdzogbW9kZWxFeHRlbnRzLndpZHRoLFxuICAgICAgaDogbW9kZWxFeHRlbnRzLmhlaWdodCxcbiAgICAgIHJvdGF0ZWQ6IGZhbHNlLFxuICAgICAgc3BsaXRDb3VudDogMCxcbiAgICB9XG4gIH1cblxuXG4gIHBhY2tNb2RlbHMobW9kZWxzKSB7XG4gICAgLy9Bc3NpZ24gdGhlIG1vZGVscyB0cmFja2FibGUgSURzXG4gICAgLy9DYWxjdWxhdGUgdGhlIHcvaCB2YWx1ZXMgZm9yIHRoZSBibG9jayAod2hpY2ggaXMgdGhlIG91dGVyIHdpZHRoL2hlaWdodCBvZiB0aGUgYmxvY2spXG5cbiAgICAvL1ZhbGlkYXRlIHRoZSBtb2RlbCBibG9ja3NcbiAgICBsZXQgZmFpbGluZ01vZGVscyA9IFtdO1xuXG4gICAgbGV0IGJsb2Nrc1RvUGFjayA9IG1vZGVscy5yZWR1Y2UoKGFjY3VtdWxhdG9yLG1vZGVsLGluZGV4KSA9PiB7XG4gICAgICBsZXQgbW9kZWxCbG9jayA9IHRoaXMuY3JlYXRlTW9kZWxCbG9jayhtb2RlbCxpbmRleCk7XG4gICAgICBpZiAoKCFtb2RlbEJsb2NrLncpIHx8ICghbW9kZWxCbG9jay5oKSkge1xuICAgICAgICBmYWlsaW5nTW9kZWxzLnB1c2gobW9kZWxCbG9jayk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhY2N1bXVsYXRvci5wdXNoKG1vZGVsQmxvY2spO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFjY3VtdWxhdG9yXG4gICAgfSxbXSk7XG5cblxuXG5cblxuICAgIC8vTm93IHRyeSBhc3NpZ25pbmcgdGhlIG1vZGVscyB0byBoZWFwc1xuICAgIGxldCBoZWFwUGFja2VyID0gbmV3IEhlYXBQYWNrZXIoe1xuICAgICAgZGVmYXVsdFBhY2tBcmVhSGVpZ2h0OiB0aGlzLnBhZ2VTaXplLnksXG4gICAgICBkZWZhdWx0UGFja0FyZWFXaWR0aDogdGhpcy5wYWdlU2l6ZS54LFxuICAgICAgZ3Jvd0xpbWl0SGVpZ2h0OiB0aGlzLnBhZ2VTaXplR3Jvd0xpbWl0LnksXG4gICAgICBncm93TGltaXRXaWR0aDogdGhpcy5wYWdlU2l6ZUdyb3dMaW1pdC54LFxuICAgICAgY2FuR3Jvd1BhY2tBcmVhOiB0aGlzLmNhbkdyb3dQYWdlU2l6ZSxcbiAgICAgIGNhbkFkZFBhY2tBcmVhczogdGhpcy5jYW5BZGRQYWdlcyxcbiAgICB9KTtcblxuICAgIGNvbnNvbGUubG9nKCdIRUFQIFBBQ0tFUicsaGVhcFBhY2tlcilcbiAgICAvL2hhbmR5IGZ1bmN0aW9uIGZvciByb3RhdGluZyBibG9ja3NcbiAgICBmdW5jdGlvbiByb3RhdGVCbG9jayhibG9jaykge1xuICAgICAgbGV0IHRlbXBXID0gYmxvY2sudztcbiAgICAgIGJsb2NrLncgPSBibG9jay5oO1xuICAgICAgYmxvY2suaCA9IHRlbXBXO1xuICAgICAgYmxvY2sucm90YXRlZCA9ICFibG9jay5yb3RhdGVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZJUlNUIFBBU1M6IEp1c3QgdHJ5IHRvIGZpdCB0aGUgbW9kZWxzIGFzIGlzXG4gICAgICovXG4gICAgbGV0IHVucGFja2VkQmxvY2tzID0gW107XG4gICAgbGV0IHBhY2tlZEJsb2NrcyA9IFtdO1xuICAgIGJsb2Nrc1RvUGFjay5mb3JFYWNoKChibG9jaykgPT4ge1xuICAgICAgbGV0IGJsb2NrSGFzUGFja2VkID0gaGVhcFBhY2tlci5wYWNrQmxvY2soYmxvY2spO1xuICAgICAgaWYgKGJsb2NrSGFzUGFja2VkKSB7XG4gICAgICAgIHBhY2tlZEJsb2Nrcy5wdXNoKGJsb2NrKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHVucGFja2VkQmxvY2tzLnB1c2goYmxvY2spO1xuICAgICAgfVxuICAgIH0pO1xuICAgIC8vUmVzZXQgdGhlIHJlamVjdHMgaW50byB0aGUgYmxvY2tzIHRvIHBhY2sgYmFnIGZvciB0aGUgbmV4dCBydW5cbiAgICBibG9ja3NUb1BhY2sgPSB1bnBhY2tlZEJsb2NrcztcblxuICAgIGlmICh0aGlzLmFsbG93Um90YXRpb24pIHtcbiAgICAgIC8qKlxuICAgICAgICogUk9UQVRFIFBBU1M6IFRyeSB0byBmaXQgd2hvbGUgbW9kZWxzIHdpdGggcm90YXRpb25cbiAgICAgICAqL1xuICAgICAgLy9Ob3cgcm90YXRlIGFueSBvZiB0aGUgcmVqZWN0cyBhbmQgdHJ5IHBhY2tpbmcgdGhlbSBhZ2FpblxuXG4gICAgICBibG9ja3NUb1BhY2suZm9yRWFjaCgoYmxvY2spID0+IHtcbiAgICAgICAgcm90YXRlQmxvY2soYmxvY2spO1xuICAgICAgfSk7XG5cbiAgICAgIHVucGFja2VkQmxvY2tzID0gW107XG4gICAgICBibG9ja3NUb1BhY2suZm9yRWFjaCgoYmxvY2spID0+IHtcbiAgICAgICAgbGV0IGJsb2NrSGFzUGFja2VkID0gaGVhcFBhY2tlci5wYWNrQmxvY2soYmxvY2spO1xuICAgICAgICBpZiAoYmxvY2tIYXNQYWNrZWQpIHtcbiAgICAgICAgICBwYWNrZWRCbG9ja3MucHVzaChibG9jayk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdW5wYWNrZWRCbG9ja3MucHVzaChibG9jayk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgLy9Ob3cgdW5yb3RhdGUgdGhlIHJlamVjdHMgZm9yIHRoZSBuZXh0IHN0ZXBcbiAgICAgIGJsb2Nrc1RvUGFjayA9IHVucGFja2VkQmxvY2tzO1xuICAgICAgYmxvY2tzVG9QYWNrLmZvckVhY2goKGJsb2NrKSA9PiB7XG4gICAgICAgIGJsb2NrID0gcm90YXRlQmxvY2soYmxvY2spO1xuICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICBpZiAodGhpcy5hbGxvd1NwbGl0dGluZykge1xuICAgICAgLyoqXG4gICAgICAgKiBTUExJVCAtIHRoZW4gVHJ5IGFnYWluXG4gICAgICAgKi9cbiAgICAgIC8vTm93IHNwbGl0IGFueSBpdGVtcyB0aGF0IGNhbiBiZSBzcGxpdCBhbmQgdHJ5IHBhY2tpbmcgdGhlc2VcbiAgICAgIGxldCBza2lwU3BsaXR0aW5nQmxvY2tzID0gW107XG4gICAgICBsZXQgbW9kZWxTcGxpdHRlciA9IG5ldyBNb2RlbFNwbGl0dGVyKCk7XG4gICAgICAvL1RyYWNrIGEgdW5pcXVlIGluZGV4IGZvciB0aGUgbmV3IGJsb2NrcyB3ZSBhZGQvc3BsaXQgb2ZmXG4gICAgICBsZXQgY3VycmVudEJsb2NrSW5kZXggPSBibG9ja3NUb1BhY2sucmVkdWNlKChhY2N1bXVsYXRvcixibG9jaykgPT4ge1xuICAgICAgICByZXR1cm4gTWF0aC5tYXgoYWNjdW11bGF0b3IsYmxvY2suaWQpO1xuICAgICAgfSwwKSArIDE7XG5cbiAgICAgIGJsb2Nrc1RvUGFjayA9IGJsb2Nrc1RvUGFjay5yZWR1Y2UoKGFjY3VtdWxhdG9yLGJsb2NrKSA9PiB7XG4gICAgICAgIGxldCBibG9ja0NhblNwbGl0ID0gdHJ1ZTsgLy9EZWZhdWx0IHRvIHllc1xuICAgICAgICBpZiAoKGJsb2NrLm1vZGVsLnNwbGl0KSAmJiAoYmxvY2subW9kZWwuc3BsaXQuaWZOZWVkZWQgPT0gZmFsc2UpKSB7YmxvY2tDYW5TcGxpdCA9IGZhbHNlfTtcblxuICAgICAgICBpZiAoYmxvY2tDYW5TcGxpdCkge1xuICAgICAgICAgIGxldCBzcGxpdEF0UGN0ID0gLjU7XG4gICAgICAgICAgaWYgKChibG9jay5tb2RlbC5zcGxpdCkgJiYgKGJsb2NrLm1vZGVsLnNwbGl0LnNwbGl0QXRQY3QpKSB7c3BsaXRBdFBjdCA9IGJsb2NrLm1vZGVsLnNwbGl0LnNwbGl0QXRQY3R9O1xuICAgICAgICAgIC8vVE9ETzogRml4IGxhYmVsbGluZyBoZXJlIC0gYWxvbmdYYXhpcyBhY3R1YWxseSBtZWFucyBwdXQgdGhlIGN1dHRlciBvbiB0aGUgWSBheGlzIGZvciBzb21lIHJlYXNvbiB0byB0aGUgc3BsaXR0ZXJcbiAgICAgICAgICBsZXQgYWxvbmdYQXhpcyA9IGZhbHNlO1xuICAgICAgICAgIGlmICgoYmxvY2subW9kZWwuc3BsaXQpICYmIChibG9jay5tb2RlbC5zcGxpdC5heGlzID09ICd5JykpIHthbG9uZ1hBeGlzID0gdHJ1ZX07XG5cbiAgICAgICAgICBsZXQgc3BsaXRNb2RlbHMgPSBtb2RlbFNwbGl0dGVyLnNwbGl0TW9kZWwoYmxvY2subW9kZWwsc3BsaXRBdFBjdCxhbG9uZ1hBeGlzKTtcbiAgICAgICAgICAvL25vdyByZS13cmFwIHRoZSBtb2RlbHNcbiAgICAgICAgICBpZiAoc3BsaXRNb2RlbHMpIHtcbiAgICAgICAgICAgIC8vZmluZCB0aGVcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdTcGxpdCBtb2RlbHMnLHNwbGl0TW9kZWxzKTtcbiAgICAgICAgICAgIGFjY3VtdWxhdG9yLnB1c2godGhpcy5jcmVhdGVNb2RlbEJsb2NrKHNwbGl0TW9kZWxzLm1vZGVscy5hLGN1cnJlbnRCbG9ja0luZGV4KyspKTtcbiAgICAgICAgICAgIGFjY3VtdWxhdG9yLnB1c2godGhpcy5jcmVhdGVNb2RlbEJsb2NrKHNwbGl0TW9kZWxzLm1vZGVscy5iLGN1cnJlbnRCbG9ja0luZGV4KyspKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy9zb21ldGhpbmcgd2VudCB3cm9uZyBhbmQgd2UgY291bGRuJ3Qgc3BsaXQgdGhlIG1vZGVsXG4gICAgICAgICAgICBza2lwU3BsaXR0aW5nQmxvY2tzLnB1c2goYmxvY2spO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBza2lwU3BsaXR0aW5nQmxvY2tzLnB1c2goYmxvY2spO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgICAgIH0sW10pXG4gICAgICAvL05vdyB0cnkgYWN0dWFsbHkgcGFja2luZyB0aGUgc3BsaXQgaXRlbXNcbiAgICAgIHVucGFja2VkQmxvY2tzID0gW107XG4gICAgICBibG9ja3NUb1BhY2suZm9yRWFjaCgoYmxvY2spID0+IHtcbiAgICAgICAgbGV0IGJsb2NrSGFzUGFja2VkID0gaGVhcFBhY2tlci5wYWNrQmxvY2soYmxvY2spO1xuICAgICAgICBpZiAoYmxvY2tIYXNQYWNrZWQpIHtcbiAgICAgICAgICBwYWNrZWRCbG9ja3MucHVzaChibG9jayk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdW5wYWNrZWRCbG9ja3MucHVzaChibG9jayk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBpZiAodGhpcy5hbGxvd1JvdGF0aW9uKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGSU5BTCBQQVNTOiBST1RBVEUgU1BMSVQgTU9ERUxTIGFuZCB0cnkgYWdhaW5cbiAgICAgICAgICovXG4gICAgICAgIGJsb2Nrc1RvUGFjayA9IHVucGFja2VkQmxvY2tzO1xuICAgICAgICBibG9ja3NUb1BhY2suZm9yRWFjaCgoYmxvY2spID0+IHtcbiAgICAgICAgIHJvdGF0ZUJsb2NrKGJsb2NrKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdW5wYWNrZWRCbG9ja3MgPSBbXTtcbiAgICAgICAgYmxvY2tzVG9QYWNrLmZvckVhY2goKGJsb2NrKSA9PiB7XG4gICAgICAgICBsZXQgYmxvY2tIYXNQYWNrZWQgPSBoZWFwUGFja2VyLnBhY2tCbG9jayhibG9jayk7XG4gICAgICAgICBpZiAoYmxvY2tIYXNQYWNrZWQpIHtcbiAgICAgICAgICAgcGFja2VkQmxvY2tzLnB1c2goYmxvY2spO1xuICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgdW5wYWNrZWRCbG9ja3MucHVzaChibG9jayk7XG4gICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG5cbiAgICAgIC8qKlxuICAgICAgICogRklOQUwgQUNUSU9OOiBNZXJnZSB0aGUgdW5wYWNrZWQgaXRlbXMgYW5kIHRoZSBza2lwcGVkIHNwbGl0dGluZyBpdGVtcyB0b2dldGhlciBhcyB0aGUgZmluYWwgZmFpbGVkIGl0ZW1zXG4gICAgICAgKi9cbiAgICAgIC8vTWVyZ2UgdGhlIHJlbWFpbmluZyB1bnBhY2tlZCBhbmQgdW5zcGxpdCBtb2RlbHMgdG9nZXRoZXJcbiAgICAgIHVucGFja2VkQmxvY2tzID0gdW5wYWNrZWRCbG9ja3MuY29uY2F0KHNraXBTcGxpdHRpbmdCbG9ja3MpO1xuICAgICAgLy9Ob3cgdHJ5IHJvdGF0aW5nIHRoZXNlXG4gICAgfVxuXG4gICAgdW5wYWNrZWRCbG9ja3MgPSB1bnBhY2tlZEJsb2Nrcy5jb25jYXQoZmFpbGluZ01vZGVscyk7XG5cbiAgICAvL0dpdmUgdXBcbiAgICAvL0NhbGwgdGhpcyB0byBwcmV2ZW50IGVtcHR5IHBhZ2VzIGJlaW5nIHNlbnQgdG8gdGhlIFBERiByZW5kZXJlZCAoaXQgbW9hbnMpXG4gICAgaGVhcFBhY2tlci50cmltRW1wdHlQYWNrQXJlYXMoKTtcblxuICAgIGxldCBwYWNrZWRQYWdlcyA9IGhlYXBQYWNrZXIucGFja2VkQXJlYXMoKTtcblxuICAgIC8vQ29udmVydCB0aGUgaGVhcFBhY2tlcidzIHBhZ2VzICYgYmxvY2tzIGJhY2sgaW50byBhcnJheXMgb2YgbW9kZWxzIHdpdGggYXBwcm9wcmlhdGUgb2Zmc2V0c1xuICAgIGxldCBwYWdlTW9kZWxzID0gcGFja2VkUGFnZXMubWFwKChwYWNrZWRQYWdlKSA9PiB7XG4gICAgICAvL1NldCB0aGUgcGFnZSBhcyBhbiBlbXB0eSBwYXJlbnQgbW9kZWxcbiAgICAgIGxldCBwYWdlTW9kZWwgPSB7bW9kZWxzOiB7fSwgcGFnZXM6IHt9LCBvcmlnaW46IFswLDBdfTtcbiAgICAgIHBhY2tlZFBhZ2UuYmxvY2tzLmZvckVhY2goKHBhZ2VCbG9ja01vZGVsKSA9PiB7XG5cbiAgICAgICAgLy8gbWFrZXJqcy5tb2RlbC5tb3ZlKFxuICAgICAgICAvLyAgIHBhZ2VCbG9ja01vZGVsLm1vZGVsLFxuICAgICAgICAvLyAgIFstb2Zmc2V0WzBdLC1vZmZzZXRbMV1dXG4gICAgICAgIC8vIClcblxuICAgICAgICBpZiAocGFnZUJsb2NrTW9kZWwucm90YXRlZCkge1xuICAgICAgICAgIG1ha2VyanMubW9kZWwucm90YXRlKHBhZ2VCbG9ja01vZGVsLm1vZGVsLDkwKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbW9kZWxFeHRlbnRzID0gbWFrZXJqcy5tZWFzdXJlLm1vZGVsRXh0ZW50cyhwYWdlQmxvY2tNb2RlbC5tb2RlbCk7XG4gICAgICAgIGxldCBvZmZzZXQgPSBtb2RlbEV4dGVudHMubG93O1xuXG4gICAgICAgIG1ha2VyanMubW9kZWwuYWRkTW9kZWwoXG4gICAgICAgICAgcGFnZU1vZGVsLFxuICAgICAgICAgIG1ha2VyanMubW9kZWwubW92ZShcbiAgICAgICAgICAgIHBhZ2VCbG9ja01vZGVsLm1vZGVsLFxuICAgICAgICAgICAgbWFrZXJqcy5wb2ludC5zdWJ0cmFjdChbcGFnZUJsb2NrTW9kZWwueCxwYWdlQmxvY2tNb2RlbC55XSxvZmZzZXQpXG4gICAgICAgICAgKVxuICAgICAgICApO1xuXG4gICAgICAgIC8vQ2FwdGlvbnMgbmVlZCBzcGVjaWFsIGF0dGVudGlvblxuICAgICAgICBpZiAocGFnZUJsb2NrTW9kZWwubW9kZWwuY2FwdGlvbikge1xuICAgICAgICAgIG1ha2VyanMucGF0aC5tb3ZlKFxuICAgICAgICAgICAgcGFnZUJsb2NrTW9kZWwubW9kZWwuY2FwdGlvbi5hbmNob3IsXG4gICAgICAgICAgICBbcGFnZUJsb2NrTW9kZWwueCxwYWdlQmxvY2tNb2RlbC55XVxuICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBwYWdlTW9kZWw7XG4gICAgfSk7XG5cblxuICAgIHJldHVybiB7XG4gICAgICBwYWNrZWRQYWdlczogcGFnZU1vZGVscyxcbiAgICAgIHVucGFja2VkTW9kZWxzOiB1bnBhY2tlZEJsb2Nrcy5tYXAoKGJsb2NrKSA9PiAoYmxvY2subW9kZWwpKVxuICAgIH1cbiAgfVxuXG5cbn1cbiIsImltcG9ydCB7IHJ1bkRyYXdDb2RlIH0gZnJvbSAnLi9jb2RlcnVubmVyL2NvZGVydW5uZXIuanMnO1xuaW1wb3J0IG1ha2VyanMgZnJvbSAnbWFrZXJqcyc7XG5pbXBvcnQgeyBNb2RlbFBhY2tlciB9IGZyb20gJy4vbW9kZWxwYWNrZXIuanMnO1xuaW1wb3J0IFBERkRvY3VtZW50IGZyb20gJ3BkZmtpdFN0YW5kYWxvbmUnO1xuaW1wb3J0IGJsb2JTdHJlYW0gZnJvbSAnYmxvYi1zdHJlYW0nO1xuXG5mdW5jdGlvbiBtbVRvUERGUFBJKG1tRGlzdGFuY2UpIHtcbiAgLy9waXhlbCA9IGRwaSAqIG1tIC8gMjUuNCBtbSAoMSBpbilcbiAgY29uc3QgUERGUFBJID0gNzI7XG4gIHJldHVybiBQREZQUEkgKiBtbURpc3RhbmNlIC8gMjUuNDtcbn1cblxuXG5mdW5jdGlvbiBibG9iVG9CYXNlNjQoYmxvYikge1xuICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICByZWFkZXIucmVhZEFzRGF0YVVSTChibG9iKTtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgIHJlYWRlci5vbmxvYWRlbmQgPSAoKSA9PiB7XG4gICAgICByZXNvbHZlKHJlYWRlci5yZXN1bHQpO1xuICAgIH07XG4gIH0pO1xufTtcblxuXG5leHBvcnQgY2xhc3MgUmVuZGVyRW5naW5lIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5yZW5kZXJJblByb2dyZXNzID0gZmFsc2U7XG5cbiAgfVxuXG4gIGdldFJlbmRlckluUHJvZ3Jlc3MoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVuZGVySW5Qcm9ncmVzcztcbiAgfVxuXG4gIHNjYWxlTW9kZWxUb1BERlBQSShtb2RlbCkge1xuICAgIC8vU1RvbGVuIGZyb206IGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvbWFrZXIuanMvYmxvYi9iMThmOGE4ZC9wYWNrYWdlcy9tYWtlci5qcy9zcmMvY29yZS9wZGYudHMjTDExXG4gICAgLy90cnkgdG8gZ2V0IHRoZSB1bml0IHN5c3RlbSBmcm9tIHRoZSBpdGVtVG9FeHBvcnRcbiAgICB2YXIgc2NhbGUgPSAxO1xuICAgIHZhciBleHBvcnRVbml0cyA9ICdtbSc7XG4gICAgaWYgKGV4cG9ydFVuaXRzKSB7XG4gICAgICAgIC8vY29udmVydCB0byBpbmNoXG4gICAgICAgIHNjYWxlID0gbWFrZXJqcy51bml0cy5jb252ZXJzaW9uU2NhbGUoZXhwb3J0VW5pdHMsIG1ha2VyanMudW5pdFR5cGUuSW5jaCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy9hc3N1bWUgcGl4ZWxzLCBjb252ZXJ0IHRvIGluY2hcbiAgICAgICAgc2NhbGUgPSAxIC8gMTAwO1xuICAgIH1cblxuICAgIC8vZnJvbSBpbmNoIHRvIFBERiBQUElcbiAgICBzY2FsZSAqPSA3MjtcblxuICAgIC8vVE9ETyBzY2FsZSBlYWNoIGVsZW1lbnQgd2l0aG91dCBhIHdob2xlIGNsb25lXG4gICAgdmFyIHNjYWxlZE1vZGVsID0gbWFrZXJqcy5tb2RlbC5zY2FsZShtYWtlcmpzLm1vZGVsLmNsb25lKG1vZGVsKSwgc2NhbGUpO1xuICAgIHJldHVybiBzY2FsZWRNb2RlbDtcbiAgfVxuXG4gIHJlbmRlck1vZGVsVG9TVkcobW9kZWwscmVuZGVyT3B0cyl7XG4gICAgbGV0IHJlbmRlck9wdGlvbnMgPSB7XG4gICAgICBzdHlsZVNldDoge1xuICAgICAgICAgIHN0aXRjaDoge1xuICAgICAgICAgICAgc3Ryb2tlOiAncmVkJyxcbiAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAnMScsXG4gICAgICAgICAgICBjc3NTdHlsZTogJ3N0cm9rZS1kYXNoYXJyYXk6IDUsIDUnXG4gICAgICAgICAgfSxcbiAgICAgICAgICBjZW50ZXI6IHtcbiAgICAgICAgICAgIHN0cm9rZTogJ2dyZWVuJyxcbiAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAnMScsXG4gICAgICAgICAgICBjc3NTdHlsZTogJ3N0cm9rZS1kYXNoYXJyYXk6IDUsIDUsIDEyLCA1J1xuICAgICAgICAgIH0sXG4gICAgICAgICAgaGludDoge1xuICAgICAgICAgICAgc3Ryb2tlOiAnYmx1ZScsXG4gICAgICAgICAgICBzdHJva2VXaWR0aDogJzEnLFxuICAgICAgICAgICAgY3NzU3R5bGU6ICdzdHJva2UtZGFzaGFycmF5OiAyLCA4J1xuICAgICAgICAgIH0sXG4gICAgICAgIH1cbiAgICB9XG4gICAgT2JqZWN0LmFzc2lnbihyZW5kZXJPcHRpb25zLHJlbmRlck9wdHMpO1xuXG5cbiAgICBtb2RlbC51bml0cyA9IG1ha2VyanMudW5pdFR5cGUuTWlsbGltZXRlcjtcbiAgICByZXR1cm4gbWFrZXJqcy5leHBvcnRlci50b1NWRyhtb2RlbCwge1xuICAgICAgdXNlU3ZnUGF0aE9ubHk6IGZhbHNlLFxuICAgICAgdW5pdHM6ICdtbScsXG4gICAgICBsYXllck9wdGlvbnM6IHJlbmRlck9wdGlvbnMuc3R5bGVTZXRcbiAgICB9KTtcbiAgfVxuXG4gIHJlbmRlclBhZ2VNb2RlbHNUb1NWRyhwYWdlTW9kZWxzLHJlbmRlck9wdGlvbnMpIHtcbiAgICBsZXQgc3ZnUGFnZXMgPSBwYWdlTW9kZWxzLm1hcCgocGFja2VkUGFnZSkgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMucmVuZGVyTW9kZWxUb1NWRyhwYWNrZWRQYWdlLHJlbmRlck9wdGlvbnMpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShzdmdQYWdlcyk7XG4gIH1cblxuICBtb2RlbFRvUERGKGRvYyxtb2RlbCxwYWdlTWFyZ2lucyxsYXllclN0eWxlcykge1xuICAgIC8vRW5zdXJlIHRoZXJlIGlzIGEgc3R5bGVzZXQgYW5kIGl0IGhhcyBhIGJhc2Ugc3R5bGVzZXQgYXMgbWluaW11bSAtIGFzIHRoaXMgd2lsbCBiZSB0aGUgZGVmYXVsdFxuICAgIGlmICghbGF5ZXJTdHlsZXMpIHtcbiAgICAgIGxheWVyU3R5bGVzID0ge307XG4gICAgfVxuICAgIGlmICghbGF5ZXJTdHlsZXMuYmFzZSkge1xuICAgICAgbGF5ZXJTdHlsZXMuYmFzZSA9IHtcbiAgICAgICAgc3Ryb2tlV2lkdGg6IDEsXG4gICAgICAgIHN0cm9rZUNvbG9yOiAnIzAwMCdcbiAgICAgIH1cbiAgICB9XG4gICAgLy9Ob3QgdXNpbmcgUERGTWFrZSBhcyBpdCBkb2Vzbid0IGxldCB1cyBjb250cm9sIHBhZ2VzXG4gICAgbGV0IHNjYWxlZE1vZGVsID0gdGhpcy5zY2FsZU1vZGVsVG9QREZQUEkobW9kZWwpO1xuICAgIC8vQXBwbHkgTWFyZ2luc1xuICAgIC8vIG1ha2VyanMubW9kZWwubW92ZShzY2FsZWRNb2RlbCxbMTAwLDEwMF0pO1xuICAgIGxldCBtb2RlbEV4dGVudHMgPSBtYWtlcmpzLm1lYXN1cmUubW9kZWxFeHRlbnRzKHNjYWxlZE1vZGVsKTtcblxuICAgIGxldCBzdmdQYXRocyA9IG1ha2VyanMuZXhwb3J0ZXIudG9TVkdQYXRoRGF0YShzY2FsZWRNb2RlbCx7XG4gICAgICBvcmlnaW46IFttbVRvUERGUFBJKHBhZ2VNYXJnaW5zLmxlZnQpLG1vZGVsRXh0ZW50cy5oaWdoWzFdK21tVG9QREZQUEkocGFnZU1hcmdpbnMudG9wKV0sXG4gICAgICBieUxheWVyczogdHJ1ZVxuICAgIH0pO1xuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHN2Z1BhdGhzKSkge1xuICAgICAgLy8gY29tcG9uZW50cyA9IGNvbXBvbmVudHMuY29uY2F0KGZpbmRDb21wb25lbnRzSW5Nb2RlbFRyZWVzKHZhbHVlKSk7XG5cbiAgICAgIC8vU2F2ZSB0aGUgYmFzZSBzdHlsZSBzbyB3ZSBjYW4gcmVzdG9yZSB0byBpdCBsYXRlclxuICAgICAgZG9jLnNhdmUoKTtcbiAgICAgIGRvYy5wYXRoKHZhbHVlKTtcbiAgICAgIC8vQXBwbHkgdGhlIHN0eWxlIGlmIHRoZSBsYXllciBoYXMgb25lIGluIHN0eWxlc2V0XG4gICAgICBsZXQgc3R5bGUgPSBsYXllclN0eWxlc1soKCFrZXkpIHx8IChrZXk9PScnKSk/J2Jhc2UnOmtleV07XG4gICAgICBpZiAoIXN0eWxlKSB7c3R5bGUgPSBsYXllclN0eWxlcy5iYXNlfVxuXG4gICAgICBpZiAoc3R5bGUpIHtcbiAgICAgICAgaWYgKHN0eWxlLnN0cm9rZVdpZHRoKSB7ZG9jLmxpbmVXaWR0aChzdHlsZS5zdHJva2VXaWR0aCk7fVxuICAgICAgICBpZiAoc3R5bGUuZGFzaGVkKSB7ZG9jLmRhc2goc3R5bGUuZGFzaGVkWzBdLHN0eWxlLmRhc2hlZFsxXSk7fSBlbHNlIHtkb2MudW5kYXNoKCl9XG4gICAgICAgIGlmIChzdHlsZS5zdHJva2VDb2xvcikge2RvYy5zdHJva2Uoc3R5bGUuc3Ryb2tlQ29sb3IpO31cbiAgICAgIH1cblxuXG4gICAgICAvL1Jlc3RvcmUgaWYgYW55IGNoYW5nZXMgdG8gdGhlIHN0eWxlc1xuICAgICAgZG9jLnJlc3RvcmUoKTtcbiAgICB9XG5cbiAgICBtYWtlcmpzLm1vZGVsLmdldEFsbENhcHRpb25zT2Zmc2V0KHNjYWxlZE1vZGVsKS5mb3JFYWNoKChtb2RlbENhcHRpb24pID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCdQcm9jZXNzaW5nJyxtb2RlbENhcHRpb24pO1xuICAgICAgZG9jLnRleHQoXG4gICAgICAgIG1vZGVsQ2FwdGlvbi50ZXh0LFxuICAgICAgICBtb2RlbEV4dGVudHMubG93WzBdICsgbW1Ub1BERlBQSShwYWdlTWFyZ2lucy5sZWZ0KSArIG1vZGVsQ2FwdGlvbi5hbmNob3Iub3JpZ2luWzBdLFxuICAgICAgICAobW9kZWxFeHRlbnRzLmhpZ2hbMV0gKyBtbVRvUERGUFBJKHBhZ2VNYXJnaW5zLnRvcCkpIC0gbW9kZWxDYXB0aW9uLmFuY2hvci5vcmlnaW5bMV0gLSAoKG1vZGVsQ2FwdGlvbi5hbmNob3IuZW5kWzFdIC0gbW9kZWxDYXB0aW9uLmFuY2hvci5vcmlnaW5bMV0pLzIpLFxuICAgICAgICB7XG4gICAgICAgICAgYmFzZWxpbmU6ICd0b3AnXG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgICBjb25zb2xlLmxvZygnUHJvY2Vzc2luZycsbW9kZWxDYXB0aW9uLG1vZGVsRXh0ZW50cywgbW1Ub1BERlBQSShwYWdlTWFyZ2lucy50b3ApLG1vZGVsRXh0ZW50cy5sb3dbMF0gKyBtbVRvUERGUFBJKHBhZ2VNYXJnaW5zLmxlZnQpICsgbW9kZWxDYXB0aW9uLmFuY2hvci5vcmlnaW5bMF0sKG1vZGVsRXh0ZW50cy5oaWdoWzFdICsgbW1Ub1BERlBQSShwYWdlTWFyZ2lucy50b3ApKSAtIG1vZGVsQ2FwdGlvbi5hbmNob3Iub3JpZ2luWzFdKTtcbiAgICB9KTtcblxuXG4gIH1cblxuICByZW5kZXJQYWdlTW9kZWxzVG9QREYocGFnZU1vZGVscyxyZW5kZXJPcHRzKSB7XG4gICAgbGV0IHJlbmRlck9wdGlvbnMgPSB7XG4gICAgICBzdHlsZVNldDoge1xuICAgICAgICBiYXNlOiB7XG4gICAgICAgICAgc3Ryb2tlV2lkdGg6ICcxJyxcbiAgICAgICAgICBzdHJva2VDb2xvcjogJyMwMDAnXG4gICAgICAgIH0sXG4gICAgICAgIGNlbnRlcjoge1xuICAgICAgICAgIHN0cm9rZVdpZHRoOiAnMScsXG4gICAgICAgICAgZGFzaGVkOiBbMTAsMjBdLFxuICAgICAgICAgIHN0cm9rZUNvbG9yOiAnIzBGMCdcbiAgICAgICAgfSxcbiAgICAgICAgaGludDoge1xuICAgICAgICAgIHN0cm9rZVdpZHRoOiAnMScsXG4gICAgICAgICAgZGFzaGVkOiBbNSw1XSxcbiAgICAgICAgICBzdHJva2VDb2xvcjogJyMwMEYnXG4gICAgICAgIH0sXG4gICAgICAgIHN0aXRjaDoge1xuICAgICAgICAgIHN0cm9rZVdpZHRoOiAnMScsXG4gICAgICAgICAgZGFzaGVkOiBbMiwxMF0sXG4gICAgICAgICAgc3Ryb2tlQ29sb3I6ICcjRjAwMCdcbiAgICAgICAgfSxcbiAgICAgICAgcGF0dGVybkpvaW5MaW5lOiB7XG4gICAgICAgICAgc3Ryb2tlV2lkdGg6ICcxJyxcbiAgICAgICAgICBkYXNoZWQ6IFsyLDEwXSxcbiAgICAgICAgICBzdHJva2VDb2xvcjogJyNiMmMnXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgcGFnZU1hcmdpbnM6IDUsXG4gICAgICB1bml0czogJ21tJyxcbiAgICAgIGxheW91dDogJ3BvcnRyYWl0JyxcbiAgICAgIHBhZ2VTaXplOiAnQTQnLFxuXG4gICAgfVxuXG4gICAgT2JqZWN0LmFzc2lnbihyZW5kZXJPcHRpb25zLHJlbmRlck9wdHMpO1xuXG4gICAgLy9EbyBzb21lIHNhbml0eSBjaGVja2luZ1xuICAgIGlmICghcmVuZGVyT3B0aW9ucy5wYWdlU2l6ZSkge1xuICAgICAgdGhyb3cgJ1BhZ2Ugc2l6ZSBtdXN0IGJlIHNwZWNpZmllZCBmb3IgUERGIHJlbmRlcmluZywgdHJ5IEE0J1xuICAgIH1cblxuICAgIGlmIChyZW5kZXJPcHRpb25zLnBhZ2VNYXJnaW5zKSB7XG4gICAgICAvL2ZvcmNlIHBhZ2VNYXJnaW5zIHRvIGJlIGFuIG9iamVjdCBmb3Igc2ltcGxpY2l0eSBsYXRlcmBcbiAgICAgIC8vTW9kZWwgcGFja2VyIHNob3VsZCBoYXZlIHRha2VuIGNhcmUgb2YgdGhpcyBmb3IgdXNcbiAgICAgIGlmICh0eXBlb2YgcmVuZGVyT3B0aW9ucy5wYWdlTWFyZ2lucyAhPSBcIm9iamVjdFwiKSB7XG4gICAgICAgIHJlbmRlck9wdGlvbnMucGFnZU1hcmdpbnMgPSB7XG4gICAgICAgICAgbGVmdDogcmVuZGVyT3B0aW9ucy5wYWdlTWFyZ2lucyxcbiAgICAgICAgICByaWdodDogcmVuZGVyT3B0aW9ucy5wYWdlTWFyZ2lucyxcbiAgICAgICAgICB0b3A6IHJlbmRlck9wdGlvbnMucGFnZU1hcmdpbnMsXG4gICAgICAgICAgYm90dG9tOiByZW5kZXJPcHRpb25zLnBhZ2VNYXJnaW5zXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvL2N0aW9uIGNyZWF0ZVBhZ2VzQXNQREYocGFnZXMsbWFyZ2luVG9wTGVmdCA9IFswLDBdLHN0eWxlU2V0ID0gbnVsbCxwZGZBY3Rpb24pe1xuICAgIC8vXG4gICAgbGV0IHBkZlBhZ2VTZXR0aW5ncyA9IHtcbiAgICAgIGxheW91dDogcmVuZGVyT3B0aW9ucy5sYXlvdXQsXG4gICAgICAvL2lmIHRoZSBwYWdlU2l6ZSBpcyBhIHN0cmluZyBhc3N1bWUgaXRzIEE0LEE1IG9yIHNpbWlsYXIsIG90aGVyd2lzZSBhc3N1bWUgaXRzIHBhZ2UgZGltcyBvYmplY3Qgd2l0aCB4IGFuZCB5XG4gICAgICBzaXplOiAoKHR5cGVvZiByZW5kZXJPcHRpb25zLnBhZ2VTaXplID09ICdzdHJpbmcnKT8ocmVuZGVyT3B0aW9ucy5wYWdlU2l6ZSk6KFttbVRvUERGUFBJKHJlbmRlck9wdGlvbnMucGFnZVNpemUueCksbW1Ub1BERlBQSShyZW5kZXJPcHRpb25zLnBhZ2VTaXplLnkpXSkpXG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coJ1BERiBTZXR1cCcscGRmUGFnZVNldHRpbmdzKTtcbiAgICBsZXQgZG9jID0gbmV3IFBERkRvY3VtZW50KHtcbiAgICAgIGF1dG9GaXJzdFBhZ2U6IGZhbHNlLFxuICAgIH0pO1xuXG4gICAgbGV0IHN0cmVhbSA9IGRvYy5waXBlKGJsb2JTdHJlYW0oKSk7XG4gICAgcGFnZU1vZGVscy5mb3JFYWNoKHBhZ2UgPT4ge1xuICAgICAgZG9jLmFkZFBhZ2UocGRmUGFnZVNldHRpbmdzKTtcblxuICAgICAgLy8gbWFrZXJqcy5leHBvcnRlci50b1BERihkb2MscGFnZSxwZGZFeHBvcnRPcHRpb25zKTtcbiAgICAgIHRoaXMubW9kZWxUb1BERihkb2MscGFnZSxyZW5kZXJPcHRpb25zLnBhZ2VNYXJnaW5zLHJlbmRlck9wdGlvbnMuc3R5bGVTZXQpO1xuICAgIH0pO1xuXG4gICAgLy8gRmluYWxpemUgUERGIGZpbGVcbiAgICBkb2MuZW5kKCk7XG4gICAgLy8gZ2V0IGEgYmxvYiB3aGVuIHlvdSdyZSBkb25lXG5cblxuXG4gICAgbGV0IHBkZkNvbXBsZXRlZCA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBzdHJlYW0ub24oJ2ZpbmlzaCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIC8vIGdldCBhIGJsb2IgeW91IGNhbiBkbyB3aGF0ZXZlciB5b3UgbGlrZSB3aXRoXG4gICAgICAgICAgY29uc3QgYmxvYiA9IHN0cmVhbS50b0Jsb2IoJ2FwcGxpY2F0aW9uL3BkZicpO1xuICAgICAgICAgIHJlc29sdmUoYmxvYlRvQmFzZTY0KGJsb2IpKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgc3RyZWFtLm9uKCdlcnJvcicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJlamVjdCgpXG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiBwZGZDb21wbGV0ZWQ7XG4gIH1cblxuICByZW5kZXJDb2RlKGNvZGUsb3B0aW9ucyxyZXNwb25zZUNhbGxiYWNrKSB7XG4gICAgdGhpcy5yZW5kZXJJblByb2dyZXNzID0gdHJ1ZTtcblxuICAgIGxldCByZW5kZXJPcHRpb25zID0ge1xuICAgICAgZm9ybWF0OiAnU1ZHJyxcbiAgICAgIHBhZ2VTaXplOiB7eDogMTAwMCwgeTogMTAwMH0sXG4gICAgICBwYWNrVG9QYWdlczogZmFsc2UsXG4gICAgICBjYW5BZGRQYWdlczogdHJ1ZSxcbiAgICAgIGNhbkdyb3dQYWdlU2l6ZTogZmFsc2UsXG4gICAgICBwYWdlTWFyZ2luczogMTAsXG4gICAgICBhbGxvd1NwbGl0dGluZzogdHJ1ZSxcbiAgICAgIGFsbG93Um90YXRpb246IHRydWVcbiAgICB9XG4gICAgT2JqZWN0LmFzc2lnbihyZW5kZXJPcHRpb25zLG9wdGlvbnMpO1xuXG4gICAgaWYgKHJlbmRlck9wdGlvbnMucGFnZU1hcmdpbnMpIHtcbiAgICAgIC8vZm9yY2UgcGFnZU1hcmdpbnMgdG8gYmUgYW4gb2JqZWN0IGZvciBzaW1wbGljaXR5IGxhdGVyYFxuICAgICAgLy9Nb2RlbCBwYWNrZXIgc2hvdWxkIGhhdmUgdGFrZW4gY2FyZSBvZiB0aGlzIGZvciB1c1xuICAgICAgaWYgKHR5cGVvZiByZW5kZXJPcHRpb25zLnBhZ2VNYXJnaW5zICE9IFwib2JqZWN0XCIpIHtcbiAgICAgICAgcmVuZGVyT3B0aW9ucy5wYWdlTWFyZ2lucyA9IHtcbiAgICAgICAgICBsZWZ0OiByZW5kZXJPcHRpb25zLnBhZ2VNYXJnaW5zLFxuICAgICAgICAgIHJpZ2h0OiByZW5kZXJPcHRpb25zLnBhZ2VNYXJnaW5zLFxuICAgICAgICAgIHRvcDogcmVuZGVyT3B0aW9ucy5wYWdlTWFyZ2lucyxcbiAgICAgICAgICBib3R0b206IHJlbmRlck9wdGlvbnMucGFnZU1hcmdpbnNcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGxldCB1c2VyUGFyYW1ldGVycyA9IE9iamVjdC5hc3NpZ24oe30sb3B0aW9ucy51c2VyUGFyYW1ldGVycyk7XG5cbiAgICBsZXQgY29kZVJ1bm5lclJlc3VsdCA9IHJ1bkRyYXdDb2RlKGNvZGUsdXNlclBhcmFtZXRlcnMpO1xuXG4gICAgbGV0IG1vZGVsc0ZvclBhZ2VQYWNraW5nID0gY29kZVJ1bm5lclJlc3VsdC5vdXRwdXQ7XG4gICAgaWYgKChBcnJheS5pc0FycmF5KG1vZGVsc0ZvclBhZ2VQYWNraW5nKSkgJiYgKG1vZGVsc0ZvclBhZ2VQYWNraW5nLmxlbmd0aCA+IDApKSB7XG5cbiAgICAgIGxldCBtb2RlbFBhY2tlciA9IG5ldyBNb2RlbFBhY2tlcih7XG4gICAgICAgIHBhZ2VTaXplOiB7XG4gICAgICAgICAgeDogTWF0aC5tYXgocmVuZGVyT3B0aW9ucy5wYWdlU2l6ZS54IC0gKHJlbmRlck9wdGlvbnMucGFnZU1hcmdpbnMubGVmdCArIHJlbmRlck9wdGlvbnMucGFnZU1hcmdpbnMucmlnaHQpLDApLFxuICAgICAgICAgIHk6IE1hdGgubWF4KHJlbmRlck9wdGlvbnMucGFnZVNpemUueSAtIChyZW5kZXJPcHRpb25zLnBhZ2VNYXJnaW5zLnRvcCArIHJlbmRlck9wdGlvbnMucGFnZU1hcmdpbnMuYm90dG9tKSwwKSxcbiAgICAgICAgfSxcbiAgICAgICAgcGFnZVNpemVHcm93TGltaXQ6IHt4OiAtMSwgeTogLTF9LFxuICAgICAgICBjYW5BZGRQYWdlczogcmVuZGVyT3B0aW9ucy5jYW5BZGRQYWdlcyxcbiAgICAgICAgY2FuR3Jvd1BhZ2VTaXplOiByZW5kZXJPcHRpb25zLmNhbkdyb3dQYWdlU2l6ZSxcbiAgICAgICAgYWxsb3dSb3RhdGlvbjogcmVuZGVyT3B0aW9ucy5hbGxvd1JvdGF0aW9uLFxuICAgICAgICBhbGxvd1NwbGl0dGluZzogcmVuZGVyT3B0aW9ucy5hbGxvd1NwbGl0dGluZ1xuICAgICAgfSk7XG5cbiAgICAgIGxldCBwYWNraW5nUmVzdWx0ID0gbW9kZWxQYWNrZXIucGFja01vZGVscyhtb2RlbHNGb3JQYWdlUGFja2luZyk7XG4gICAgICBjb25zb2xlLmxvZygnUGFja2luZyBSZXN1bHQnLHBhY2tpbmdSZXN1bHQpO1xuICAgICAgbGV0IHJlbmRlcmVkUGFnZXMgPSBbXTtcbiAgICAgIGlmIChyZW5kZXJPcHRpb25zLmZvcm1hdCA9PSAnU1ZHJykge1xuICAgICAgICByZW5kZXJlZFBhZ2VzID0gdGhpcy5yZW5kZXJQYWdlTW9kZWxzVG9TVkcocGFja2luZ1Jlc3VsdC5wYWNrZWRQYWdlcyxyZW5kZXJPcHRpb25zKTtcbiAgICAgIH0gZWxzZSBpZihyZW5kZXJPcHRpb25zLmZvcm1hdCA9PSAnUERGJykge1xuICAgICAgICByZW5kZXJlZFBhZ2VzID0gdGhpcy5yZW5kZXJQYWdlTW9kZWxzVG9QREYocGFja2luZ1Jlc3VsdC5wYWNrZWRQYWdlcyxyZW5kZXJPcHRpb25zKTtcbiAgICAgIH1cblxuICAgICAgLy8gbGV0IHJlbmRlcmVkU1ZHID0gdGhpcy5yZW5kZXJNb2RlbHNUb1NWRyhjb2RlUnVubmVyUmVzdWx0Lm91dHB1dCk7XG4gICAgICAvLyBjb25zb2xlLmxvZygnU1ZHIFBBZ2VzJyxyZW5kZXJlZFNWR1BhZ2VzKTtcbiAgICAgIHJlbmRlcmVkUGFnZXMudGhlbigocmVuZGVyZWREYXRhKSA9PiB7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShyZW5kZXJlZERhdGEpKSB7cmVuZGVyZWREYXRhID0gW3JlbmRlcmVkRGF0YV19O1xuICAgICAgICByZXNwb25zZUNhbGxiYWNrKHtcbiAgICAgICAgICB0eXBlOiAncmVuZGVyUmVzcG9uc2UnLFxuICAgICAgICAgIGNvbnRlbnRUeXBlOiByZW5kZXJPcHRpb25zLmZvcm1hdCxcbiAgICAgICAgICByZW5kZXJGb3I6IG9wdGlvbnMucmVuZGVyRm9yLFxuICAgICAgICAgIHN1Y2Nlc3NDb250ZW50OiByZW5kZXJlZERhdGEsXG4gICAgICAgICAgZXJyb3JDb250ZW50OiBwYWNraW5nUmVzdWx0LnVucGFja2VkTW9kZWxzLFxuICAgICAgICAgIGxvZ01lc3NhZ2VzOiBbXSxcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3BvbnNlQ2FsbGJhY2soe1xuICAgICAgICB0eXBlOiAncmVuZGVyUmVzcG9uc2UnLFxuICAgICAgICBjb250ZW50VHlwZTogcmVuZGVyT3B0aW9ucy5mb3JtYXQsXG4gICAgICAgIHJlbmRlckZvcjogb3B0aW9ucy5yZW5kZXJGb3IsXG4gICAgICAgIHN1Y2Nlc3NDb250ZW50OiBbXSxcbiAgICAgICAgZXJyb3JDb250ZW50OiBbXSxcbiAgICAgICAgbG9nTWVzc2FnZXM6IFtdLFxuICAgICAgfSlcbiAgICB9XG5cblxuXG4gICAgdGhpcy5yZW5kZXJJblByb2dyZXNzID0gZmFsc2U7XG4gIH1cblxuICByZXNldCgpIHtcblxuICB9XG59XG4iLCJpbXBvcnQgbWFrZXJqcyBmcm9tICdtYWtlcmpzJztcbmltcG9ydCB7IENvZGVSdW5uZXJVdGlscyB9IGZyb20gJy4vY29kZXJ1bm5lcnV0aWxzLmpzJztcblxuZXhwb3J0IGZ1bmN0aW9uIHJ1bkRyYXdDb2RlKGRyYXdDb2RlLHVzZXJQYXJhbWV0ZXJzKXtcbiAgbGV0IENvZGVXcmFwcGVyRnVuY3Rpb24gPSBuZXcgRnVuY3Rpb24oJ2NvbnNvbGUnLCdtYWtlcmpzJywnTWFrZXJKcycsJ3VzZXJQYXJhbWV0ZXJzJywndXRpbHMnLCBkcmF3Q29kZSk7XG4gIENvZGVXcmFwcGVyRnVuY3Rpb24ucHJvdG90eXBlLm1vZGVscyA9IHt9O1xuICAvL1RPRE86IFdyYXAgdGhlIGNvbnNvbGUgd2l0aCBhbiBvYmplY3QgdGhhdCB0YWtlcyBvdmVyIGFuZCBmZWVkcyBiYWNrIHRvIHRoZSBVSVxuICBsZXQgY3J1ID0gbmV3IENvZGVSdW5uZXJVdGlscygpO1xuICBsZXQgY29kZVJlc3VsdCA9IG5ldyBDb2RlV3JhcHBlckZ1bmN0aW9uKGNvbnNvbGUsbWFrZXJqcyxtYWtlcmpzLHVzZXJQYXJhbWV0ZXJzLGNydSk7XG5cbiAgbGV0IHJldHVyblZhbCA9IG51bGw7XG5cbiAgaWYgKGNvZGVSZXN1bHQpIHtcbiAgICByZXR1cm5WYWwgPSB7fTtcblxuICAgIGlmIChjb2RlUmVzdWx0LnVzZXJQYXJhbWV0ZXJzKSB7XG4gICAgICByZXR1cm5WYWwudXNlclBhcmFtZXRlcnMgPSBjb2RlUmVzdWx0LnVzZXJQYXJhbWV0ZXJzO1xuICAgIH1cblxuICAgIGlmIChjb2RlUmVzdWx0LnN0eWxlU2V0KSB7XG4gICAgICByZXR1cm5WYWwuc3R5bGVTZXQgPSBjb2RlUmVzdWx0LnN0eWxlU2V0O1xuICAgIH1cblxuICAgIGlmIChjb2RlUmVzdWx0LmxvZykge1xuICAgICAgcmV0dXJuVmFsLmxvZyA9IGNvZGVSZXN1bHQubG9nO1xuICAgIH1cblxuICAgIGlmICgoY29kZVJlc3VsdC5tb2RlbHMpICYmIGNvZGVSZXN1bHQubW9kZWxzICE9ICdsZWdhY3knKSB7XG4gICAgICAvL1RPRE86IGZpeCB0aGlzIHNvIHVzZXJzIGp1c3QgYXNzaWduIHRvIHRoaXMubW9kZWxzIGFsd2F5cyAodG8gcHJldmVudCBuYW1lc3BhY2UgcG9sbHV0aW9uIG9mIHVzZXIgdGhpbmdzKVxuICAgICAgLy9FeHBlY3QgbW9kZWxzIHRvIGJlIGEgbmFtZWQgb2JqZWN0XG5cbiAgICAgIGxldCBtb2RlbEFycmF5ID0gW107XG4gICAgICBtb2RlbEFycmF5ID0gT2JqZWN0LmtleXMoY29kZVJlc3VsdC5tb2RlbHMpLm1hcCgoa2V5KSA9PiB7XG4gICAgICAgIHJldHVybiBjb2RlUmVzdWx0Lm1vZGVsc1trZXldXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuVmFsLm91dHB1dCA9IG1vZGVsQXJyYXk7XG4gICAgfSAgZWxzZSBpZiAoKGNvZGVSZXN1bHQpICYmIChPYmplY3Qua2V5cyhjb2RlUmVzdWx0KS5sZW5ndGggPiAwKSkge1xuICAgICAgLy9Pbmx5IGlmIG1vZGVscyBpc24ndCBhc3NpZ25lZCBzaG91bGQgd2UgbG9vayB0aHJvdWdoIHRoZSB3aG9sZSBvYmplY3RcbiAgICAgIC8vQXNzdW1lIGV2ZXJ5dGhpbmcgaW5zaWRlIHdoYXQgd2Ugd2VyZSBnaXZlbiBpcyBhIG1vZGVsIGV4Y2VwdCB0aGUga2V5d29yZHMgYWJvdmVcbiAgICAgIGxldCBtb2RlbEFycmF5ID0gW107XG4gICAgICBtb2RlbEFycmF5ID0gT2JqZWN0LmtleXMoY29kZVJlc3VsdCkuZmlsdGVyKGtleSA9PiAoIVsndXNlclBhcmFtZXRlcnMnLCdzdHlsZVNldCcsJ21vZGVscycsJ2xvZycsJ2luc3RydWN0aW9ucycsJ2JvbScsJ25vdGVzJ10uaW5jbHVkZXMoa2V5KSkpLm1hcCgoa2V5KSA9PiB7XG4gICAgICAgIHJldHVybiBjb2RlUmVzdWx0W2tleV1cbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm5WYWwub3V0cHV0ID0gbW9kZWxBcnJheTtcbiAgICB9XG5cbiAgfVxuICBjb25zb2xlXG4gIHJldHVybiByZXR1cm5WYWw7XG5cbn1cbiIsImltcG9ydCB7IFJlbmRlckVuZ2luZSB9IGZyb20gJy4vcmVuZGVyZW5naW5lLmpzJztcbi8vUmVuZGVyaW5nIGVuZ2luZSB3b3JrZXIgdGhyZWFkXG5zZWxmLm9ubWVzc2FnZSA9ICh7IGRhdGEgfSkgPT4ge1xuXG4gIGxldCBoYW5kbGVSZW5kZXJSZXNwb25zZSA9IChyZXNwb25zZURhdGEpID0+IHtcbiAgICBzZWxmLnBvc3RNZXNzYWdlKHJlc3BvbnNlRGF0YSlcbiAgfVxuXG4gIGxldCByZW5kZXJFbmdpbmUgPSBuZXcgUmVuZGVyRW5naW5lO1xuICBpZiAoZGF0YS50eXBlID09ICdyZW5kZXJSZXF1ZXN0Jykge1xuICAgIHJlbmRlckVuZ2luZS5yZW5kZXJDb2RlKFxuICAgICAgZGF0YS5jb2RlLFxuICAgICAgZGF0YS5vcHRpb25zLFxuICAgICAgaGFuZGxlUmVuZGVyUmVzcG9uc2VcbiAgICApXG4gIH1cblxufTtcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4vLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuX193ZWJwYWNrX3JlcXVpcmVfXy5tID0gX193ZWJwYWNrX21vZHVsZXNfXztcblxuLy8gdGhlIHN0YXJ0dXAgZnVuY3Rpb25cbl9fd2VicGFja19yZXF1aXJlX18ueCA9ICgpID0+IHtcblx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG5cdC8vIFRoaXMgZW50cnkgbW9kdWxlIGRlcGVuZHMgb24gb3RoZXIgbG9hZGVkIGNodW5rcyBhbmQgZXhlY3V0aW9uIG5lZWQgdG8gYmUgZGVsYXllZFxuXHR2YXIgX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18uTyh1bmRlZmluZWQsIFs4XSwgKCkgPT4gKF9fd2VicGFja19yZXF1aXJlX18oNzQ2NCkpKVxuXHRfX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXy5PKF9fd2VicGFja19leHBvcnRzX18pO1xuXHRyZXR1cm4gX193ZWJwYWNrX2V4cG9ydHNfXztcbn07XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5mID0ge307XG4vLyBUaGlzIGZpbGUgY29udGFpbnMgb25seSB0aGUgZW50cnkgY2h1bmsuXG4vLyBUaGUgY2h1bmsgbG9hZGluZyBmdW5jdGlvbiBmb3IgYWRkaXRpb25hbCBjaHVua3Ncbl9fd2VicGFja19yZXF1aXJlX18uZSA9IChjaHVua0lkKSA9PiB7XG5cdHJldHVybiBQcm9taXNlLmFsbChPYmplY3Qua2V5cyhfX3dlYnBhY2tfcmVxdWlyZV9fLmYpLnJlZHVjZSgocHJvbWlzZXMsIGtleSkgPT4ge1xuXHRcdF9fd2VicGFja19yZXF1aXJlX18uZltrZXldKGNodW5rSWQsIHByb21pc2VzKTtcblx0XHRyZXR1cm4gcHJvbWlzZXM7XG5cdH0sIFtdKSk7XG59OyIsIi8vIFRoaXMgZnVuY3Rpb24gYWxsb3cgdG8gcmVmZXJlbmNlIGFzeW5jIGNodW5rcyBhbmQgc2libGluZyBjaHVua3MgZm9yIHRoZSBlbnRyeXBvaW50XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnUgPSAoY2h1bmtJZCkgPT4ge1xuXHQvLyByZXR1cm4gdXJsIGZvciBmaWxlbmFtZXMgYmFzZWQgb24gdGVtcGxhdGVcblx0cmV0dXJuIFwiXCIgKyBjaHVua0lkICsgXCIuYnVuZGxlLmpzXCI7XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18uZyA9IChmdW5jdGlvbigpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHJldHVybiB3aW5kb3c7XG5cdH1cbn0pKCk7IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsInZhciBzY3JpcHRVcmw7XG5pZiAoX193ZWJwYWNrX3JlcXVpcmVfXy5nLmltcG9ydFNjcmlwdHMpIHNjcmlwdFVybCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5sb2NhdGlvbiArIFwiXCI7XG52YXIgZG9jdW1lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcuZG9jdW1lbnQ7XG5pZiAoIXNjcmlwdFVybCAmJiBkb2N1bWVudCkge1xuXHRpZiAoZG9jdW1lbnQuY3VycmVudFNjcmlwdClcblx0XHRzY3JpcHRVcmwgPSBkb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyY1xuXHRpZiAoIXNjcmlwdFVybCkge1xuXHRcdHZhciBzY3JpcHRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIik7XG5cdFx0aWYoc2NyaXB0cy5sZW5ndGgpIHNjcmlwdFVybCA9IHNjcmlwdHNbc2NyaXB0cy5sZW5ndGggLSAxXS5zcmNcblx0fVxufVxuLy8gV2hlbiBzdXBwb3J0aW5nIGJyb3dzZXJzIHdoZXJlIGFuIGF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgeW91IG11c3Qgc3BlY2lmeSBhbiBvdXRwdXQucHVibGljUGF0aCBtYW51YWxseSB2aWEgY29uZmlndXJhdGlvblxuLy8gb3IgcGFzcyBhbiBlbXB0eSBzdHJpbmcgKFwiXCIpIGFuZCBzZXQgdGhlIF9fd2VicGFja19wdWJsaWNfcGF0aF9fIHZhcmlhYmxlIGZyb20geW91ciBjb2RlIHRvIHVzZSB5b3VyIG93biBsb2dpYy5cbmlmICghc2NyaXB0VXJsKSB0aHJvdyBuZXcgRXJyb3IoXCJBdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3NlclwiKTtcbnNjcmlwdFVybCA9IHNjcmlwdFVybC5yZXBsYWNlKC8jLiokLywgXCJcIikucmVwbGFjZSgvXFw/LiokLywgXCJcIikucmVwbGFjZSgvXFwvW15cXC9dKyQvLCBcIi9cIik7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBzY3JpcHRVcmw7IiwiLy8gbm8gYmFzZVVSSVxuXG4vLyBvYmplY3QgdG8gc3RvcmUgbG9hZGVkIGNodW5rc1xuLy8gXCIxXCIgbWVhbnMgXCJhbHJlYWR5IGxvYWRlZFwiXG52YXIgaW5zdGFsbGVkQ2h1bmtzID0ge1xuXHQ4MjU6IDFcbn07XG5cbi8vIGltcG9ydFNjcmlwdHMgY2h1bmsgbG9hZGluZ1xudmFyIGluc3RhbGxDaHVuayA9IChkYXRhKSA9PiB7XG5cdHZhciBbY2h1bmtJZHMsIG1vcmVNb2R1bGVzLCBydW50aW1lXSA9IGRhdGE7XG5cdGZvcih2YXIgbW9kdWxlSWQgaW4gbW9yZU1vZHVsZXMpIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8obW9yZU1vZHVsZXMsIG1vZHVsZUlkKSkge1xuXHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tW21vZHVsZUlkXSA9IG1vcmVNb2R1bGVzW21vZHVsZUlkXTtcblx0XHR9XG5cdH1cblx0aWYocnVudGltZSkgcnVudGltZShfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblx0d2hpbGUoY2h1bmtJZHMubGVuZ3RoKVxuXHRcdGluc3RhbGxlZENodW5rc1tjaHVua0lkcy5wb3AoKV0gPSAxO1xuXHRwYXJlbnRDaHVua0xvYWRpbmdGdW5jdGlvbihkYXRhKTtcbn07XG5fX3dlYnBhY2tfcmVxdWlyZV9fLmYuaSA9IChjaHVua0lkLCBwcm9taXNlcykgPT4ge1xuXHQvLyBcIjFcIiBpcyB0aGUgc2lnbmFsIGZvciBcImFscmVhZHkgbG9hZGVkXCJcblx0aWYoIWluc3RhbGxlZENodW5rc1tjaHVua0lkXSkge1xuXHRcdGlmKHRydWUpIHsgLy8gYWxsIGNodW5rcyBoYXZlIEpTXG5cdFx0XHRpbXBvcnRTY3JpcHRzKF9fd2VicGFja19yZXF1aXJlX18ucCArIF9fd2VicGFja19yZXF1aXJlX18udShjaHVua0lkKSk7XG5cdFx0fVxuXHR9XG59O1xuXG52YXIgY2h1bmtMb2FkaW5nR2xvYmFsID0gc2VsZltcIndlYnBhY2tDaHVua1wiXSA9IHNlbGZbXCJ3ZWJwYWNrQ2h1bmtcIl0gfHwgW107XG52YXIgcGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24gPSBjaHVua0xvYWRpbmdHbG9iYWwucHVzaC5iaW5kKGNodW5rTG9hZGluZ0dsb2JhbCk7XG5jaHVua0xvYWRpbmdHbG9iYWwucHVzaCA9IGluc3RhbGxDaHVuaztcblxuLy8gbm8gSE1SXG5cbi8vIG5vIEhNUiBtYW5pZmVzdCIsIi8vIHJ1biBzdGFydHVwXG52YXIgX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18ueCgpO1xuIl0sIm5hbWVzIjpbImRlZmVycmVkIiwibmV4dCIsIkVtcHR5TW9kZWwiLCJjb25zdHJ1Y3RvciIsInRoaXMiLCJwYXRocyIsIm1vZGVscyIsInVuaXRzIiwiRmlsbGV0ZWRQYXRoTW9kZWwiLCJwYXRoUG9pbnRzIiwiZmlsbGV0UmFkaWkiLCJjbG9zZWQiLCJzdXBlciIsInBhdGhQYWlycyIsInB1c2giLCJpIiwibGVuZ3RoIiwibWFwIiwicGF0aFBhaXIiLCJhcmNzIiwiZm9yRWFjaCIsImZpbGxldFJhZGl1cyIsImluZGV4IiwiY29uY2F0IiwiYWRkUGF0aCIsIk9mZnNldExpbmVzQXRJbnRlcnZhbHMiLCJiYXNlTGluZVN0YXJ0IiwiYmFzZUxpbmVFbmQiLCJpbnRlcnZhbHMiLCJyZWxhdGl2ZUludGVydmFscyIsImxpbmVMYXllciIsImZsaXBQb3NpdGl2ZURpcmVjdGlvbiIsImV4dGVuc2lvbkxpbmVBbmdsZSIsImN1bXVsYXRpdmVFeHRlbnNpb24iLCJBcnJheSIsImlzQXJyYXkiLCJpbnRlcnZhbERpc3QiLCJvZmZzZXRMaW5lIiwiZGlzdFBvaW50IiwiQ29kZVJ1bm5lclV0aWxzIiwibGluZUZyb21Qb2ludEF0QW5nbGUiLCJmcm9tUG9pbnQiLCJhbmdsZUluRGVncmVlcyIsImFuZ2xlSW5SYWRpYW5zIiwidG9Qb2ludCIsImVuYWJsZVNwbGl0dGluZyIsIm1vZGVsVG9TZXQiLCJzcGxpdCIsImlmTmVlZGVkIiwiYXhpcyIsImF1dG9DYXB0aW9uTW9kZWwiLCJtb2RlbFRvQ2FwdGlvbiIsImNhcHRpb24iLCJ0ZXh0SGVpZ2h0IiwibG9jYXRpb24iLCJtb2RlbEV4dGVudHMiLCJsb3ciLCJoaWdoIiwiY2xvbmVBbmRPZmZzZXQiLCJtb2RlbFRvQ2xvbmUiLCJvZmZzZXQiLCJwb2ludEZyb21Qb2ludEF0QW5nbGUiLCJwb2ludEZyb21Qb2ludExpbmVBdEFuZ2xlIiwicDEiLCJwMiIsImRpc3RhbmNlIiwicGFyYW1zIiwiT2JqZWN0IiwiYXNzaWduIiwiY2xvY2t3aXNlIiwiYW5nbGUiLCJpbnNldCIsInBvaW50QW5nbGUiLCJyIiwiTWF0aCIsInNpbiIsIlBJIiwidGFiUG9pbnRzRnJvbVBvaW50TGluZSIsImJhc2VJbnNldCIsImJhc2VJbnNldDIiLCJhbmdsZTIiLCJwaTEiLCJzbGljZSIsInBpMiIsInRhYlAxIiwidGFiUDIiLCJyZXN1bHQiLCJyZWxhdGl2ZVBvaW50TGlzdFRvQWJzb2x1dGUiLCJwb2ludHMiLCJsYXN0UG9pbnQiLCJ0aGlzUG9pbnQiLCJhYnNQb2ludCIsImRyYXdFbmdsaXNoUG9pbnQiLCJmcm9tIiwidG8iLCJvcHRpb25zIiwicmlzZXJQQ1QiLCJyaXNlckhlaWdodCIsImxpbmVBbmdsZSIsIm9yaWdpbkZyb20iLCJvcmlnaW5UbyIsIm1pZFBvaW50IiwiY2lyY2xlRnJvbSIsImNpcmNsZVRvIiwiaW50ZXJzZWN0aW9uIiwiaW50ZXJzZWN0aW9uRGlzdGFuY2UiLCJpbnRlcnNlY3Rpb25Qb2ludHMiLCJtaWRQb2ludFRpcCIsIm1pZFBvaW50QW5nbGVGcm9tIiwibWlkUG9pbnRBbmdsZVRvIiwiZW5nbGlzaFBvaW50IiwiYWRkVGFiQXRQb2ludExpbmVBdExpbmVJbmRleCIsInBvaW50TGluZSIsImF1dG9XcmFwIiwicDJJbmRleCIsInRhYlBvaW50cyIsInNwbGljZSIsImRldGVybWluZUJlbmRBbGxvd2FuY2UiLCJtYXRlcmlhbFRoaWNrbmVzcyIsImlubmVyUmFkaXVzIiwiayIsInNpbmdsZVNpZGVkIiwibWF4IiwiYmVuZEFsbG93YW5jZSIsImNob3JkYWxUcmFwZXpvaWRQb2ludExpbmUiLCJyYWRpdXNEZWx0YSIsImlubmVyQ2hvcmRMZW5ndGgiLCJvdXRlckNob3JkTGVuZ3RoIiwib3V0ZXJSYWRpdXMiLCJjYXJkU2xvdFBvaW50TGluZSIsIm91dGVyV2lkdGgiLCJvdXRlckhlaWdodCIsInRTbG90IiwiYmFzZVdpZHRoUENUIiwiYmFzZVdpZHRoIiwic3RpdGNoQWxsb3dhbmNlIiwic2lkZUluc2V0IiwiY2FyZFN0aWNrT3V0UENUIiwiY2FyZFN0aWNrT3V0Iiwic2xvdFJpc2VBbW91bnRQQ1QiLCJzbG90UmlzZUFtb3VudCIsInRvcExpbmVTbG9wZVBDVCIsInRvcExpbmVTbG9wZVJpc2UiLCJ0b3BMaW5lUG9pbnRzIiwicGFuZWxIZWlnaHQiLCJwYW5lbFdpZHRoIiwiSGVhcFBhY2tlciIsImFwcGxpZWRPcHRpb25zIiwiZGVmYXVsdFBhY2tBcmVhSGVpZ2h0IiwiZGVmYXVsdFBhY2tBcmVhV2lkdGgiLCJncm93TGltaXRIZWlnaHQiLCJncm93TGltaXRXaWR0aCIsImNhbkdyb3dQYWNrQXJlYSIsImNhbkFkZFBhY2tBcmVhcyIsImF2YWlsYWJsZUhlYXAiLCJwYWNrQXJlYURlZmluaXRpb25zIiwicGFja0FyZWFNYXhJbmRleCIsInBhY2tlZEJsb2NrcyIsImFkZFBhY2tBcmVhIiwicGFja2VkQXJlYXMiLCJwYWNrQXJlYSIsImlkIiwiYSIsImgiLCJ3IiwiYmxvY2tzIiwiZmlsdGVyIiwiYmxvY2siLCJhZGRQYWNrQXJlYVdpZHRoIiwiYWRkUGFja0FyZWFIZWlnaHQiLCJuZXdQYWNrQXJlYSIsIngiLCJ5IiwiZ3Jvd1BhY2tBcmVhIiwiZ3Jvd1RvRml0V2lkdGgiLCJncm93VG9GaXRIZWlnaHQiLCJwYWNrQXJlYUlkIiwiZWRpdGluZ1BhY2tBcmVhIiwiZmluZCIsImdyb3dPbldpZHRoIiwiYWN0dWFsRmluYWxXaWR0aCIsImFjdHVhbEZpbmFsSGVpZ2h0IiwicGFja0FyZWFIZWFwcyIsImhlYXAiLCJyaWdodFNpZGVEZWx0YSIsImJvdHRvbVNpZGVEZWx0YSIsInMiLCJlIiwic29ydEJsb2Nrc0ZvclBhY2tpbmciLCJibG9ja3NUb1BhY2siLCJzb3J0IiwiYiIsInNvcnRIZWFwRm9yUGFja2luZyIsInNwbGl0UmVtYWluaW5nSGVhcCIsImhlYXBBcmVhIiwic3BsaXRBIiwic3BsaXRCIiwicGFja0Jsb2NrSW5BdmFpbGFibGVBcmVhcyIsImJsb2NrUGFja2VkIiwiZml0dGluZ0hlYXBJbmRleCIsImZpbmRJbmRleCIsImZpdHRpbmdIZWFwIiwicGFja2VkQmxvY2siLCJyb3RhdGVkIiwibW9kZWwiLCJoZWFwUmVtYWluaW5nIiwidHJpbUVtcHR5UGFja0FyZWFzIiwidmFsaWRQYWNrQXJlYXMiLCJpbmNsdWRlcyIsInBhY2tCbG9jayIsIk1vZGVsU3BsaXR0ZXIiLCJ0cmltTW9kZWxUb0xpbmUiLCJtb2RlbFRvU2xpY2UiLCJsaW5lQXQiLCJrZWVwUG9zaXRpdmVTaWRlIiwiYWxvbmdYQXhpcyIsIm92ZXJsYXAiLCJpbmNsdWRlQ3V0dGluZ0xpbmVIaW50IiwiYXNDbG9uZSIsImN1dHRlclBhdGhFeHRlbnNpb24iLCJjdXR0ZXJQYXRoIiwiYm91bmRpbmdCb3giLCJib3VuZGluZ0JveFdpZHRoIiwiYm91bmRpbmdCb3hPZmZzZXRYIiwiYm91bmRpbmdCb3hIZWlnaHQiLCJib3VuZGluZ0JveE9mZnNldFkiLCJtb2RlbFNpemUiLCJjb25zb2xlIiwibG9nIiwiaGVpZ2h0Iiwid2lkdGgiLCJvblBhdGgiLCJjb250ZXh0IiwicGF0aEludGVyc2VjdGlvbiIsInBhdGhDb250ZXh0IiwiaW50ZXJzZWN0aW9uUG9pbnQiLCJtb2RlbENvbnRleHQiLCJwYXRoSWQiLCJjdXR0aW5nTGluZUhpbnQiLCJzcGxpdE1vZGVsIiwibW9kZWxUb1NwbGl0Iiwic3BsaXRBdFBjdCIsInNwbGl0QXREaXN0IiwiTW9kZWxQYWNrZXIiLCJwYWNraW5nT3B0aW9ucyIsInBhZ2VTaXplIiwicGFnZVNpemVHcm93TGltaXQiLCJjYW5BZGRQYWdlcyIsImNhbkdyb3dQYWdlU2l6ZSIsImFsbG93Um90YXRpb24iLCJhbGxvd1NwbGl0dGluZyIsIm1heFNwbGl0SXRlcmF0aW9ucyIsImNyZWF0ZU1vZGVsQmxvY2siLCJibG9ja2lkIiwic3BsaXRDb3VudCIsInBhY2tNb2RlbHMiLCJmYWlsaW5nTW9kZWxzIiwicmVkdWNlIiwiYWNjdW11bGF0b3IiLCJtb2RlbEJsb2NrIiwiaGVhcFBhY2tlciIsInJvdGF0ZUJsb2NrIiwidGVtcFciLCJ1bnBhY2tlZEJsb2NrcyIsInNraXBTcGxpdHRpbmdCbG9ja3MiLCJtb2RlbFNwbGl0dGVyIiwiY3VycmVudEJsb2NrSW5kZXgiLCJibG9ja0NhblNwbGl0Iiwic3BsaXRNb2RlbHMiLCJwYWNrZWRQYWdlcyIsInBhY2tlZFBhZ2UiLCJwYWdlTW9kZWwiLCJwYWdlcyIsIm9yaWdpbiIsInBhZ2VCbG9ja01vZGVsIiwiYW5jaG9yIiwidW5wYWNrZWRNb2RlbHMiLCJtbVRvUERGUFBJIiwibW1EaXN0YW5jZSIsIlJlbmRlckVuZ2luZSIsInJlbmRlckluUHJvZ3Jlc3MiLCJnZXRSZW5kZXJJblByb2dyZXNzIiwic2NhbGVNb2RlbFRvUERGUFBJIiwic2NhbGUiLCJyZW5kZXJNb2RlbFRvU1ZHIiwicmVuZGVyT3B0cyIsInJlbmRlck9wdGlvbnMiLCJzdHlsZVNldCIsInN0aXRjaCIsInN0cm9rZSIsInN0cm9rZVdpZHRoIiwiY3NzU3R5bGUiLCJjZW50ZXIiLCJoaW50IiwidXNlU3ZnUGF0aE9ubHkiLCJsYXllck9wdGlvbnMiLCJyZW5kZXJQYWdlTW9kZWxzVG9TVkciLCJwYWdlTW9kZWxzIiwic3ZnUGFnZXMiLCJQcm9taXNlIiwicmVzb2x2ZSIsIm1vZGVsVG9QREYiLCJkb2MiLCJwYWdlTWFyZ2lucyIsImxheWVyU3R5bGVzIiwiYmFzZSIsInN0cm9rZUNvbG9yIiwic2NhbGVkTW9kZWwiLCJzdmdQYXRocyIsImxlZnQiLCJ0b3AiLCJieUxheWVycyIsImtleSIsInZhbHVlIiwiZW50cmllcyIsInNhdmUiLCJwYXRoIiwic3R5bGUiLCJsaW5lV2lkdGgiLCJkYXNoZWQiLCJkYXNoIiwidW5kYXNoIiwicmVzdG9yZSIsIm1vZGVsQ2FwdGlvbiIsInRleHQiLCJlbmQiLCJiYXNlbGluZSIsInJlbmRlclBhZ2VNb2RlbHNUb1BERiIsInBhdHRlcm5Kb2luTGluZSIsImxheW91dCIsInJpZ2h0IiwiYm90dG9tIiwicGRmUGFnZVNldHRpbmdzIiwic2l6ZSIsImF1dG9GaXJzdFBhZ2UiLCJzdHJlYW0iLCJwaXBlIiwicGFnZSIsImFkZFBhZ2UiLCJyZWplY3QiLCJvbiIsImJsb2IiLCJ0b0Jsb2IiLCJyZWFkZXIiLCJGaWxlUmVhZGVyIiwicmVhZEFzRGF0YVVSTCIsIm9ubG9hZGVuZCIsImJsb2JUb0Jhc2U2NCIsInJlbmRlckNvZGUiLCJjb2RlIiwicmVzcG9uc2VDYWxsYmFjayIsImZvcm1hdCIsInBhY2tUb1BhZ2VzIiwibW9kZWxzRm9yUGFnZVBhY2tpbmciLCJkcmF3Q29kZSIsInVzZXJQYXJhbWV0ZXJzIiwiQ29kZVdyYXBwZXJGdW5jdGlvbiIsIkZ1bmN0aW9uIiwicHJvdG90eXBlIiwiY3J1IiwiY29kZVJlc3VsdCIsInJldHVyblZhbCIsIm1vZGVsQXJyYXkiLCJrZXlzIiwib3V0cHV0IiwicnVuRHJhd0NvZGUiLCJwYWNraW5nUmVzdWx0IiwicmVuZGVyZWRQYWdlcyIsInRoZW4iLCJyZW5kZXJlZERhdGEiLCJ0eXBlIiwiY29udGVudFR5cGUiLCJyZW5kZXJGb3IiLCJzdWNjZXNzQ29udGVudCIsImVycm9yQ29udGVudCIsImxvZ01lc3NhZ2VzIiwicmVzZXQiLCJzZWxmIiwib25tZXNzYWdlIiwiZGF0YSIsInJlbmRlckVuZ2luZSIsInJlc3BvbnNlRGF0YSIsInBvc3RNZXNzYWdlIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJtIiwiX193ZWJwYWNrX2V4cG9ydHNfXyIsIk8iLCJjaHVua0lkcyIsImZuIiwicHJpb3JpdHkiLCJub3RGdWxmaWxsZWQiLCJJbmZpbml0eSIsImZ1bGZpbGxlZCIsImoiLCJldmVyeSIsIm4iLCJnZXR0ZXIiLCJfX2VzTW9kdWxlIiwiZCIsImRlZmluaXRpb24iLCJvIiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiZiIsImNodW5rSWQiLCJhbGwiLCJwcm9taXNlcyIsInUiLCJnIiwiZ2xvYmFsVGhpcyIsIndpbmRvdyIsIm9iaiIsInByb3AiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInNjcmlwdFVybCIsImltcG9ydFNjcmlwdHMiLCJkb2N1bWVudCIsImN1cnJlbnRTY3JpcHQiLCJzcmMiLCJzY3JpcHRzIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJFcnJvciIsInJlcGxhY2UiLCJwIiwiaW5zdGFsbGVkQ2h1bmtzIiwiY2h1bmtMb2FkaW5nR2xvYmFsIiwicGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24iLCJiaW5kIiwibW9yZU1vZHVsZXMiLCJydW50aW1lIiwicG9wIl0sInNvdXJjZVJvb3QiOiIifQ==