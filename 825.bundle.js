(()=>{var e,t,a={7464:(e,t,a)=>{"use strict";var i=a(6254),s=a.n(i);class o{constructor(){this.paths={},this.models={},this.units="mm"}}class n extends o{constructor(e,t,a=!1){super();let i=[];a&&e.push(e[0]);for(let t=0;t<=e.length-2;t++)i.push([e[t],e[t+1]]);let o=i.map((e=>new(s().paths.Line)(e[0],e[1]))),n=[];t.forEach(((e,t)=>{e&&n.push(s().path.fillet(o[t],o[t+1>=o.length?0:t+1],e))})),o.concat(n).forEach(((e,t)=>{s().path.addTo(e,this,t)}))}}class r extends o{constructor(e,t,a=[],i=!0,o=null,n=!1){super();let r=s().angle.ofPointInDegrees(e,t)+90,l=0;(a=Array.isArray(a)?a:[a]).forEach((a=>{let n;if(i?l+=a:l=a,0==l)n=new(s().paths.Line)(e,t);else{let a=s().point.fromPolar(s().angle.toRadians(r),l);n=new(s().paths.Line)(s().point.add(e,a),s().point.add(t,a))}o&&s().path.layer(n,o),s().model.addPath(this,n)}))}}class l{EmptyModel=o;FilletedPathModel=n;OffsetLinesAtIntervals=r;lineFromPointAtAngle(e,t,a){let i=s().angle.toRadians(a),o=s().point.add(e,s().point.fromPolar(i,t));return new(s().paths.Line)(e,o)}enableSplitting(e){e.split={ifNeeded:!0,axis:"auto"}}autoCaptionModel(e,t,a=12,i="bottom"){let o=s().measure.modelExtents(e);return s().model.addCaption(e,t,[o.low[0],o.low[1]],[o.high[0],o.high[1]]),e}cloneAndOffset(e,t=[0,0]){return s().model.moveRelative(s().model.clone(e),t)}pointFromPointAtAngle(e,t,a){let i=s().angle.toRadians(a);return s().point.add(e,s().point.fromPolar(i,t))}pointFromPointLineAtAngle(e,t,a,i){i=Object.assign({clockwise:!1,angle:90,inset:0},i);let o=s().angle.ofPointInDegrees(e,t)-(i.clockwise?i.angle:-i.angle),n=a;return i.angle>0&&(n=a/Math.sin(Math.PI*i.angle/180)),this.pointFromPointAtAngle(e,n,o)}tabPointsFromPointLine(e,t,a){if(0!=(a=Object.assign({distance:0,clockwise:!1,angle:90,baseInset:0,baseInset2:null,angle2:null},a)).distance){let i=e.slice(),s=t.slice();null==a.baseInset2&&(a.baseInset2=a.baseInset),a.baseInset>0&&(i=this.pointFromPointLineAtAngle(e,t,a.baseInset,{clockwise:a.clockwise,angle:0})),a.baseInset2>0&&(s=this.pointFromPointLineAtAngle(t,e,a.baseInset2,{clockwise:a.clockwise,angle:0}));let o=this.pointFromPointLineAtAngle(i,s,a.distance,{clockwise:a.clockwise,angle:a.angle,inset:a.inset});null==a.angle2&&(a.angle2=a.angle);let n=this.pointFromPointLineAtAngle(s,i,a.distance,{clockwise:!a.clockwise,angle:a.angle2,inset:a.inset}),r=[];return a.baseInset>0&&r.push(i),r.push(o),r.push(n),a.baseInset2>0&&r.push(s),r}return[e,t]}relativePointListToAbsolute(e){let t=[0,0];return e.map((e=>{let a=s().point.add(t,e);return t=a,a}))}drawEnglishPoint(e,t,a){let i=Object.assign({},{riserPCT:1.2},a).riserPCT,o=s().measure.pointDistance(e,t)*i,n=s().angle.ofPointInDegrees(e,t),r=this.pointFromPointAtAngle(e,o,n),l=this.pointFromPointAtAngle(t,o,180+n),h=s().point.average(e,t),d=new(s().paths.Circle)(r,o),c=new(s().paths.Circle)(l,o),p=s().path.intersection(d,c),g=s().measure.pointDistance(p.intersectionPoints[0],p.intersectionPoints[1]),u=this.pointFromPointAtAngle(h,g/2,n+90),m=s().angle.ofPointInDegrees(r,u),w=s().angle.ofPointInDegrees(l,u),P=new this.EmptyModel;return s().model.addPath(P,s().path.layer(new(s().paths.Line)(h,u),"stitch")),s().model.addPath(P,new(s().paths.Arc)(r,o,m,n+180)),s().model.addPath(P,new(s().paths.Arc)(l,o,n,w)),P}addTabAtPointLineAtLineIndex(e,t,a){a=Object.assign({distance:0,clockwise:!1,angle:90,angle2:null,autoWrap:!0},a);let i=e[t],s=t+1;t+1>e.length-1&&a.autoWrap&&(s=0);let o=e[s],n=this.tabPointsFromPointLine(i,o,a);return e.splice(t+1,0,...n),e}determineBendAllowance(e){null==(e=Object.assign({angle:90,materialThickness:1,innerRadius:null,k:.5,singleSided:!1},e)).innerRadius&&(e.innerRadius=Math.max(.5,e.materialThickness/4));let t=e.angle*(Math.PI/180)*(e.innerRadius+e.k*e.materialThickness);return e.singleSided&&(t/=2),t}chordalTrapezoidPointLine(e){(e=Object.assign({radiusDelta:45,innerChordLength:10,outerChordLength:null,innerRadius:null,outerRadius:null,angle:30},e)).innerRadius||(e.innerRadius=e.innerChordLength/Math.sin(e.angle/2*(Math.PI/180))),e.radiusDelta?e.outerRadius=e.innerRadius+e.radiusDelta:e.radiusDelta||(e.outerRadius=e.outerChordLength/Math.sin(e.angle/2*(Math.PI/180)));let t=[];return t.push([0,0]),t.push(this.pointFromPointAtAngle([0,-e.innerRadius],e.innerRadius,90-e.angle)),t.push(this.pointFromPointAtAngle([0,-e.innerRadius],e.outerRadius,90-e.angle)),t.push([0,e.outerRadius-e.innerRadius]),t}cardSlotPointLine(e,t,a=!1,i=null){null==(i=Object.assign({baseWidthPCT:.75,baseWidth:null,stitchAllowance:3.8,sideInset:null,cardStickOutPCT:.2,cardStickOut:null,slotRiseAmountPCT:.2,slotRiseAmount:null,topLineSlopePCT:null,topLineSlopeRise:0,topLinePoints:null},i)).sideInset&&(i.sideInset=i.stitchAllowance),null==i.baseWidth&&(i.baseWidth=i.baseWidthPCT*e),null==i.cardStickOut&&(i.cardStickOut=i.cardStickOutPCT*t),null==i.slotRiseAmount&&(i.slotRiseAmount=i.slotRiseAmountPCT*t),null!=i.topLineSlopePCT&&(i.topLineSlopeRise=t*i.topLineSlopePCT),null==i.topLineSlopeRise&&(i.topLineSlopeRise=0);let s=t-i.cardStickOut,o=e,n=[];return n.push([0,s]),n.push([i.stitchAllowance,s]),n.push([o-i.stitchAllowance,s+i.topLineSlopeRise]),n.push([o,s+i.topLineSlopeRise]),a?(n.push([o,s+i.topLineSlopeRise-i.slotRiseAmount]),n.push([o-i.sideInset,s+i.topLineSlopeRise-i.slotRiseAmount]),n.push([(o+i.baseWidth)/2,0]),n.push([(o-i.baseWidth)/2,0]),n.push([i.sideInset,s-i.slotRiseAmount]),n.push([0,s-i.slotRiseAmount])):(n.push([o,0]),n.push([0,0])),n}}class h{constructor(e){let t=Object.assign({defaultPackAreaHeight:1e3,defaultPackAreaWidth:2e3,growLimitHeight:-1,growLimitWidth:-1,canGrowPackArea:!1,canAddPackAreas:!0},e);this.defaultPackAreaHeight=t.defaultPackAreaHeight,this.defaultPackAreaWidth=t.defaultPackAreaWidth,this.canGrowPackArea=t.canGrowPackArea,this.canAddPackAreas=t.canAddPackAreas,this.availableHeap=[],this.packAreaDefinitions=[],this.packAreaMaxIndex=0,this.packedBlocks=[],this.addPackArea()}packedAreas(){return this.packAreaDefinitions.map((e=>({id:e.a,h:e.h,w:e.w,blocks:this.packedBlocks.filter((t=>t.a==e.a))})))}addPackArea(e=null,t=null){e||(e=this.defaultPackAreaWidth),t||(t=this.defaultPackAreaHeight);let a={x:0,y:0,w:e,h:t,a:++this.packAreaMaxIndex};return this.packAreaDefinitions.push(Object.assign({},a)),this.availableHeap.push(a),a}growPackArea(e,t,a=-1){let i=null;i=a<0?this.packAreaDefinitions[this.packAreaDefinitions.length-1]:this.packAreaDefinitions.find((e=>e.id==a));let s=1-(i.w+e)/Math.max(i.h,t)<=1-Math.max(i.w,e)/(i.h+t),o=s?i.w+e:Math.max(i.w,e),n=s?Math.max(i.h,t):i.h+t,r=this.availableHeap.filter((e=>e.a==i.a)),l=(r.filter((e=>e.x+e.w==i.w)),r.filter((e=>e.y+e.h==i.h)),o-i.w),h=n-i.h;s?(this.availableHeap.push({s:1,a:i.a,x:i.x+i.w,y:i.y,w:l,h:i.h+h}),this.availableHeap.push({s:2,a:i.a,x:i.x,y:i.y+i.h,w:i.w,h})):(this.availableHeap.push({e:1,a:i.a,x:i.x,y:i.y+i.h,w:i.w+l,h}),this.availableHeap.push({e:2,a:i.a,x:i.x+i.w,y:i.y,w:l,h:i.h})),i.w=o,i.h=n}sortBlocksForPacking(e){return e.sort(((e,t)=>t.w*t.h-e.w*e.h)),e}sortHeapForPacking(){this.availableHeap.sort(((e,t)=>e.w*e.h-t.w*t.h))}splitRemainingHeap(e,t){let a,i;return e.w-t.w>=e.h-t.h?(a={x:e.x+t.w,y:e.y,w:e.w-t.w,h:e.h},i={x:e.x,y:e.y+t.h,w:t.w,h:e.h-t.h}):(a={x:e.x,y:e.y+t.h,w:e.w,h:e.h-t.h},i={x:e.x+t.w,y:e.y,w:e.w-t.w,h:t.h}),a.a=e.a,i.a=e.a,[a,i]}packBlockInAvailableAreas(e){let t=!1,a=this.availableHeap.findIndex((t=>t.w>=e.w&&t.h>=e.h));if(a>-1){let i=this.availableHeap[a],s={w:e.w,h:e.h,x:i.x,y:i.y,a:i.a,id:e.id,rotated:e.rotated,model:e.model};this.packedBlocks.push(s);let o=this.splitRemainingHeap(i,e);this.availableHeap.splice(a,1,o[0],o[1]),this.sortHeapForPacking(),t=!0}return t}trimEmptyPackAreas(){this.packAreaDefinitions=this.packAreaDefinitions.filter((e=>this.packedBlocks.filter((t=>t.a==e.a)).length>0));let e=this.packAreaDefinitions.map((e=>e.a));this.availableHeap=this.availableHeap.filter((t=>e.includes(t.a)))}packBlock(e){this.packAreaDefinitions.length<1&&this.addPackArea();let t=this.packBlockInAvailableAreas(e);return!t&&this.canGrowPackArea&&(this.growPackArea(e.w+1,e.h+1),t=this.packBlockInAvailableAreas(e)),!t&&this.canAddPackAreas&&(this.addPackArea(),t=this.packBlockInAvailableAreas(e)),t||this.trimEmptyPackAreas(),t}}class d{trimModelToLine(e,t,a=!0,i=!0,o=5,n=!0,r=!0){const l=.2;r&&(e=s().model.clone(e));let h,d,c,p,g,u,m=s().measure.modelExtents(e);if(console.log("Cutting"),i?(h=new(s().paths.Line)([m.low[0]+t+(a?-o:o),m.low[1]-m.height*l],[m.low[0]+t+(a?-o:o),m.high[1]+m.height*l]),c=(a?m.width-t:t)+2*o,p=a?m.low[0]+t-o:m.low[0]-o,g=m.height+2*o,u=m.low[1]-o):(h=new(s().paths.Line)([m.low[0]-m.width*l,m.low[1]+t+(a?-o:o)],[m.high[0]+m.width*l,m.low[1]+t+(a?-o:o)]),c=m.width+2*o,p=m.low[0]-o,g=(a?m.height-t:t)+2*o,u=a?m.low[0]+t-o:m.low[0]-o),d=s().model.move(new(s().models.Rectangle)(c,g),[p,u]),console.log(m,p,c,u,d,g),s().model.walk(e,{onPath:e=>{let t=s().path.intersection(e.pathContext,h);t&&t.intersectionPoints.forEach((t=>{let a=s().path.breakAtPoint(e.pathContext,t);s().model.addPath(e.modelContext,a)}))}}),s().model.walk(e,{onPath:e=>{s().model.isPathInsideModel(e.pathContext,d,e.offset)||delete e.modelContext.paths[e.pathId]}}),n){let a;a=i?new(s().paths.Line)([m.low[0]+t,m.low[1]-3],[m.low[0]+t,m.high[1]+3]):new(s().paths.Line)([m.low[0]-3,m.low[1]+t],[m.high[0]+3,m.low[1]+t]),s().path.layer(a,"patternJoinLine"),s().model.addPath(e,a)}return e}splitModel(e,t=.5,a=!0){let i=s().measure.modelExtents(e),o=a?t*i.width:t*i.height;return{models:{a:this.trimModelToLine(e,o,!0,a),b:this.trimModelToLine(e,o,!1,a)}}}}class c{constructor(e){let t=Object.assign({pageSize:{x:1e3,y:1e3},pageSizeGrowLimit:{x:-1,y:-1},canAddPages:!0,canGrowPageSize:!1,allowRotation:!0,allowSplitting:!0,maxSplitIterations:1},e);this.pageSize=t.pageSize,this.pageSizeGrowLimit=t.pageSizeGrowLimit,this.canAddPages=t.canAddPages,this.canGrowPageSize=t.canGrowPageSize,this.allowRotation=t.allowRotation,this.allowSplitting=t.allowSplitting}createModelBlock(e,t){let a=s().measure.modelExtents(e);return{id:t,model:e,w:a.width,h:a.height,rotated:!1,splitCount:0}}packModels(e){let t=[],a=e.reduce(((e,a,i)=>{let s=this.createModelBlock(a,i);return s.w&&s.h?e.push(s):t.push(s),e}),[]),i=new h({defaultPackAreaHeight:this.pageSize.y,defaultPackAreaWidth:this.pageSize.x,growLimitHeight:this.pageSizeGrowLimit.y,growLimitWidth:this.pageSizeGrowLimit.x,canGrowPackArea:this.canGrowPageSize,canAddPackAreas:this.canAddPages});function o(e){let t=e.w;e.w=e.h,e.h=t,e.rotated=!e.rotated}console.log("HEAP PACKER",i);let n=[],r=[];if(a.forEach((e=>{i.packBlock(e)?r.push(e):n.push(e)})),a=n,this.allowRotation&&(a.forEach((e=>{o(e)})),n=[],a.forEach((e=>{i.packBlock(e)?r.push(e):n.push(e)})),a=n,a.forEach((e=>{e=o(e)}))),this.allowSplitting){let e=[],t=new d,s=a.reduce(((e,t)=>Math.max(e,t.id)),0)+1;a=a.reduce(((a,i)=>{let o=!0;if(i.split&&0==i.split.ifNeeded&&(o=!1),o){let o=.5;i.split&&i.split.splitAtPct&&(o=i.split.splitAtPct);let n=!1;i.split&&"y"==i.split.axis&&(n=!0);let r=t.splitModel(i.model,o,n);r?(a.push(this.createModelBlock(r.models.a,s++)),a.push(this.createModelBlock(r.models.b,s++))):e.push(i)}else e.push(i);return a}),[]),n=[],a.forEach((e=>{i.packBlock(e)?r.push(e):n.push(e)})),this.allowRotation&&(a=n,a.forEach((e=>{o(e)})),n=[],a.forEach((e=>{i.packBlock(e)?r.push(e):n.push(e)}))),n=n.concat(e)}return n=n.concat(t),i.trimEmptyPackAreas(),{packedPages:i.packedAreas().map((e=>{let t={models:{},pages:{},origin:[0,0]};return e.blocks.forEach((e=>{e.rotated&&s().model.rotate(e.model,90);let a=s().measure.modelExtents(e.model).low;s().model.addModel(t,s().model.move(e.model,s().point.subtract([e.x,e.y],a))),e.model.caption&&s().path.move(e.model.caption.anchor,[e.x,e.y])})),t})),unpackedModels:n.map((e=>e.model))}}}var p=a(3125),g=a.n(p),u=a(7152),m=a.n(u);function w(e){return 72*e/25.4}class P{constructor(){this.renderInProgress=!1}getRenderInProgress(){return this.renderInProgress}scaleModelToPDFPPI(e){var t=1;return t=s().units.conversionScale("mm",s().unitType.Inch),t*=72,s().model.scale(s().model.clone(e),t)}renderModelToSVG(e,t){let a={styleSet:{stitch:{stroke:"red",strokeWidth:"1",cssStyle:"stroke-dasharray: 5, 5"},center:{stroke:"green",strokeWidth:"1",cssStyle:"stroke-dasharray: 5, 5, 12, 5"},hint:{stroke:"blue",strokeWidth:"1",cssStyle:"stroke-dasharray: 2, 8"}}};return Object.assign(a,t),e.units=s().unitType.Millimeter,s().exporter.toSVG(e,{useSvgPathOnly:!1,units:"mm",layerOptions:a.styleSet})}renderPageModelsToSVG(e,t){let a=e.map((e=>this.renderModelToSVG(e,t)));return Promise.resolve(a)}modelToPDF(e,t,a,i){i||(i={}),i.base||(i.base={strokeWidth:1,strokeColor:"#000"});let o=this.scaleModelToPDFPPI(t),n=s().measure.modelExtents(o),r=s().exporter.toSVGPathData(o,{origin:[w(a.left),n.high[1]+w(a.top)],byLayers:!0});for(const[t,a]of Object.entries(r)){e.save(),e.path(a);let s=i[t&&""!=t?t:"base"];s||(s=i.base),s&&(s.strokeWidth&&e.lineWidth(s.strokeWidth),s.dashed?e.dash(s.dashed[0],s.dashed[1]):e.undash(),s.strokeColor&&e.stroke(s.strokeColor)),e.restore()}s().model.getAllCaptionsOffset(o).forEach((t=>{console.log("Processing",t),e.text(t.text,n.low[0]+w(a.left)+t.anchor.origin[0],n.high[1]+w(a.top)-t.anchor.origin[1]-(t.anchor.end[1]-t.anchor.origin[1])/2,{baseline:"top"}),console.log("Processing",t,n,w(a.top),n.low[0]+w(a.left)+t.anchor.origin[0],n.high[1]+w(a.top)-t.anchor.origin[1])}))}renderPageModelsToPDF(e,t){let a={styleSet:{base:{strokeWidth:"1",strokeColor:"#000"},center:{strokeWidth:"1",dashed:[10,20],strokeColor:"#0F0"},hint:{strokeWidth:"1",dashed:[5,5],strokeColor:"#00F"},stitch:{strokeWidth:"1",dashed:[2,10],strokeColor:"#F000"},patternJoinLine:{strokeWidth:"1",dashed:[2,10],strokeColor:"#b2c"}},pageMargins:5,units:"mm",layout:"portrait",pageSize:"A4"};if(Object.assign(a,t),!a.pageSize)throw"Page size must be specified for PDF rendering, try A4";a.pageMargins&&"object"!=typeof a.pageMargins&&(a.pageMargins={left:a.pageMargins,right:a.pageMargins,top:a.pageMargins,bottom:a.pageMargins});let i={layout:a.layout,size:"string"==typeof a.pageSize?a.pageSize:[w(a.pageSize.x),w(a.pageSize.y)]};console.log("PDF Setup",i);let s=new(g())({autoFirstPage:!1}),o=s.pipe(m()());return e.forEach((e=>{s.addPage(i),this.modelToPDF(s,e,a.pageMargins,a.styleSet)})),s.end(),new Promise((function(e,t){o.on("finish",(function(){const t=o.toBlob("application/pdf");e(function(e){const t=new FileReader;return t.readAsDataURL(e),new Promise((e=>{t.onloadend=()=>{e(t.result)}}))}(t))})),o.on("error",(function(){t()}))}))}renderCode(e,t,a){this.renderInProgress=!0;let i={format:"SVG",pageSize:{x:1e3,y:1e3},packToPages:!1,canAddPages:!0,canGrowPageSize:!1,pageMargins:10,allowSplitting:!0,allowRotation:!0};Object.assign(i,t),i.pageMargins&&"object"!=typeof i.pageMargins&&(i.pageMargins={left:i.pageMargins,right:i.pageMargins,top:i.pageMargins,bottom:i.pageMargins});let o=function(e,t){let a=new Function("console","makerjs","MakerJs","userParameters","utils",e);a.prototype.models={};let i=new l,o=new a(console,s(),s(),t,i),n=null;if(o)if(n={},o.userParameters&&(n.userParameters=o.userParameters),o.styleSet&&(n.styleSet=o.styleSet),o.log&&(n.log=o.log),o.models&&"legacy"!=o.models){let e=[];e=Object.keys(o.models).map((e=>o.models[e])),n.output=e}else if(o&&Object.keys(o).length>0){let e=[];e=Object.keys(o).filter((e=>!["userParameters","styleSet","models","log","instructions","bom","notes"].includes(e))).map((e=>o[e])),n.output=e}return console,n}(e,Object.assign({},t.userParameters)).output;if(Array.isArray(o)&&o.length>0){let e=new c({pageSize:{x:Math.max(i.pageSize.x-(i.pageMargins.left+i.pageMargins.right),0),y:Math.max(i.pageSize.y-(i.pageMargins.top+i.pageMargins.bottom),0)},pageSizeGrowLimit:{x:-1,y:-1},canAddPages:i.canAddPages,canGrowPageSize:i.canGrowPageSize,allowRotation:i.allowRotation,allowSplitting:i.allowSplitting}).packModels(o);console.log("Packing Result",e);let s=[];"SVG"==i.format?s=this.renderPageModelsToSVG(e.packedPages,i):"PDF"==i.format&&(s=this.renderPageModelsToPDF(e.packedPages,i)),s.then((s=>{Array.isArray(s)||(s=[s]),a({type:"renderResponse",contentType:i.format,renderFor:t.renderFor,successContent:s,errorContent:e.unpackedModels,logMessages:[]})}))}else a({type:"renderResponse",contentType:i.format,renderFor:t.renderFor,successContent:[],errorContent:[],logMessages:[]});this.renderInProgress=!1}reset(){}}self.onmessage=({data:e})=>{let t=new P;"renderRequest"==e.type&&t.renderCode(e.code,e.options,(e=>{self.postMessage(e)}))}},9862:()=>{},964:()=>{}},i={};function s(e){var t=i[e];if(void 0!==t)return t.exports;var o=i[e]={exports:{}};return a[e](o,o.exports,s),o.exports}s.m=a,s.x=()=>{var e=s.O(void 0,[8],(()=>s(7464)));return s.O(e)},e=[],s.O=(t,a,i,o)=>{if(!a){var n=1/0;for(d=0;d<e.length;d++){for(var[a,i,o]=e[d],r=!0,l=0;l<a.length;l++)(!1&o||n>=o)&&Object.keys(s.O).every((e=>s.O[e](a[l])))?a.splice(l--,1):(r=!1,o<n&&(n=o));if(r){e.splice(d--,1);var h=i();void 0!==h&&(t=h)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[a,i,o]},s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},s.f={},s.e=e=>Promise.all(Object.keys(s.f).reduce(((t,a)=>(s.f[a](e,t),t)),[])),s.u=e=>e+".bundle.js",s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;s.g.importScripts&&(e=s.g.location+"");var t=s.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var a=t.getElementsByTagName("script");a.length&&(e=a[a.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),s.p=e})(),(()=>{var e={825:1};s.f.i=(t,a)=>{e[t]||importScripts(s.p+s.u(t))};var t=self.webpackChunk=self.webpackChunk||[],a=t.push.bind(t);t.push=t=>{var[i,o,n]=t;for(var r in o)s.o(o,r)&&(s.m[r]=o[r]);for(n&&n(s);i.length;)e[i.pop()]=1;a(t)}})(),t=s.x,s.x=()=>s.e(8).then(t),s.x()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEdBQ2RVLEVBQVMxWCxRQUNkbWEsRUFBZ0J6QyxFQUFTK0MsT0FBUyxFQUNuQ0osRUFBMkIxRCxLLEdsQm5CeEIxWCxFQUFPK1gsRUFBb0JyTixFQUMvQnFOLEVBQW9Cck4sRUFBSSxJQUNoQnFOLEVBQW9Cck0sRUFBRSxHQUFHcUwsS0FBSy9XLEdtQkRaK1gsRUFBb0JyTixLIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9jaHVuayBsb2FkZWQiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9zdGFydHVwIGNodW5rIGRlcGVuZGVuY2llcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvcmVuZGVyZW5naW5lL2NvZGVydW5uZXIvZW1wdHltb2RlbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvcmVuZGVyZW5naW5lL2NvZGVydW5uZXIvY29kZXJ1bm5lcnV0aWxzLmpzIiwid2VicGFjazovLy8uL3NyYy9qcy9yZW5kZXJlbmdpbmUvaGVhcHBhY2tlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvcmVuZGVyZW5naW5lL21vZGVsc3BsaXR0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL3JlbmRlcmVuZ2luZS9tb2RlbHBhY2tlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvcmVuZGVyZW5naW5lL3JlbmRlcmVuZ2luZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvcmVuZGVyZW5naW5lL2NvZGVydW5uZXIvY29kZXJ1bm5lci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanMvcmVuZGVyZW5naW5lL3JlbmRlcndvcmtlci5qcyIsIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9lbnN1cmUgY2h1bmsiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9nZXQgamF2YXNjcmlwdCBjaHVuayBmaWxlbmFtZSIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9pbXBvcnRTY3JpcHRzIGNodW5rIGxvYWRpbmciLCJ3ZWJwYWNrOi8vL3dlYnBhY2svc3RhcnR1cCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZGVmZXJyZWQgPSBbXTtcbl9fd2VicGFja19yZXF1aXJlX18uTyA9IChyZXN1bHQsIGNodW5rSWRzLCBmbiwgcHJpb3JpdHkpID0+IHtcblx0aWYoY2h1bmtJZHMpIHtcblx0XHRwcmlvcml0eSA9IHByaW9yaXR5IHx8IDA7XG5cdFx0Zm9yKHZhciBpID0gZGVmZXJyZWQubGVuZ3RoOyBpID4gMCAmJiBkZWZlcnJlZFtpIC0gMV1bMl0gPiBwcmlvcml0eTsgaS0tKSBkZWZlcnJlZFtpXSA9IGRlZmVycmVkW2kgLSAxXTtcblx0XHRkZWZlcnJlZFtpXSA9IFtjaHVua0lkcywgZm4sIHByaW9yaXR5XTtcblx0XHRyZXR1cm47XG5cdH1cblx0dmFyIG5vdEZ1bGZpbGxlZCA9IEluZmluaXR5O1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IGRlZmVycmVkLmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIFtjaHVua0lkcywgZm4sIHByaW9yaXR5XSA9IGRlZmVycmVkW2ldO1xuXHRcdHZhciBmdWxmaWxsZWQgPSB0cnVlO1xuXHRcdGZvciAodmFyIGogPSAwOyBqIDwgY2h1bmtJZHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdGlmICgocHJpb3JpdHkgJiAxID09PSAwIHx8IG5vdEZ1bGZpbGxlZCA+PSBwcmlvcml0eSkgJiYgT2JqZWN0LmtleXMoX193ZWJwYWNrX3JlcXVpcmVfXy5PKS5ldmVyeSgoa2V5KSA9PiAoX193ZWJwYWNrX3JlcXVpcmVfXy5PW2tleV0oY2h1bmtJZHNbal0pKSkpIHtcblx0XHRcdFx0Y2h1bmtJZHMuc3BsaWNlKGotLSwgMSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRmdWxmaWxsZWQgPSBmYWxzZTtcblx0XHRcdFx0aWYocHJpb3JpdHkgPCBub3RGdWxmaWxsZWQpIG5vdEZ1bGZpbGxlZCA9IHByaW9yaXR5O1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZihmdWxmaWxsZWQpIHtcblx0XHRcdGRlZmVycmVkLnNwbGljZShpLS0sIDEpXG5cdFx0XHR2YXIgciA9IGZuKCk7XG5cdFx0XHRpZiAociAhPT0gdW5kZWZpbmVkKSByZXN1bHQgPSByO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gcmVzdWx0O1xufTsiLCJ2YXIgbmV4dCA9IF9fd2VicGFja19yZXF1aXJlX18ueDtcbl9fd2VicGFja19yZXF1aXJlX18ueCA9ICgpID0+IHtcblx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18uZSg4KS50aGVuKG5leHQpO1xufTsiLCJleHBvcnQgY2xhc3MgRW1wdHlNb2RlbCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMucGF0aHMgPSB7fTtcbiAgICB0aGlzLm1vZGVscyA9IHt9O1xuICAgIHRoaXMudW5pdHMgPSAnbW0nO1xuICB9XG59XG4iLCJpbXBvcnQgbWFrZXJqcyBmcm9tICdtYWtlcmpzJztcbmltcG9ydCB7RW1wdHlNb2RlbH0gZnJvbSAnLi9lbXB0eW1vZGVsLmpzJztcbi8qKlxuICogQSBhcnJheSBvZiAyIGl0ZW1zIFt4LHldXG4gKiBAdHlwZWRlZiB7QXJyYXkuPG51bWJlcixudW1iZXI+fSBQb2ludFxuICovXG5cblxuXG4vKipcbiAqIENyZWF0ZXMgYSBtb2RlbCBmcm9tIGEgc2VyaWVzIG9mIHBvaW50cywgZmlsbGV0aW5nIGNvcm5lcnMgd2l0aCB0aGUgc3VwcGxpZWQgcmFkaWlcbiAqL1xuY2xhc3MgRmlsbGV0ZWRQYXRoTW9kZWwgZXh0ZW5kcyBFbXB0eU1vZGVse1xuLyoqXG4gKiBDcmVhdGUgdGhlIG1vZGVsXG4gKiBAcGFyYW0ge1BvaW50fSBwYXRoUG9pbnRzIC0gVGhlIHNlcmllcyBvZiBhYnNvbHV0ZSBwb2ludHMgdGhhdCByZXByZXNlbnQgdGhlIGNvcm5lcnMgb2YgdGhlIHNoYXBlXG4gKiBAcGFyYW0ge1BvaW50fSBmaWxsZXRSYWRpaSAtIFRoZSByYWRpaSB0byB1c2UgZm9yIGVhY2ggY29ybmVyIChzdGFydGluZyBhdCAwIGZvciB0aGUgZmlyc3QgMiBwb2ludHMgaW4gUGF0aFBvaW50cyksIGFueSB1bnN1cHBsaWVkIHBvaW50cyB3aWxsIGJlIDAgKG5vIGZpbGxldClcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Nsb3NlZD1mYWxzZV0gLSBDbG9zZSB0aGUgbW9kZWwgdXNpbmcgdGhlIGZpcnN0IGFuZCBsYXN0IHBvaW50c1xuICogQHJldHVybiB7TW9kZWx9IFRoZSBtb2RlbFxuICovXG4gIGNvbnN0cnVjdG9yKHBhdGhQb2ludHMsZmlsbGV0UmFkaWksY2xvc2VkID0gZmFsc2UpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgLy9pZiBhZGRUb01vZGVsIGlzIG51bGwgdGhlbiBjcmVhdGUgYW4gZW1wdHkgbW9kZWxzXG4gICAgLy9jcmVhdGUgZWFjaCBwYXRoIGFuIGFkZCB0byBhbiBhcnJheVxuICAgIC8vQ29uZGVuc2UgdGhlIHBhdGhQb2ludHMgaW50byBwYWlyc1xuICAgIGxldCBwYXRoUGFpcnMgPSBbXTtcbiAgICBpZiAoY2xvc2VkKSB7XG4gICAgICAvL0FkZCB0aGUgbGFzdCBwb2ludCBiYWNrIGluIGF0IHRoZSBlbmQgdG8gY2xvc2UgdGhlIGxvb3BcbiAgICAgIHBhdGhQb2ludHMucHVzaChwYXRoUG9pbnRzWzBdKTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gcGF0aFBvaW50cy5sZW5ndGgtMjsgaSsrICkge1xuICAgICAgcGF0aFBhaXJzLnB1c2goW3BhdGhQb2ludHNbaV0scGF0aFBvaW50c1tpKzFdXSk7XG4gICAgfVxuXG4gICAgbGV0IHBhdGhzID0gcGF0aFBhaXJzLm1hcCgocGF0aFBhaXIpID0+IHtcbiAgICAgIHJldHVybiBuZXcgbWFrZXJqcy5wYXRocy5MaW5lKHBhdGhQYWlyWzBdLHBhdGhQYWlyWzFdKTtcbiAgICB9KTtcblxuICAgIC8vU3RlcCB0aHJvdWdoIHRoZSBmaWxsZXQgcmFkaWkgdG8gYXBwbHkgZmlsbGV0cyB3aGVyZSBuZWVkZWRcbiAgICBsZXQgYXJjcyA9IFtdO1xuICAgIGZpbGxldFJhZGlpLmZvckVhY2goKGZpbGxldFJhZGl1cyxpbmRleCkgPT4ge1xuICAgICAgaWYgKGZpbGxldFJhZGl1cykge1xuICAgICAgICBhcmNzLnB1c2gobWFrZXJqcy5wYXRoLmZpbGxldChcbiAgICAgICAgICBwYXRoc1tpbmRleF0sXG4gICAgICAgICAgcGF0aHNbKCgoaW5kZXgrMSk+PXBhdGhzLmxlbmd0aCk/MDppbmRleCsxKV0sXG4gICAgICAgICAgZmlsbGV0UmFkaXVzXG4gICAgICAgICkpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcGF0aHMuY29uY2F0KGFyY3MpLmZvckVhY2goKGFkZFBhdGgsaW5kZXgpID0+IHtcbiAgICAgIG1ha2VyanMucGF0aC5hZGRUbyhhZGRQYXRoLHRoaXMsaW5kZXgpO1xuICAgIH0pO1xuICB9XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG1vZGVsIHdpdGggYSBzZXJpZXMgb2YgbGluZXMgYXQgZ2l2ZW4gYXJyYXkgb2YgaW50ZXJ2YWxzXG4gKi9cbmNsYXNzIE9mZnNldExpbmVzQXRJbnRlcnZhbHMgZXh0ZW5kcyBFbXB0eU1vZGVsIHtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIHNlcmllcyBvZiBsaW5lcyBhdCBnaXZlbiBhcnJheSBvZiBpbnRlcnZhbHNcbiAgICogQHBhcmFtIHtQb2ludH0gYmFzZUxpbmVTdGFydCAtIFN0YXJ0IHBvaW50IG9mIHRoZSBiYXNlIGxpbmVcbiAgICogQHBhcmFtIHtQb2ludH0gYmFzZUxpbmVFbmQgLSBFbmQgcG9pbnQgb2YgdGhlIGJhc2UgbGluZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbaW50ZXJ2YWxzPVtdXSAgLSBBcnJheSBvZiBudW1iZXIgb2Zmc2V0cyBmb3IgdGhlIGxpbmVzXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3JlbGF0aXZlSW50ZXJ2YWxzPXRydWVdIC0gSWYgdHJ1ZSBpbnRlcnZhbHMgYXJlIGludGVycHJldGVkIGFzIHJlbGF0aXZlIHRvIHRoZSBwcmV2aW91cyBpbnRlcnZhbFxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2xpbmVMYXllcj1udWxsXSAgLSBUaGUgbGF5ZXIgdG8gc2V0IHRoZSBsaW5lcyB0b1xuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmbGlwUG9zaXRpdmVEaXJlY3Rpb249dHJ1ZV0gIC0gRkxpcCB0aGUgZGlyZWN0aW9uIG9mIHBvc2l0aXZlIG9mZnNldHMgcmVsYXRpdmUgdG8gdGhlIGJhc2VsaW5lIChlLmcuIGdvIGxlZnQgb3IgZ28gcmlnaHQgb2YgdGhlIGxpbmUpXG4gICAqIEByZXR1cm4ge01vZGVsfSAtIFRoZSBNb2RlbFxuICAgKi9cbiAgY29uc3RydWN0b3IoYmFzZUxpbmVTdGFydCxiYXNlTGluZUVuZCxpbnRlcnZhbHMgPSBbXSxyZWxhdGl2ZUludGVydmFscyA9IHRydWUsbGluZUxheWVyID0gbnVsbCxmbGlwUG9zaXRpdmVEaXJlY3Rpb24gPSBmYWxzZSkge1xuICAgIHN1cGVyKCk7XG4gICAgLy9DYWxjdWxhdGUgdGhlIGFuZ2xlIG9mIHRoZSBiYXNlTGluZUVuZFxuICAgIGxldCBiYXNlTGluZUFuZ2xlID0gbWFrZXJqcy5hbmdsZS5vZlBvaW50SW5EZWdyZWVzKGJhc2VMaW5lU3RhcnQsYmFzZUxpbmVFbmQpXG4gICAgbGV0IGV4dGVuc2lvbkxpbmVBbmdsZSA9IGJhc2VMaW5lQW5nbGUgKzkwO1xuICAgIGxldCBjdW11bGF0aXZlRXh0ZW5zaW9uID0gMDtcbiAgICBpbnRlcnZhbHMgPSBBcnJheS5pc0FycmF5KGludGVydmFscyk/aW50ZXJ2YWxzOltpbnRlcnZhbHNdO1xuICAgIGludGVydmFscy5mb3JFYWNoKGludGVydmFsRGlzdCA9PiB7XG4gICAgICBsZXQgb2Zmc2V0TGluZTtcbiAgICAgIGlmIChyZWxhdGl2ZUludGVydmFscykge1xuICAgICAgICBjdW11bGF0aXZlRXh0ZW5zaW9uICs9IGludGVydmFsRGlzdDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGN1bXVsYXRpdmVFeHRlbnNpb24gPSBpbnRlcnZhbERpc3Q7XG4gICAgICB9XG5cbiAgICAgIGlmIChjdW11bGF0aXZlRXh0ZW5zaW9uID09IDApIHtcbiAgICAgICAgb2Zmc2V0TGluZSA9IG5ldyBtYWtlcmpzLnBhdGhzLkxpbmUoYmFzZUxpbmVTdGFydCxiYXNlTGluZUVuZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgZGlzdFBvaW50ID0gbWFrZXJqcy5wb2ludC5mcm9tUG9sYXIobWFrZXJqcy5hbmdsZS50b1JhZGlhbnMoZXh0ZW5zaW9uTGluZUFuZ2xlKSxjdW11bGF0aXZlRXh0ZW5zaW9uKTtcbiAgICAgICAgb2Zmc2V0TGluZSA9IG5ldyBtYWtlcmpzLnBhdGhzLkxpbmUoXG4gICAgICAgICAgbWFrZXJqcy5wb2ludC5hZGQoYmFzZUxpbmVTdGFydCxkaXN0UG9pbnQpLFxuICAgICAgICAgIG1ha2VyanMucG9pbnQuYWRkKGJhc2VMaW5lRW5kLGRpc3RQb2ludClcbiAgICAgICAgKVxuICAgICAgICAvLyBjb25zb2xlLmxvZygnb2Zmc2V0UG9pbnQnLGRpc3RQb2ludCxvZmZzZXRMaW5lKVxuICAgICAgfVxuXG4gICAgICBpZiAobGluZUxheWVyKSB7XG4gICAgICAgIG1ha2VyanMucGF0aC5sYXllcihvZmZzZXRMaW5lLGxpbmVMYXllcik7XG4gICAgICB9XG5cbiAgICAgIG1ha2VyanMubW9kZWwuYWRkUGF0aCh0aGlzLG9mZnNldExpbmUpO1xuICAgIH0pXG4gIH1cbn1cblxuXG5leHBvcnQgY2xhc3MgQ29kZVJ1bm5lclV0aWxzIHtcblxuXG4vLyBleHBvcnQgdmFyIENvZGVSdW5uZXJVdGlscyA9IGZ1bmN0aW9uKCl7XG4gIEVtcHR5TW9kZWwgPSBFbXB0eU1vZGVsO1xuICBGaWxsZXRlZFBhdGhNb2RlbCA9IEZpbGxldGVkUGF0aE1vZGVsO1xuICBPZmZzZXRMaW5lc0F0SW50ZXJ2YWxzID0gT2Zmc2V0TGluZXNBdEludGVydmFscztcblxuICAvKipcbiAgICAqIFRoZSBGaWxsZXRlZFBhdGhNb2RlbCBjbGFzcyBhY2Nlc3NvclxuICAgICogQHBhcmFtIHtQb2ludH0gZnJvbVBvaW50IC0gVGhlIHBvaW50IHRvIHN0YXJ0IGZyb21cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBsZW5ndGggLSBUaGUgbGVuZ3RoIG9mIHRoZSBsaW5lXG4gICAgKiBAcGFyYW0ge251bWJlcn0gYW5nbGVJbkRlZ3JlZXMgVGhlIGFic29sdXRlIGFuZ2xlIGluIGRlZ3JlZXMgdG8gZHJhdyB0aGUgbGluZVxuICAgICogQHJldHVybiB7TGluZX0gQSBMaW5lIHBhdGhcbiAgICAqL1xuICBsaW5lRnJvbVBvaW50QXRBbmdsZShmcm9tUG9pbnQsbGVuZ3RoLGFuZ2xlSW5EZWdyZWVzKSB7XG4gICAgbGV0IGFuZ2xlSW5SYWRpYW5zID0gbWFrZXJqcy5hbmdsZS50b1JhZGlhbnMoYW5nbGVJbkRlZ3JlZXMpO1xuICAgIGxldCB0b1BvaW50ID0gbWFrZXJqcy5wb2ludC5hZGQoZnJvbVBvaW50LG1ha2VyanMucG9pbnQuZnJvbVBvbGFyKGFuZ2xlSW5SYWRpYW5zLGxlbmd0aCkpO1xuICAgIHJldHVybiBuZXcgbWFrZXJqcy5wYXRocy5MaW5lKGZyb21Qb2ludCx0b1BvaW50KTtcbiAgfTtcbiAgLyoqXG4gICAgKiBFbmFibGUgYXV0byBzcGxpdHRpbmcgb24gdGhlIG1vZGVsIGlmIG5lZWRlZCBieSB0aGUgbW9kZWwgcGFja2VyIHdoZW4gcmVuZGVyaW5nXG4gICAgKiBAcGFyYW0ge01vZGVsfSBtb2RlbFRvU2V0IC0gVGhlIG1vZGVsIHRvIGVuYWJsZSBzcGxpdHRpbmcgZm9yXG4gICAgKi9cbiAgZW5hYmxlU3BsaXR0aW5nKG1vZGVsVG9TZXQpIHtcbiAgICBtb2RlbFRvU2V0LnNwbGl0ID0ge1xuICAgICAgaWZOZWVkZWQ6IHRydWUsXG4gICAgICBheGlzOiAnYXV0bydcbiAgICB9XG4gIH07XG4gIC8qKlxuICAgICogQ2FwdGlvbiB0aGUgbW9kZWwgd2l0aCB0aGUgc3VwcGxpZWQgdGV4dCB1c2luZyBhIGRpYWdvbmFsIHRocm91Z2ggdGhlIGNlbnRlciwgZWRpdHMgdGhlIG1vZGVsIGluLXBsYWNlXG4gICAgKiBAcGFyYW0ge01vZGVsfSBtb2RlbFRvQ2FwdGlvbiAtIFRoZSBtb2RlbCB0byBjYXB0aW9uXG4gICAgKiBAcGFyYW0ge3N0cmluZ30gY2FwdGlvbiAtIFRoZSB0ZXh0IHRvIHVzZSBmb3IgdGhlIGNhcHRpb25cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBbdGV4dEhlaWdodD0xMl0gLSAoSWdub3JlZClcbiAgICAqIEBwYXJhbSB7c3RyaW5nfSBbbG9jYXRpb249J2JvdHRvbSddIC0gKElnbm9yZWQpXG4gICAgKiBAcmV0dXJuIHtNb2RlbH0gLSBUaGUgbW9kZWwgY2FwdGlvbmVkXG4gICAgKi9cbiAgYXV0b0NhcHRpb25Nb2RlbChtb2RlbFRvQ2FwdGlvbixjYXB0aW9uLHRleHRIZWlnaHQgPSAxMixsb2NhdGlvbiA9ICdib3R0b20nKSB7XG4gICAgbGV0IG1vZGVsRXh0ZW50cyA9IG1ha2VyanMubWVhc3VyZS5tb2RlbEV4dGVudHMobW9kZWxUb0NhcHRpb24pO1xuICAgIG1ha2VyanMubW9kZWwuYWRkQ2FwdGlvbihcbiAgICAgIG1vZGVsVG9DYXB0aW9uLFxuICAgICAgY2FwdGlvbixcbiAgICAgIFttb2RlbEV4dGVudHMubG93WzBdLG1vZGVsRXh0ZW50cy5sb3dbMV1dLFxuICAgICAgW21vZGVsRXh0ZW50cy5oaWdoWzBdLG1vZGVsRXh0ZW50cy5oaWdoWzFdXSxcbiAgICApO1xuICAgIHJldHVybiBtb2RlbFRvQ2FwdGlvbjtcbiAgfTtcbiAgLyoqXG4gICAgKiBDbG9uZSBhIG1vZGVsIGFuZCBwbGFjZSBpdCBhdCBhIHJlbGF0aXZlIG9mZnNldCB0byB0aGUgb3JpZ2lhbmxcbiAgICAqIEBwYXJhbSB7TW9kZWx9IG1vZGVsVG9DYXB0aW9uIC0gVGhlIG1vZGVsIHRvIGNvcHlcbiAgICAqIEBwYXJhbSB7UG9pbnR9IFtvZmZzZXQ9WzAsMF1dIC0gdGhlIG9mZnNldCB0byBtb3ZlIHRoZSBtb2RlbCBieVxuICAgICogQHJldHVybiB7TW9kZWx9IC0gVGhlIGNsb25lZCBtb2RlbFxuICAgICovXG4gIGNsb25lQW5kT2Zmc2V0KG1vZGVsVG9DbG9uZSxvZmZzZXQgPSBbMCwwXSkge1xuICAgIHJldHVybiBtYWtlcmpzLm1vZGVsLm1vdmVSZWxhdGl2ZShtYWtlcmpzLm1vZGVsLmNsb25lKG1vZGVsVG9DbG9uZSksb2Zmc2V0KTtcbiAgfTtcbiAgLyoqXG4gICAgKiBQbGFjZSBhIHBvaW50IGEgZGlzdGFuY2UgYW5kIHBvbGFyIGFuZ2xlIGF3YXkgZnJvbSBhIHN0YXJ0aW5nIHBvaW50XG4gICAgKiBAcGFyYW0ge1BvaW50fSBmcm9tUG9pbnQgLSBUaGUgc3RhcnRpbmcgcG9pbnRcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBsZW5ndGggLSBUaGUgZGlzdGFuY2UgZnJvbSB0aGUgZnJvbVBvaW50XG4gICAgKiBAcGFyYW0ge251bWJlcn0gYW5nbGVJbkRlZ3JlZXMgLSBUaGUgYW5nbGUgdG8gcm90YXRlIHRoZSBwb2ludCBieVxuICAgICogQHJldHVybiB7UG9pbnR9IC0gVGhlIG5ldyBwb2ludFxuICAgICovXG4gIHBvaW50RnJvbVBvaW50QXRBbmdsZShmcm9tUG9pbnQsbGVuZ3RoLGFuZ2xlSW5EZWdyZWVzKSB7XG4gICAgbGV0IGFuZ2xlSW5SYWRpYW5zID0gbWFrZXJqcy5hbmdsZS50b1JhZGlhbnMoYW5nbGVJbkRlZ3JlZXMpO1xuICAgIGxldCB0b1BvaW50ID0gbWFrZXJqcy5wb2ludC5hZGQoZnJvbVBvaW50LG1ha2VyanMucG9pbnQuZnJvbVBvbGFyKGFuZ2xlSW5SYWRpYW5zLGxlbmd0aCkpO1xuICAgIHJldHVybiB0b1BvaW50O1xuICB9O1xuICAvKipcbiAgICAqIFBsYWNlIGEgcG9pbnQgYSBnaXZlbiBkaXN0YW5jZSBhbmQgcmVsYXRpdmUgYW5nbGUgZnJvbSBhIGdpdmVuIGxpbmUgKHRoZSBwb2ludCBpcyBwbGFjZWQgcmVsYXRpdmUgdG8gUDEpXG4gICAgKiBAcGFyYW0ge1BvaW50fSBwMSAtIFRoZSBiYXNlIHBvaW50IHRvIG1ha2UgdGhlIG5ldyBwb2ludCByZWxhdGl2ZSB0b1xuICAgICogQHBhcmFtIHtQb2ludH0gcDIgLSBUaGUgc2Vjb25kIHBvaW50IHRoYXQgZGVzY3JpYmVzIHRoZSBvdGhlciBlbmQgb2YgdGhlIGxpbmVcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBkaXN0YW5jZSAtIFRoZSBkaXN0YW5jZSBmcm9tIHRoZSBwMVxuICAgICogQHBhcmFtIHtPYmplY3R9IFtwYXJhbXNdIC0gUGFyYW1ldGVycyB0byB1c2UsXG4gICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtwYXJhbXMuY2xvY2t3aXNlPWZhbHNlXSAtIENsb2Nrd2lzZSBpcyB0aGUgZGlyZWN0aW9uIHRvIG1ha2UgdGhlIGFuZ2xlIHJlbGF0aXZlXG4gICAgKiBAcGFyYW0ge251bWJlcn0gW3BhcmFtcy5hbmdsZT05MF0gLSBhbmdsZSBpcyB0aGUgYW5nbGUgZnJvbSB0aGUgcmVmZXJlbmNlIGxpbmVcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSAgW3BhcmFtcy5pbnNldD0wXSAtIGluc2V0IGlzIGhvdyBmYXIgaW5zZXQgKHRvd2FyZHMgcDIpIHRoZSBiYXNlIHBvaW50IHNob3VsZCBiZVxuICAgICogQHJldHVybiB7UG9pbnR9IC0gVGhlIG5ldyBwb2ludFxuICAgICovXG4gIHBvaW50RnJvbVBvaW50TGluZUF0QW5nbGUocDEscDIsZGlzdGFuY2UscGFyYW1zKSB7XG5cbiAgICBwYXJhbXMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgIGNsb2Nrd2lzZTogZmFsc2UsXG4gICAgICBhbmdsZTogOTAsXG4gICAgICBpbnNldDogMFxuICAgIH0scGFyYW1zKTtcbiAgICAvL0dldCB0aGUgYW5nbGUgb2YgdGhlIHBvaW50c1xuICAgIGxldCBiYXNlQW5nbGUgPSBtYWtlcmpzLmFuZ2xlLm9mUG9pbnRJbkRlZ3JlZXMocDEscDIpO1xuXG4gICAgbGV0IHBvaW50QW5nbGUgPSBiYXNlQW5nbGUgLSAocGFyYW1zLmNsb2Nrd2lzZT9wYXJhbXMuYW5nbGU6LXBhcmFtcy5hbmdsZSk7XG4gICAgLy9jYW4ndCB1c2UgdXRpbHMgcG9pbnQgZnJvbSBwb2ludCBhdCBBbmdsZSBhcyB0aGlzIHNldHMgdGhlIGRpc3RhbmNlIG9mIHRoZSBsaW5lIC0gbm90IHRoZSBvZmZzZXRcbiAgICBsZXQgciA9IGRpc3RhbmNlO1xuICAgIGlmIChwYXJhbXMuYW5nbGUgPiAwKSB7XG4gICAgICByID0gZGlzdGFuY2UgLyAoTWF0aC5zaW4oTWF0aC5QSSAqIHBhcmFtcy5hbmdsZSAvIDE4MCkpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5wb2ludEZyb21Qb2ludEF0QW5nbGUocDEscixwb2ludEFuZ2xlKTtcbiAgfTtcbiAgLyoqXG4gICAgKiBSZXR1cm4gYSBwYWlyIG9mIHBvaW50cyB0aGF0IHJlcHJlc2VudCB3aGVyZSBUYWIgb2YgdGhlIHN1cHBsaWVkIHBhcmFtZXRlcnMgY29ybmVycyB3b3VsZCBiZVxuICAgICogQHBhcmFtIHtQb2ludH0gcDEgLSBUaGUgc3RhcnQgcG9pbnQgb2YgdGhlIGxpbmVcbiAgICAqIEBwYXJhbSB7UG9pbnR9IHAyIC0gVGhlIGVuZCBwb2ludCBvZiB0aGUgbGluZVxuICAgICogQHBhcmFtIHtPYmplY3R9IFtwYXJhbXNdIC0gUGFyYW1ldGVycyB0byB1c2UsXG4gICAgKiBAcGFyYW0ge251bWJlcn0gW3BhcmFtcy5kaXN0YW5jZT0wXSAtIFRoZSBvdXRzZXQgZGlzdGFuY2UgZm9yIHRoZSB0YWJcbiAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3BhcmFtcy5jbG9ja3dpc2U9ZmFsc2VdIC0gQ2xvY2t3aXNlIGlzIHRoZSBkaXJlY3Rpb24gdG8gbWFrZSB0aGUgYW5nbGUgcmVsYXRpdmVcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcGFyYW1zLmFuZ2xlPTkwXSAtIEFuZ2xlIG9mIHRoZSB0YWIgc2lkZXNcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcGFyYW1zLmJhc2VJbnNldD0wXSAtIEluc2V0IG9mIHRoZSB0YWIgZnJvbSB0aGUgZW5kIG9mIHRoZSBsaW5lXG4gICAgKiBAcGFyYW0ge251bWJlcn0gW3BhcmFtcy5iYXNlSW5zZXQyXSAtIElmIHN1cHBsaWVkLCBpcyBpbnNldCBmcm9tIHRoZSBvdGhlciBlbmQgb2YgdGhlIGxpbmUsIG90aGVyd2lzZSBpcyB0aGUgc2FtZSBhcyBfYmFzZUluc2V0X1xuICAgICogQHBhcmFtIHtudW1iZXJ9ICBbcGFyYW1zLmFuZ2xlMl0gLSBJZiBzdXBwbGllZCwgaXMgdGFrZW4gYXMgdGhlIGFuZ2xlIGZvciB0aGUgc2Vjb25kIHRhYiBzaWRlLCBvdGhlcndpc2UgaXMgdGhlIHNhbWUgYXMgX2FuZ2xlX1xuICAgICogQHJldHVybiB7UG9pbnRbXX0gLSAyIFBvaW50cyB0aGF0IGRlc2NyaWJlIHRoZSBhZGRlZCBUYWIgY29ybmVyc1xuICAgICovXG4gIHRhYlBvaW50c0Zyb21Qb2ludExpbmUocDEscDIscGFyYW1zKSB7XG4gICAgcGFyYW1zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICBkaXN0YW5jZTogMCxcbiAgICAgIGNsb2Nrd2lzZTogZmFsc2UsXG4gICAgICBhbmdsZTogOTAsXG4gICAgICBiYXNlSW5zZXQ6IDAsXG4gICAgICBiYXNlSW5zZXQyOiBudWxsLFxuICAgICAgYW5nbGUyOiBudWxsXG4gICAgfSxwYXJhbXMpO1xuXG4gIC8vIH0sY2xvY2t3aXNlPWZhbHNlLGFuZ2xlPTkwLGluc2V0PTAsYW5nbGUyID0gbnVsbCkge1xuXG4gICAgaWYgKHBhcmFtcy5kaXN0YW5jZSAhPSAwKSB7XG5cbiAgICAgIGxldCBwaTEgPSBwMS5zbGljZSgpO1xuICAgICAgbGV0IHBpMiA9IHAyLnNsaWNlKCk7XG5cbiAgICAgIGlmIChwYXJhbXMuYmFzZUluc2V0MiA9PSBudWxsKSBwYXJhbXMuYmFzZUluc2V0MiA9IHBhcmFtcy5iYXNlSW5zZXQ7XG5cbiAgICAgIGlmIChwYXJhbXMuYmFzZUluc2V0ID4gMCkge1xuICAgICAgICBwaTEgPSB0aGlzLnBvaW50RnJvbVBvaW50TGluZUF0QW5nbGUocDEscDIscGFyYW1zLmJhc2VJbnNldCx7Y2xvY2t3aXNlOiBwYXJhbXMuY2xvY2t3aXNlLGFuZ2xlOiAwfSk7XG4gICAgICB9XG5cblxuICAgICAgaWYgKHBhcmFtcy5iYXNlSW5zZXQyID4gMCkge1xuICAgICAgICBwaTIgPSB0aGlzLnBvaW50RnJvbVBvaW50TGluZUF0QW5nbGUocDIscDEscGFyYW1zLmJhc2VJbnNldDIse2Nsb2Nrd2lzZTogcGFyYW1zLmNsb2Nrd2lzZSxhbmdsZTogMH0pO1xuICAgICAgfVxuXG4gICAgICBsZXQgdGFiUDEgPSB0aGlzLnBvaW50RnJvbVBvaW50TGluZUF0QW5nbGUocGkxLHBpMixwYXJhbXMuZGlzdGFuY2Use1xuICAgICAgICBjbG9ja3dpc2U6IHBhcmFtcy5jbG9ja3dpc2UsXG4gICAgICAgIGFuZ2xlOiBwYXJhbXMuYW5nbGUsXG4gICAgICAgIGluc2V0OiBwYXJhbXMuaW5zZXRcbiAgICAgIH0pO1xuXG4gICAgICBpZiAocGFyYW1zLmFuZ2xlMiA9PSBudWxsKSBwYXJhbXMuYW5nbGUyID0gcGFyYW1zLmFuZ2xlO1xuXG4gICAgICBsZXQgdGFiUDIgPSB0aGlzLnBvaW50RnJvbVBvaW50TGluZUF0QW5nbGUocGkyLHBpMSxwYXJhbXMuZGlzdGFuY2Use1xuICAgICAgICBjbG9ja3dpc2U6IXBhcmFtcy5jbG9ja3dpc2UsXG4gICAgICAgIGFuZ2xlOnBhcmFtcy5hbmdsZTIsXG4gICAgICAgIGluc2V0OnBhcmFtcy5pbnNldFxuICAgICAgfSk7XG5cbiAgICAgIGxldCByZXN1bHQgPSBbXTtcbiAgICAgIGlmIChwYXJhbXMuYmFzZUluc2V0ID4gMCkge1xuICAgICAgICByZXN1bHQucHVzaChwaTEpO1xuICAgICAgfVxuICAgICAgcmVzdWx0LnB1c2godGFiUDEpXG4gICAgICByZXN1bHQucHVzaCh0YWJQMilcbiAgICAgIGlmIChwYXJhbXMuYmFzZUluc2V0MiA+IDApIHtcbiAgICAgICAgcmVzdWx0LnB1c2gocGkyKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFtwMSxwMl07XG4gICAgfVxuICB9XG4gIC8qKlxuICAgICogVHJlYXQgYSBwb2ludGxpbmUgYXMgcmVsYXRpdmUgcG9pbnRzIGZyb20gdGhlIGZpcnN0IHBvaW50IGFuZCBjb252ZXJ0IGVhY2ggcG9pbnQgdG8gYW4gYWJzb2x1dGUgcG9pbnRcbiAgICAqIEBwYXJhbSB7UG9pbnRbXX0gW3BvaW50c10gLSBQb2ludExpbmUgdG8gdXNlXG4gICAgKiBAcmV0dXJuIHtwb2ludFtdfSAtIFRoZSBwb2ludHMgY29udmVydGVkXG4gICAgKi9cbiAgcmVsYXRpdmVQb2ludExpc3RUb0Fic29sdXRlKHBvaW50cykge1xuICAgIGxldCBsYXN0UG9pbnQgPSBbMCwwXTtcbiAgICByZXR1cm4gcG9pbnRzLm1hcCgodGhpc1BvaW50KSA9PiB7XG4gICAgICAgIGxldCBhYnNQb2ludCA9IG1ha2VyanMucG9pbnQuYWRkKGxhc3RQb2ludCx0aGlzUG9pbnQpO1xuICAgICAgICBsYXN0UG9pbnQgPSBhYnNQb2ludDtcbiAgICAgICAgcmV0dXJuIGFic1BvaW50O1xuICAgIH0pO1xuXG4gIH1cblxuICAvKipcbiAgICAqIENvbnN0cnVjdCBhIHNpbXVsYXRlZCBlbmdsaXNoIHBvaW50IHNoYXBlLCB0byB0aGUgbGVmdCBvZiB0aGUgbGluZSBmcm9tLT50b1xuICAgICogQHBhcmFtIHtQb2ludH0gZnJvbSAtIFRoZSBmcm9tIHBvaW50XG4gICAgKiBAcGFyYW0ge1BvaW50fSB0byAtIFRoZSB0byBwb2ludFxuICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAtIFBhcmFtZXRlcnMgdG8gdXNlLFxuICAgICogQHBhcmFtIHtudW1iZXJ9IFtwYXJhbXMucmlzZXJQQ1Q9MS4yXSAtIFRoZSBleHRlbnNpb24gb2YgdGhlIHBvaW50IGZyb20gdGhlIGJhc2UgbGluZSBhcyBwZXJjZW50YWdlIChkZWNpbWFsKVxuICAgICogQHJldHVybiB7TW9kZWx9IC0gVGhlIGVuZ2xpc2ggcG9pbnQgYXJjIHBhdGhzXG4gICAgKi9cbiAgZHJhd0VuZ2xpc2hQb2ludChmcm9tLHRvLG9wdGlvbnMpIHtcblxuICAgIGxldCBvcHRzV2l0aERlZmF1bHRzID0gT2JqZWN0LmFzc2lnbih7fSx7XG4gICAgICByaXNlclBDVDogMS4yLFxuICAgIH0sb3B0aW9ucylcblxuICAgIC8vY2FsY3VsYXRlIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIHBvaW50c1xuICAgIGxldCByaXNlclBDVCA9IG9wdHNXaXRoRGVmYXVsdHMucmlzZXJQQ1Q7XG4gICAgbGV0IGJhc2VMZW5ndGggPSBtYWtlcmpzLm1lYXN1cmUucG9pbnREaXN0YW5jZShmcm9tLHRvKTtcbiAgICBsZXQgcmlzZXJIZWlnaHQgPSBiYXNlTGVuZ3RoICogcmlzZXJQQ1Q7XG5cbiAgICBsZXQgbGluZUFuZ2xlID0gbWFrZXJqcy5hbmdsZS5vZlBvaW50SW5EZWdyZWVzKGZyb20sdG8pO1xuXG4gICAgbGV0IG9yaWdpbkZyb20gPSB0aGlzLnBvaW50RnJvbVBvaW50QXRBbmdsZShmcm9tLHJpc2VySGVpZ2h0LGxpbmVBbmdsZSk7XG4gICAgbGV0IG9yaWdpblRvID0gdGhpcy5wb2ludEZyb21Qb2ludEF0QW5nbGUodG8scmlzZXJIZWlnaHQsMTgwK2xpbmVBbmdsZSk7XG5cblxuICAgIGxldCBtaWRQb2ludCA9IG1ha2VyanMucG9pbnQuYXZlcmFnZShmcm9tLHRvKTtcblxuICAgIGxldCBjaXJjbGVGcm9tID0gbmV3IG1ha2VyanMucGF0aHMuQ2lyY2xlKG9yaWdpbkZyb20scmlzZXJIZWlnaHQpO1xuICAgIGxldCBjaXJjbGVUbyA9IG5ldyBtYWtlcmpzLnBhdGhzLkNpcmNsZShvcmlnaW5UbyxyaXNlckhlaWdodCk7XG5cbiAgICBsZXQgaW50ZXJzZWN0aW9uID0gbWFrZXJqcy5wYXRoLmludGVyc2VjdGlvbihjaXJjbGVGcm9tLGNpcmNsZVRvKTtcbiAgICBsZXQgaW50ZXJzZWN0aW9uRGlzdGFuY2UgPSBtYWtlcmpzLm1lYXN1cmUucG9pbnREaXN0YW5jZShpbnRlcnNlY3Rpb24uaW50ZXJzZWN0aW9uUG9pbnRzWzBdLGludGVyc2VjdGlvbi5pbnRlcnNlY3Rpb25Qb2ludHNbMV0pO1xuXG4gICAgbGV0IG1pZFBvaW50VGlwID0gdGhpcy5wb2ludEZyb21Qb2ludEF0QW5nbGUobWlkUG9pbnQsaW50ZXJzZWN0aW9uRGlzdGFuY2UvMixsaW5lQW5nbGUrOTApO1xuXG4gICAgbGV0IG1pZFBvaW50QW5nbGVGcm9tID0gbWFrZXJqcy5hbmdsZS5vZlBvaW50SW5EZWdyZWVzKG9yaWdpbkZyb20sbWlkUG9pbnRUaXApO1xuICAgIGxldCBtaWRQb2ludEFuZ2xlVG8gPSBtYWtlcmpzLmFuZ2xlLm9mUG9pbnRJbkRlZ3JlZXMob3JpZ2luVG8sbWlkUG9pbnRUaXApO1xuXG5cbiAgICBsZXQgZW5nbGlzaFBvaW50ID0gbmV3IHRoaXMuRW1wdHlNb2RlbCgpO1xuXG4gICAgbWFrZXJqcy5tb2RlbC5hZGRQYXRoKFxuICAgICAgZW5nbGlzaFBvaW50LFxuICAgICAgbWFrZXJqcy5wYXRoLmxheWVyKG5ldyBtYWtlcmpzLnBhdGhzLkxpbmUobWlkUG9pbnQsbWlkUG9pbnRUaXApLCdzdGl0Y2gnKVxuICAgICk7XG5cblxuICAgIG1ha2VyanMubW9kZWwuYWRkUGF0aChcbiAgICAgIGVuZ2xpc2hQb2ludCxcbiAgICAgIG5ldyBtYWtlcmpzLnBhdGhzLkFyYyhvcmlnaW5Gcm9tLHJpc2VySGVpZ2h0LG1pZFBvaW50QW5nbGVGcm9tLGxpbmVBbmdsZSArIDE4MClcbiAgICApO1xuXG4gICAgbWFrZXJqcy5tb2RlbC5hZGRQYXRoKFxuICAgICAgZW5nbGlzaFBvaW50LFxuICAgICAgbmV3IG1ha2VyanMucGF0aHMuQXJjKG9yaWdpblRvLHJpc2VySGVpZ2h0LGxpbmVBbmdsZSxtaWRQb2ludEFuZ2xlVG8pXG4gICAgKTtcblxuXG5cblxuICAgIHJldHVybiBlbmdsaXNoUG9pbnQ7XG4gIH1cblxuICAvKipcbiAgICAqIEFkZCBhIHRhYiB0byBhIFBvaW50TGluZSB3aXRoIHRoZSBnaXZlbiBwYXJhbWV0ZXJzLCBlZGl0cyB0aGUgUG9pbnRMaW5lIGluLXBsYWNlXG4gICAgKiBAcGFyYW0ge1BvaW50W119IHBvaW50TGluZSAtIFRoZSBwb2ludGxpbmUgdG8gdXNlXG4gICAgKiBAcGFyYW0ge2ludGVnZXJ9IGluZGV4IC0gVGhlIGluZGV4IG9mIHRoZSBsaW5lIGluIHRoZSBwb2ludExpbmUgdG8gYWRkIHRoZSB0YWIgdG9cbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBbcGFyYW1zXSAtIFBhcmFtZXRlcnMgdG8gdXNlLFxuICAgICogQHBhcmFtIHtudW1iZXJ9IFtwYXJhbXMuZGlzdGFuY2U9MF0gLSBUaGUgb3V0c2V0IGRpc3RhbmNlIGZvciB0aGUgdGFiXG4gICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtwYXJhbXMuY2xvY2t3aXNlPWZhbHNlXSAtIENsb2Nrd2lzZSBpcyB0aGUgZGlyZWN0aW9uIHRvIG1ha2UgdGhlIGFuZ2xlIHJlbGF0aXZlXG4gICAgKiBAcGFyYW0ge251bWJlcn0gW3BhcmFtcy5hbmdsZT05MF0gLSBBbmdsZSBvZiB0aGUgdGFiIHNpZGVzXG4gICAgKiBAcGFyYW0ge251bWJlcn0gW3BhcmFtcy5iYXNlSW5zZXQ9MF0gLSBJbnNldCBvZiB0aGUgdGFiIGZyb20gdGhlIGVuZCBvZiB0aGUgbGluZVxuICAgICogQHBhcmFtIHtudW1iZXJ9IFtwYXJhbXMuYmFzZUluc2V0Ml0gLSBJZiBzdXBwbGllZCwgaXMgaW5zZXQgZnJvbSB0aGUgb3RoZXIgZW5kIG9mIHRoZSBsaW5lLCBvdGhlcndpc2UgaXMgdGhlIHNhbWUgYXMgX2Jhc2VJbnNldF9cbiAgICAqIEBwYXJhbSB7bnVtYmVyfSAgW3BhcmFtcy5hbmdsZTJdIC0gSWYgc3VwcGxpZWQsIGlzIHRha2VuIGFzIHRoZSBhbmdsZSBmb3IgdGhlIHNlY29uZCB0YWIgc2lkZSwgb3RoZXJ3aXNlIGlzIHRoZSBzYW1lIGFzIF9hbmdsZV9cbiAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gIFtwYXJhbXMuYXV0b1dyYXA9dHJ1ZV0gLSBJZiBpbmRleCBzaG91bGQgd3JhcCBhcm91bmQgdGhlIHBvaW50bGluZSBpZiBpdCBleGNlZWRzIHRoZSBsZW5ndGhcbiAgICAqIEByZXR1cm4ge1BvaW50W119IC0gVGhlIFBvaW50TGluZVxuICAgICovXG4gIGFkZFRhYkF0UG9pbnRMaW5lQXRMaW5lSW5kZXgocG9pbnRMaW5lLGluZGV4LHBhcmFtcykge1xuICAgIHBhcmFtcyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgZGlzdGFuY2U6IDAsXG4gICAgICBjbG9ja3dpc2U6IGZhbHNlLFxuICAgICAgYW5nbGU6IDkwLFxuICAgICAgYW5nbGUyOiBudWxsLFxuICAgICAgYXV0b1dyYXA6IHRydWVcbiAgICB9LHBhcmFtcyk7XG5cbiAgIGxldCBwMSA9IHBvaW50TGluZVtpbmRleF07XG5cblxuICAgbGV0IHAySW5kZXggPSBpbmRleCsxO1xuICAgaWYgKCgoaW5kZXgrMSkgPiAocG9pbnRMaW5lLmxlbmd0aC0xKSkgJiYgKHBhcmFtcy5hdXRvV3JhcCkpIHtwMkluZGV4ID0gMDt9XG5cbiAgIGxldCBwMiA9IHBvaW50TGluZVtwMkluZGV4XTtcbiAgIGxldCB0YWJQb2ludHMgPSB0aGlzLnRhYlBvaW50c0Zyb21Qb2ludExpbmUocDEscDIscGFyYW1zKTtcbiAgIC8vaW5zZXJ0IGJhY2sgaW50byB0aGUgYXJyYXlcbiAgIHBvaW50TGluZS5zcGxpY2UoaW5kZXgrMSwwLC4uLnRhYlBvaW50cyk7XG4gICByZXR1cm4gcG9pbnRMaW5lO1xuICB9XG4gIC8qKlxuICAgICogRGV0ZXJtaW5lIHRoZSBiZW5kIGFsbG93YW5jZSAoQ3VydmVkIGFyZWEgYmV0d2VlbiB0aGUgZW5kIG9mIHR3byBwYW5lbHMpIHRvIGFjaGlldmUgdGhlIHJlcXVpcmVkIGJlbmRcbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBbcGFyYW1zXSAtIFBhcmFtZXRlcnMgdG8gdXNlLFxuICAgICogQHBhcmFtIHtudW1iZXJ9IFtwYXJhbXMuYW5nbGU9OTBdIC0gQW5nbGUgb2YgdGhlIGJlbmRcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcGFyYW1zLm1hdGVyaWFsVGhpY2tuZXNzPTFdIC0gVGhpY2tuZXNzIG9mIHRoZSBtYXRlcmlhbCBiZWluZyBiZW50XG4gICAgKiBAcGFyYW0ge251bWJlcn0gW3BhcmFtcy5pbm5lclJhZGl1c10gLSBUaGUgaW5uZXIgcmFkaXVzIG9mIHRoZSBiZW5kIChpbnNpZGUgb2YgdGhlIG1hdGVyaWE7KVxuICAgICogQHBhcmFtIHtudW1iZXJ9IFtwYXJhbXMuaz0wLjVdIC0gQmVuZGluZiBLIEZhY3RvciBvZiB0aGUgbWF0ZXJpYWxcbiAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3BhcmFtcy5zaW5nbGVTaWRlZD1mYWxzZV0gLSBPbmx5IHJldHVybiBoYWxmIG9mIHRoZSBiZW5kIGFsbG93YW5jZVxuICAgICogQHJldHVybiB7bnVtYmVyfSAtIFRoZSBsZW5ndGggb2YgdGhlIGJlbmQgYWxsb3dhbmNlXG4gICAgKi9cbiAgZGV0ZXJtaW5lQmVuZEFsbG93YW5jZShwYXJhbXMpIHtcbiAgICBwYXJhbXMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgIGFuZ2xlOiA5MCxcbiAgICAgIG1hdGVyaWFsVGhpY2tuZXNzOiAxLFxuICAgICAgaW5uZXJSYWRpdXM6IG51bGwsXG4gICAgICBrOiAwLjUsXG4gICAgICBzaW5nbGVTaWRlZDogZmFsc2VcbiAgICB9LHBhcmFtcyk7XG5cbiAgICBpZiAocGFyYW1zLmlubmVyUmFkaXVzID09IG51bGwpIHtcbiAgICAgIHBhcmFtcy5pbm5lclJhZGl1cyA9IE1hdGgubWF4KDAuNSwgcGFyYW1zLm1hdGVyaWFsVGhpY2tuZXNzLzQpO1xuICAgIH1cblxuICAgIC8vQmVuZCBhbGxvd2FuY2U6IEJBID0gKGFuZ2xlICogKFBpLzE4MCkpICogKFIgKyAoSyAqIFQpKTtcbiAgICAvL2F1dG8gYXBwcm94OiBLID0gKGxvZyhtaW4oMTAwLChtYXgoMjAqcixUKS9UKSkpKSAvICgyICogbG9nKDEwMCkpXG5cbiAgICBsZXQgYmVuZEFsbG93YW5jZSA9IChwYXJhbXMuYW5nbGUgKiAoTWF0aC5QSSAvIDE4MCkpICogKHBhcmFtcy5pbm5lclJhZGl1cyArIChwYXJhbXMuayAqIHBhcmFtcy5tYXRlcmlhbFRoaWNrbmVzcykpO1xuXG4gICAgaWYgKHBhcmFtcy5zaW5nbGVTaWRlZCkge1xuICAgICAgYmVuZEFsbG93YW5jZSA9IGJlbmRBbGxvd2FuY2UgLzI7XG4gICAgfVxuXG4gICAgcmV0dXJuIGJlbmRBbGxvd2FuY2U7XG4gIH1cblxuICBjaG9yZGFsVHJhcGV6b2lkUG9pbnRMaW5lKHBhcmFtcykge1xuICAgIHBhcmFtcyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgcmFkaXVzRGVsdGE6IDQ1LCAvL3JlcXVpcmVkXG4gICAgICBpbm5lckNob3JkTGVuZ3RoOiAxMCxcbiAgICAgIG91dGVyQ2hvcmRMZW5ndGg6IG51bGwsIC8vQ2FsY3VsYXRlZFxuICAgICAgaW5uZXJSYWRpdXM6IG51bGwsIC8vT3ZlcnJpZGVzIGlubmVyTGVuZ3RoICsgb3V0ZXIgbGVuZ3RoIGlmIHNwZWNpZmllZFxuICAgICAgb3V0ZXJSYWRpdXM6IG51bGwsXG4gICAgICBhbmdsZTogMzAgLy9tdXN0IHNwZWNpZnkgZWl0aGVyIGlubmVyIGFuZ2xlIG9yIChpbm5lciBjaG9yZCBsZW5ndGggb3Igb3V0ZXIgY2hvcmQgbGVuZ3RoKVxuICAgIH0scGFyYW1zKTtcblxuXG4gICAgLy9TSU4gPSBPUFAgLyBIWVBcbiAgICBpZiAoIXBhcmFtcy5pbm5lclJhZGl1cykge1xuICAgICAgcGFyYW1zLmlubmVyUmFkaXVzID0gcGFyYW1zLmlubmVyQ2hvcmRMZW5ndGggLyAoTWF0aC5zaW4oKHBhcmFtcy5hbmdsZS8yKSAqIChNYXRoLlBJIC8gMTgwKSkpO1xuICAgIH1cblxuICAgIGlmIChwYXJhbXMucmFkaXVzRGVsdGEpIHtcbiAgICAgIHBhcmFtcy5vdXRlclJhZGl1cyA9IHBhcmFtcy5pbm5lclJhZGl1cyArIHBhcmFtcy5yYWRpdXNEZWx0YTtcblxuICAgIH0gZWxzZSBpZiAoIXBhcmFtcy5yYWRpdXNEZWx0YSkge1xuICAgICAgcGFyYW1zLm91dGVyUmFkaXVzID0gcGFyYW1zLm91dGVyQ2hvcmRMZW5ndGggLyAoTWF0aC5zaW4oKHBhcmFtcy5hbmdsZS8yKSAqIChNYXRoLlBJIC8gMTgwKSkpO1xuICAgIH1cblxuICAgIC8vQXN1c21lIGFuZ2xlIHNldCBmb3Igbm93XG4gICAgLy9PZmZzZXQgdGhlIGNvcmUgcG9pbnQgdG8gLSAobWludXMpIHRoZSBpbm5kZXIgcmFkaXVzICB2ZXJ0aWNhbGx5XG4gICAgLy8gbGV0IGFuZ2xlZElubmVyUmFkaXVzUG9pbnQgPSB1dGlscy5wb2ludEZyb21Qb2ludEF0QW5nbGUoWzAsLXBhcmFtcy5pbm5lclJhZGl1c10scGFyYW1zLmlubmVyUmFkaXVzLHBhcmFtcy5hbmdsZSk7XG4gICAgbGV0IHBvaW50TGluZSA9IFtdO1xuICAgIHBvaW50TGluZS5wdXNoKFswLDBdKTtcbiAgICBwb2ludExpbmUucHVzaCh0aGlzLnBvaW50RnJvbVBvaW50QXRBbmdsZShbMCwtcGFyYW1zLmlubmVyUmFkaXVzXSxwYXJhbXMuaW5uZXJSYWRpdXMsOTAtcGFyYW1zLmFuZ2xlKSk7XG4gICAgcG9pbnRMaW5lLnB1c2godGhpcy5wb2ludEZyb21Qb2ludEF0QW5nbGUoWzAsLXBhcmFtcy5pbm5lclJhZGl1c10scGFyYW1zLm91dGVyUmFkaXVzLDkwLXBhcmFtcy5hbmdsZSkpO1xuICAgIHBvaW50TGluZS5wdXNoKFswLHBhcmFtcy5vdXRlclJhZGl1cyAtIHBhcmFtcy5pbm5lclJhZGl1c10pO1xuXG4gICAgcmV0dXJuIHBvaW50TGluZTtcbiAgfVxuICAvKipcbiAgICAqIENyZWF0ZSBhIHBvaW50TGluZSB0aGF0IHJlcHJlc2VudHMgYSBjcmVkaXQgY2FyZCBob2xkZXIgc2xvdFxuICAgICogQHBhcmFtIHtpbnRlZ2VyfSBvdXRlcldpZHRoIC0gT3V0ZXIgd2lkdGggb2YgdGhlIGNhcmRzbG90IChpbmNsdWRpbmcgYW55IHNsaXAgYWxsb3dhbmNlIGFuZCBzdGl0Y2hBbGxvd2FuY2UpLFxuICAgICogQHBhcmFtIHtpbnRlZ2VyfSBvdXRlckhlaWdodCAtIE91dGVyIGhlaWdodCBvZiB0aGUgY2FyZHNsb3QgKGluY2x1ZGluZyBhbnkgc2xpcCBhbGxvd2FuY2UgYW5kIHN0aXRjaEFsbG93YW5jZSksXG4gICAgKiBAcGFyYW0ge2Jvb2xlYW59IFt0U2xvdD1mYWxzZV0gLSBJZiB0aGUgY2FyZCBzbG90IHNob3VsZCBiZSBhIFQgc2xvdCAobWlkZGxlIHNsb3QgaW4gYSBzdGFjayBvZiBjYXJkIHNsb3RzKVxuICAgICogQHBhcmFtIHtPYmplY3R9IFtwYXJhbXNdIC0gUGFyYW1ldGVycyB0byB1c2UsXG4gICAgKiBAcGFyYW0ge251bWJlcn0gW3BhcmFtcy5iYXNlV2lkdGhQQ1Q9Ljc1XSAtIFNldHMgdGhlIGJhc2Ugb2YgdCBzbG90cyB0byBiZSBhIHBvcnRpb24gb2YgdGhlIG92ZXJhbGwgd2lkdGhcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcGFyYW1zLmJhc2VXaWR0aF0gLSBPdmVycmlkZXMgYmFzZVdpZHRoUENULCBzZXRzIHRoZSBiYXNlIG9mIHQgc2xvdHMgdG8gYmUgYSBzcGVjaWZpYyB3aWR0aFxuICAgICogQHBhcmFtIHtudW1iZXJ9IFtwYXJhbXMuc3RpdGNoQWxsb3dhbmNlPTMuOF0gLSBTZXRzIHRoZSBpbnNldCBvZiB0aGUgdG9wIGxpbmUgKGJlZm9yZS9hZnRlciB0aGUgc2xvcGUvdG9wbGluZSBwb2ludHMpIGFzIGhvcml6b250YWwgYXJlIGFkZGVkXG4gICAgKiBAcGFyYW0ge251bWJlcn0gW3BhcmFtcy5zaWRlSW5zZXRdIC0gSWYgbnVsbCwgPSBzdGl0Y2hBbGxvd2FuY2U7IFNpZGUgaW5zZXQgZm9yIHRoZSBsb3dlciBwYXJ0IG9mIHQgc2xvdHNcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcGFyYW1zLmNhcmRTdGlja091dFBDVD0uNzVdIC0gU2V0cyB0aGUgaGVpZ3RoIG9mIHRoZSBjYXJkcyBzdGlja2luZyBvdXQgb2YgdGhlIHNsb3QgYXMgYSBwb3J0aW8gb2YgdGhlIG92ZXJhbGwgaGVpZ2h0IG9mIHRoZSBzbG90XG4gICAgKiBAcGFyYW0ge251bWJlcn0gW3BhcmFtcy5jYXJkU3RpY2tPdXRdIC0gT3ZlcnJpZGVzIGNhcmRTdGlja091dFBDVCwgc2V0cyB0aGUgaGVpZ2h0IG9mIHRoZSBjYXJkIHN0aWNraW5nIG91dCBvZiB0aGUgc2xvdCB0byBiZSBhIHNwZWNpZmljIHNpemVcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcGFyYW1zLnNsb3RSaXNlQW1vdW50UENUPS43NV0gLSBTZXQgdGhlIHNsb3QgcmlzZSAoZm9yIHRzbG90cykgdG8gYmUgYSBwb3J0aW9uIG9mIHRoZSBoZWlnaHRcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcGFyYW1zLnNsb3RSaXNlQW1vdW50XSAtIE92ZXJyaWRlcyBzbG90UmlzZUFtb3VudFBDVCBzbG90IHJpc2UgZm9yIHQgc2xvdHMgdG8gYmUgYSBzcGVjaWZpYyBzaXplXG4gICAgKiBAcGFyYW0ge251bWJlcn0gW3BhcmFtcy50b3BMaW5lU2xvcGVQQ1RdIC0gT3ZlcnJpZGUgdG9wTGluZVNsb3BlUmlzZSBzZXQgdG8gYmUgdG9wTGluZVNsb3BlUENUIG11bHRpcGxpZWQgYnkgdGhlIHdpZHRoXG4gICAgKiBAcGFyYW0ge251bWJlcn0gW3BhcmFtcy50b3BMaW5lU2xvcGVSaXNlPTBdIC0gVW5pdHMgdG8gaGF2ZSB0aGUgY2FyZCB0b3AgcmlzZSBvbiB0aGUgcmlnaHQgaGFuZCBzaWRlXG4gICAgKiBAcGFyYW0ge1BvaW50W119IFtwYXJhbXMudG9wTGluZVBvaW50c10gLVxuICAgICogQHJldHVybiB7UG9pbnRbXX0gLSBBIHBvaW50IGxpbmUgcmVwcmVzZW50aW5nIHRoZSBjcmVkaXQgY2FyZCBob2xkZXIgc2xvdFxuICAgICovXG4gIGNhcmRTbG90UG9pbnRMaW5lKG91dGVyV2lkdGgsIG91dGVySGVpZ2h0LCB0U2xvdCA9IGZhbHNlLCBwYXJhbXM9bnVsbCkge1xuICAgIHBhcmFtcyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgYmFzZVdpZHRoUENUOiAuNzUsXG4gICAgICBiYXNlV2lkdGg6IG51bGwsIC8vaWYgbnVsbCAtIGNhbGN1bGF0ZSBmcm9tIFBDVCB2YWx1ZVxuICAgICAgc3RpdGNoQWxsb3dhbmNlOiAzLjgsXG4gICAgICBzaWRlSW5zZXQ6IG51bGwsIC8vPSBzaWRlIGFsbG93YW5jZSBpZiA9IG51bGwgLSBzdGl0Y2hBbGxvd2FuY2VcbiAgICAgIGNhcmRTdGlja091dFBDVDogLjIsXG4gICAgICBjYXJkU3RpY2tPdXQ6IG51bGwsIC8vaWYgbnVsbCAtIGNhbGN1bGF0ZSBmb3JtIFBDVCB2YWx1ZVxuICAgICAgc2xvdFJpc2VBbW91bnRQQ1Q6IC4yLFxuICAgICAgc2xvdFJpc2VBbW91bnQ6IG51bGwsIC8vaWYgbnVsbCAtIGNhbGN1bGF0ZSBmcm9tIFBDVCB2YWx1ZVxuICAgICAgdG9wTGluZVNsb3BlUENUOiBudWxsLCAvL2lmICE9MCBhZGQgYSBzbG9wZSB0byB0aGUgdG9wIGxpbmVcbiAgICAgIHRvcExpbmVTbG9wZVJpc2U6IDAsIC8vaWYgc2xvcGUgIT0gbnVsbCB0aGlzIGlzIGlnbm9yZWQgYW5kIHVwZGF0ZWQgdG8gYmUgdGhlIHZhbHVlIG9mIHdpZHRoICogc2xvcGVQQ1RcbiAgICAgIHRvcExpbmVQb2ludHM6IG51bGwsIC8vaWYgIT1udWxsIE92ZXJyaWRlIHRoZSB0b3BsaW5lIHdpdGggY3VzdG9tIHBvaW50cyAoZmlyc3QgYW5kIGxhc3QgcG9pbnRzIHdpbGwgbm90IGJlIG92ZXJyaWRlbilcbiAgICB9LHBhcmFtcyk7XG5cbiAgICAvL0NhbGN1bGF0ZSB0aGUgYWN0dWFsIHZhbHVlcyBmcm9tIGFueSBQQ1QgdmFsdWVzXG4gICAgaWYgKHBhcmFtcy5zaWRlSW5zZXQgPT0gbnVsbCkge1xuICAgICAgcGFyYW1zLnNpZGVJbnNldCA9IHBhcmFtcy5zdGl0Y2hBbGxvd2FuY2U7XG4gICAgfVxuXG4gICAgaWYgKHBhcmFtcy5iYXNlV2lkdGggPT0gbnVsbCkge1xuICAgICAgcGFyYW1zLmJhc2VXaWR0aCA9IHBhcmFtcy5iYXNlV2lkdGhQQ1QgKiBvdXRlcldpZHRoO1xuICAgIH1cblxuICAgIGlmIChwYXJhbXMuY2FyZFN0aWNrT3V0ID09IG51bGwpIHtcbiAgICAgIHBhcmFtcy5jYXJkU3RpY2tPdXQgPSBwYXJhbXMuY2FyZFN0aWNrT3V0UENUICogb3V0ZXJIZWlnaHQ7XG4gICAgfVxuXG4gICAgaWYgKHBhcmFtcy5zbG90UmlzZUFtb3VudCA9PSBudWxsKSB7XG4gICAgICBwYXJhbXMuc2xvdFJpc2VBbW91bnQgPSBwYXJhbXMuc2xvdFJpc2VBbW91bnRQQ1QgKiBvdXRlckhlaWdodDtcbiAgICB9XG5cbiAgICBpZiAocGFyYW1zLnRvcExpbmVTbG9wZVBDVCAhPSBudWxsKSB7XG4gICAgICBwYXJhbXMudG9wTGluZVNsb3BlUmlzZSA9IG91dGVySGVpZ2h0ICogcGFyYW1zLnRvcExpbmVTbG9wZVBDVDtcbiAgICB9XG5cbiAgICBpZiAocGFyYW1zLnRvcExpbmVTbG9wZVJpc2UgPT0gbnVsbCkge1xuICAgICAgcGFyYW1zLnRvcExpbmVTbG9wZVJpc2UgPSAwO1xuICAgIH1cblxuICAgIGxldCBwYW5lbEhlaWdodCA9IG91dGVySGVpZ2h0IC0gcGFyYW1zLmNhcmRTdGlja091dDtcbiAgICBsZXQgcGFuZWxXaWR0aCA9IG91dGVyV2lkdGg7XG5cbiAgICBsZXQgcGF0aFBvaW50cyA9IFtdO1xuICAgIHBhdGhQb2ludHMucHVzaChbMCwgcGFuZWxIZWlnaHRdKTtcbiAgICBwYXRoUG9pbnRzLnB1c2goW3BhcmFtcy5zdGl0Y2hBbGxvd2FuY2UsIHBhbmVsSGVpZ2h0XSk7XG4gICAgcGF0aFBvaW50cy5wdXNoKFtwYW5lbFdpZHRoLXBhcmFtcy5zdGl0Y2hBbGxvd2FuY2UsIHBhbmVsSGVpZ2h0ICsgcGFyYW1zLnRvcExpbmVTbG9wZVJpc2VdKTtcbiAgICBwYXRoUG9pbnRzLnB1c2goW3BhbmVsV2lkdGgsIHBhbmVsSGVpZ2h0ICsgcGFyYW1zLnRvcExpbmVTbG9wZVJpc2VdKTtcblxuICAgIGlmICh0U2xvdCkge1xuICAgICAgcGF0aFBvaW50cy5wdXNoKFtwYW5lbFdpZHRoLCBwYW5lbEhlaWdodCArIHBhcmFtcy50b3BMaW5lU2xvcGVSaXNlIC0gcGFyYW1zLnNsb3RSaXNlQW1vdW50XSk7XG4gICAgICBwYXRoUG9pbnRzLnB1c2goW3BhbmVsV2lkdGggLSBwYXJhbXMuc2lkZUluc2V0LCBwYW5lbEhlaWdodCArIHBhcmFtcy50b3BMaW5lU2xvcGVSaXNlIC0gcGFyYW1zLnNsb3RSaXNlQW1vdW50XSk7XG5cbiAgICAgIHBhdGhQb2ludHMucHVzaChbKHBhbmVsV2lkdGggKyBwYXJhbXMuYmFzZVdpZHRoKS8yLCAwXSk7XG4gICAgICBwYXRoUG9pbnRzLnB1c2goWyhwYW5lbFdpZHRoIC0gcGFyYW1zLmJhc2VXaWR0aCkvMiwgMF0pO1xuXG4gICAgICBwYXRoUG9pbnRzLnB1c2goW3BhcmFtcy5zaWRlSW5zZXQsIHBhbmVsSGVpZ2h0IC0gcGFyYW1zLnNsb3RSaXNlQW1vdW50XSk7XG4gICAgICBwYXRoUG9pbnRzLnB1c2goWzAsIHBhbmVsSGVpZ2h0IC0gcGFyYW1zLnNsb3RSaXNlQW1vdW50XSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhdGhQb2ludHMucHVzaChbcGFuZWxXaWR0aCwwXSk7XG4gICAgICBwYXRoUG9pbnRzLnB1c2goWzAsMF0pO1xuICAgIH1cbiAgICByZXR1cm4gcGF0aFBvaW50cztcbiAgfVxuXG5cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEhlYXBQYWNrZXIge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgbGV0IGFwcGxpZWRPcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICBkZWZhdWx0UGFja0FyZWFIZWlnaHQ6IDEwMDAsXG4gICAgICBkZWZhdWx0UGFja0FyZWFXaWR0aDogMjAwMCxcbiAgICAgIGdyb3dMaW1pdEhlaWdodDogLTEsXG4gICAgICBncm93TGltaXRXaWR0aDogLTEsXG4gICAgICBjYW5Hcm93UGFja0FyZWE6IGZhbHNlLCAvL2Nhbkdyb3dQYWNrQXJlYSBvciBjYW5BZGRQYWNrQXJlYXMgb25seSAxIG11c3QgYmUgZW5hYmxlZCAtIGdyb3cgd2lsbCB0YWtlIHByZWNlZGVuY2VcbiAgICAgIGNhbkFkZFBhY2tBcmVhczogdHJ1ZSxcbiAgICB9LG9wdGlvbnMpO1xuXG4gICAgdGhpcy5kZWZhdWx0UGFja0FyZWFIZWlnaHQgPSBhcHBsaWVkT3B0aW9ucy5kZWZhdWx0UGFja0FyZWFIZWlnaHQ7XG4gICAgdGhpcy5kZWZhdWx0UGFja0FyZWFXaWR0aCA9IGFwcGxpZWRPcHRpb25zLmRlZmF1bHRQYWNrQXJlYVdpZHRoO1xuICAgIHRoaXMuY2FuR3Jvd1BhY2tBcmVhID0gYXBwbGllZE9wdGlvbnMuY2FuR3Jvd1BhY2tBcmVhO1xuICAgIHRoaXMuY2FuQWRkUGFja0FyZWFzID0gYXBwbGllZE9wdGlvbnMuY2FuQWRkUGFja0FyZWFzO1xuXG4gICAgdGhpcy5hdmFpbGFibGVIZWFwID0gW107XG4gICAgdGhpcy5wYWNrQXJlYURlZmluaXRpb25zID0gW107XG4gICAgdGhpcy5wYWNrQXJlYU1heEluZGV4ID0gMDtcbiAgICB0aGlzLnBhY2tlZEJsb2NrcyA9IFtdO1xuXG4gICAgLy9TZXR1cCB0aGUgaW5pdGlhbCBoZWFwXG4gICAgdGhpcy5hZGRQYWNrQXJlYSgpO1xuICB9XG5cbiAgcGFja2VkQXJlYXMoKSB7XG4gICAgcmV0dXJuIHRoaXMucGFja0FyZWFEZWZpbml0aW9ucy5tYXAoKHBhY2tBcmVhKSA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpZDogcGFja0FyZWEuYSxcbiAgICAgICAgaDogcGFja0FyZWEuaCxcbiAgICAgICAgdzogcGFja0FyZWEudyxcbiAgICAgICAgYmxvY2tzOiB0aGlzLnBhY2tlZEJsb2Nrcy5maWx0ZXIoKGJsb2NrKSA9PiAoYmxvY2suYSA9PSBwYWNrQXJlYS5hKSlcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGFkZFBhY2tBcmVhKGFkZFBhY2tBcmVhV2lkdGggPSBudWxsLGFkZFBhY2tBcmVhSGVpZ2h0ID0gbnVsbCkge1xuICAgIGlmICghYWRkUGFja0FyZWFXaWR0aCkge2FkZFBhY2tBcmVhV2lkdGggPSB0aGlzLmRlZmF1bHRQYWNrQXJlYVdpZHRofTtcbiAgICBpZiAoIWFkZFBhY2tBcmVhSGVpZ2h0KSB7YWRkUGFja0FyZWFIZWlnaHQgPSB0aGlzLmRlZmF1bHRQYWNrQXJlYUhlaWdodH07XG4gICAgbGV0IHBhY2tBcmVhSW5kZXggPSArK3RoaXMucGFja0FyZWFNYXhJbmRleDtcbiAgICBsZXQgbmV3UGFja0FyZWEgPSB7XG4gICAgICB4OiAwLFxuICAgICAgeTogMCxcbiAgICAgIHc6IGFkZFBhY2tBcmVhV2lkdGgsXG4gICAgICBoOiBhZGRQYWNrQXJlYUhlaWdodCxcbiAgICAgIGE6IHBhY2tBcmVhSW5kZXhcbiAgICB9XG5cbiAgICB0aGlzLnBhY2tBcmVhRGVmaW5pdGlvbnMucHVzaChPYmplY3QuYXNzaWduKHt9LG5ld1BhY2tBcmVhKSk7XG4gICAgdGhpcy5hdmFpbGFibGVIZWFwLnB1c2gobmV3UGFja0FyZWEpO1xuICAgIHJldHVybiBuZXdQYWNrQXJlYTtcbiAgfVxuXG4gIGdyb3dQYWNrQXJlYShncm93VG9GaXRXaWR0aCxncm93VG9GaXRIZWlnaHQscGFja0FyZWFJZCA9IC0xKSB7XG4gICAgLy8gY29uc29sZS5sb2coJ0dyb3dpbmcgUGFjayBBcmVhJyxncm93VG9GaXRXaWR0aCxncm93VG9GaXRIZWlnaHQsdGhpcy5hdmFpbGFibGVIZWFwKTtcbiAgICAvL1RPRE86IE1heSBuZWVkIHJld29yayBhcyB0aGlzIHdpbGwgdW5lY2Nlc3NhcmlseSBhZGQgZ3Jvd3RoIGJlY2F1c2UgaXRcbiAgICAvLyAgICAgIGlnbm9yZXMgYW55IGV4aXN0aW5nIGhlYXA7IGUuZy4gaWYgdGhlIGJsb2NrIGFsbW9zdCBmaXQgaW4gdGhlIEhlYXBcbiAgICAvLyAgICAgIGFuZCBvbmx5IG5lZWRzIGEgZmV3IG1vcmUgbW0sIHRoaXMgd2lsbCBzdGlsbCBhZGQgdGhlIGZ1bGwgc3BhY2UgZm9yIHRoZSBibG9ja1xuICAgIC8vRklYOiAgQWRkIGluIHRyaW1taW5nIGRvd24gcGFja0FyZWFzIGJ5IHJlbW92aW5nIG9yIHRyaW1taW5nIHVudXNlZCBoZWFwc1xuICAgIC8vRklYOiAgU2hvdWxkIGZpcnN0IGxvb2sgZm9yIHRoZSBuZWFyZXN0IGVkZ2UgZmFjaW5nIGhlYXAgdGhhdCBtYXRjaGVzIGFuZCB1c2UgdGhhdD9cblxuICAgIC8qKlxuICAgICAqIEZJWE1FOiBBZGRpbmcgdG8gdGhlIGV4aXN0aW5nIHBhY2sgYXJlYXMgZG9lcyBub3QgYWx3YXlzIGFkZCBlbm91Z2ggc3BhY2UgKHNpbmNlIHRoZSBoZWFwIGFyZWFzIG1heSBub3QgYmUgY29udGlndW91cyBoZW5jZSBzdGlsbCBtYXkgbm90IGhhdmUgZW5vdWdoIHNwYWNlLilcbiAgICAgIFRlbXBvcmFyeSBmaXggaXMgdG8ganVzdCBhZGQgaGVhcHMgcmF0aGVyIHRoYW4gZXh0ZW5kaW5nP1xuICAgICAqL1xuXG4gICAgLy9BZGQgdGhlIHNpemUgdG8gdGhlIHBhY2tBcmVhXG4gICAgbGV0IGVkaXRpbmdQYWNrQXJlYSA9IG51bGw7XG4gICAgaWYgKHBhY2tBcmVhSWQgPCAwKSB7XG4gICAgICAvL0lmIG5vdCBzcGVjaWZpZWQganVzdCB1c2UgdGhlIGxhc3Qgb25lXG4gICAgICBlZGl0aW5nUGFja0FyZWEgPSB0aGlzLnBhY2tBcmVhRGVmaW5pdGlvbnNbdGhpcy5wYWNrQXJlYURlZmluaXRpb25zLmxlbmd0aC0xXTtcbiAgICB9IGVsc2Uge1xuICAgICAgZWRpdGluZ1BhY2tBcmVhID0gdGhpcy5wYWNrQXJlYURlZmluaXRpb25zLmZpbmQoKHBhY2tBcmVhKSA9PiAocGFja0FyZWEuaWQgPT0gcGFja0FyZWFJZCkpO1xuICAgIH1cblxuICAgIC8vRGVjaWRlIG9uIHdoaWNoIHByaW1hcnkgc2lkZSB0byBncm93IHRoZSBwYWNrIGFyZWFcbiAgICAvL0Nob29zZSB0aGUgc2l6ZSB0aGF0IHdpbGwgaW5jcmVhc2UgdGhlIHBhY2sgYXJlYSB0aGUgbGVhc3RcbiAgICBsZXQgZ3Jvd09uV2lkdGhSYXRpbyA9IChlZGl0aW5nUGFja0FyZWEudyArIGdyb3dUb0ZpdFdpZHRoKSAvIChNYXRoLm1heChlZGl0aW5nUGFja0FyZWEuaCxncm93VG9GaXRIZWlnaHQpKTtcbiAgICBsZXQgZ3Jvd09uSGVpZ2h0UmF0aW8gPSAoTWF0aC5tYXgoZWRpdGluZ1BhY2tBcmVhLncsZ3Jvd1RvRml0V2lkdGgpKSAvIChlZGl0aW5nUGFja0FyZWEuaCArIGdyb3dUb0ZpdEhlaWdodCk7XG4gICAgLy9DaG9vc2UgdGhlIGxvd2VzdCByYXRpbyBzbyB0aGUgcGFjayBhcmVhIGdyb3dzIGFzIG1vc3RseSBhIHNxdWFyZVxuICAgIC8vRklYTUU6IENoYW5nZSBmcm9tIGxvd2VzdCByYXRpbyB0byBiZSBjbG9zZXN0IHRvIDFcbiAgICBsZXQgZ3Jvd09uV2lkdGggPSAoMS1ncm93T25XaWR0aFJhdGlvKSA8PSAoMS1ncm93T25IZWlnaHRSYXRpbyApO1xuXG4gICAgbGV0IGFjdHVhbEZpbmFsV2lkdGggPSAoZ3Jvd09uV2lkdGg/ZWRpdGluZ1BhY2tBcmVhLncgKyBncm93VG9GaXRXaWR0aDpNYXRoLm1heChlZGl0aW5nUGFja0FyZWEudyxncm93VG9GaXRXaWR0aCkpO1xuICAgIGxldCBhY3R1YWxGaW5hbEhlaWdodCA9IChncm93T25XaWR0aD9NYXRoLm1heChlZGl0aW5nUGFja0FyZWEuaCxncm93VG9GaXRIZWlnaHQpOmVkaXRpbmdQYWNrQXJlYS5oICsgZ3Jvd1RvRml0SGVpZ2h0KTtcblxuICAgIC8vZmluZCB0aGUgeCBzaWRlIGVkZ2VzXG4gICAgbGV0IHBhY2tBcmVhSGVhcHMgPSB0aGlzLmF2YWlsYWJsZUhlYXAuZmlsdGVyKChoZWFwKSA9PiAoaGVhcC5hID09IGVkaXRpbmdQYWNrQXJlYS5hKSk7XG5cbiAgICBsZXQgcmlnaHRTaWRlSGVhcHMgPSBwYWNrQXJlYUhlYXBzLmZpbHRlcigoaGVhcCkgPT4gKGhlYXAueCtoZWFwLncgPT0gZWRpdGluZ1BhY2tBcmVhLncpKTtcbiAgICBsZXQgYm90dG9tU2lkZUhlYXBzID0gcGFja0FyZWFIZWFwcy5maWx0ZXIoKGhlYXApID0+IChoZWFwLnkraGVhcC5oID09IGVkaXRpbmdQYWNrQXJlYS5oKSk7XG5cblxuICAgIGxldCByaWdodFNpZGVEZWx0YSA9IGFjdHVhbEZpbmFsV2lkdGggLSBlZGl0aW5nUGFja0FyZWEudztcbiAgICBsZXQgYm90dG9tU2lkZURlbHRhID0gYWN0dWFsRmluYWxIZWlnaHQgLSBlZGl0aW5nUGFja0FyZWEuaDtcblxuXG4gICAgLy8vSW5zdGVhZCBvZiBleHRlbmRlZCBoZWFwcyAtIG5lZWQgdG8gYWRkIG5ldyBvbmVzXG4gICAgaWYgKGdyb3dPbldpZHRoKSB7XG4gICAgICAvL1B1c2ggdGhlIGhlYXAgZm9yIHRoZSBibG9jayAob24gdGhlIHJpZ2h0KVxuICAgICAgdGhpcy5hdmFpbGFibGVIZWFwLnB1c2goe1xuICAgICAgICBzOiAxLFxuICAgICAgICBhOiBlZGl0aW5nUGFja0FyZWEuYSxcbiAgICAgICAgeDogZWRpdGluZ1BhY2tBcmVhLnggKyBlZGl0aW5nUGFja0FyZWEudyxcbiAgICAgICAgeTogZWRpdGluZ1BhY2tBcmVhLnksXG4gICAgICAgIHc6IHJpZ2h0U2lkZURlbHRhLFxuICAgICAgICBoOiBlZGl0aW5nUGFja0FyZWEuaCArIGJvdHRvbVNpZGVEZWx0YVxuICAgICAgfSlcbiAgICAgIC8vUHVzaCB0aGUgcmVtYWluaW5nIGhlYXBcbiAgICAgIHRoaXMuYXZhaWxhYmxlSGVhcC5wdXNoKHtcbiAgICAgICAgczogMixcbiAgICAgICAgYTogZWRpdGluZ1BhY2tBcmVhLmEsXG4gICAgICAgIHg6IGVkaXRpbmdQYWNrQXJlYS54LFxuICAgICAgICB5OiBlZGl0aW5nUGFja0FyZWEueSArIGVkaXRpbmdQYWNrQXJlYS5oLFxuICAgICAgICB3OiBlZGl0aW5nUGFja0FyZWEudyxcbiAgICAgICAgaDogYm90dG9tU2lkZURlbHRhXG4gICAgICB9KVxuICAgIH0gZWxzZSB7XG4gICAgICAvL1B1c2ggdGhlIGhlYXAgZm9yIHRoZSBibG9jayAoYXQgdGhlIGJvdHRvbSlcbiAgICAgIHRoaXMuYXZhaWxhYmxlSGVhcC5wdXNoKHtcbiAgICAgICAgZTogMSxcbiAgICAgICAgYTogZWRpdGluZ1BhY2tBcmVhLmEsXG4gICAgICAgIHg6IGVkaXRpbmdQYWNrQXJlYS54LFxuICAgICAgICB5OiBlZGl0aW5nUGFja0FyZWEueSArIGVkaXRpbmdQYWNrQXJlYS5oLFxuICAgICAgICB3OiBlZGl0aW5nUGFja0FyZWEudyArIHJpZ2h0U2lkZURlbHRhLFxuICAgICAgICBoOiBib3R0b21TaWRlRGVsdGFcbiAgICAgIH0pXG4gICAgICAvL1B1c2ggdGhlIHJlbWFpbmluZyBoZWFwXG4gICAgICB0aGlzLmF2YWlsYWJsZUhlYXAucHVzaCh7XG4gICAgICAgIGU6IDIsXG4gICAgICAgIGE6IGVkaXRpbmdQYWNrQXJlYS5hLFxuICAgICAgICB4OiBlZGl0aW5nUGFja0FyZWEueCArIGVkaXRpbmdQYWNrQXJlYS53LFxuICAgICAgICB5OiBlZGl0aW5nUGFja0FyZWEueSxcbiAgICAgICAgdzogcmlnaHRTaWRlRGVsdGEsXG4gICAgICAgIGg6IGVkaXRpbmdQYWNrQXJlYS5oXG4gICAgICB9KVxuICAgIH1cblxuICAgIC8vcmVzaXplIHRoZSBwYWNrIGFyZWFcbiAgICBlZGl0aW5nUGFja0FyZWEudyA9IGFjdHVhbEZpbmFsV2lkdGg7XG4gICAgZWRpdGluZ1BhY2tBcmVhLmggPSBhY3R1YWxGaW5hbEhlaWdodDtcblxuXG4gICAgLy9UT0RPOiBVc2UgdGhlIHNwYWNlIG1vcmUgZWZmaWNpZW50bHkgYnkgcmVjbGFpbWluZyBlbXB0eSBoZWFwc1xuICAgIC8vQ0FOQ0VMXG4gICAgLy8gcmlnaHRTaWRlSGVhcHMuZm9yRWFjaCgoaGVhcCkgPT4ge1xuICAgIC8vICAgaGVhcC53ID0gaGVhcC53ICsgcmlnaHRTaWRlRGVsdGE7XG4gICAgLy8gfSk7XG4gICAgLy9cbiAgICAvLyBib3R0b21TaWRlSGVhcHMuZm9yRWFjaCgoaGVhcCkgPT4ge1xuICAgIC8vICAgaGVhcC5oID0gaGVhcC5oICsgYm90dG9tU2lkZURlbHRhO1xuICAgIC8vIH0pO1xuICAgIC8vQ0FOQ0VMXG5cblxuICAgIC8vIGNvbnNvbGUubG9nKCdHcm93biBQYWNrIEFyZWEnLHJpZ2h0U2lkZURlbHRhLGJvdHRvbVNpZGVEZWx0YSx0aGlzLnBhY2tBcmVhRGVmaW5pdGlvbnMscGFja0FyZWFIZWFwcyxyaWdodFNpZGVIZWFwcyxib3R0b21TaWRlSGVhcHMpO1xuICB9XG5cbiAgc29ydEJsb2Nrc0ZvclBhY2tpbmcoYmxvY2tzVG9QYWNrKSB7XG4gICAgYmxvY2tzVG9QYWNrLnNvcnQoKGEsYikgPT4ge1xuICAgICAgcmV0dXJuICgoYi53KmIuaCkgLSAoYS53KmEuaCkpO1xuICAgIH0pO1xuICAgIHJldHVybiBibG9ja3NUb1BhY2s7XG4gIH1cblxuICBzb3J0SGVhcEZvclBhY2tpbmcoKSB7XG4gICAgLy9Tb3J0IHNtYWxsZXN0IHRvIGxhcmdlc3QgdG8gZW5jb3VyYWdlIGl0ZW1zIHRvIGdvIGludG8gdGhlIHRpZ2h0ZXN0IGZpdCAodG8gZ2VuZXJhdGUgdGhlIGxlYXN0IG51bWJlciBvZiBsZWZ0LW92ZXJzXG4gICAgdGhpcy5hdmFpbGFibGVIZWFwLnNvcnQoKGEsYikgPT4ge1xuICAgICAgbGV0IGFyZWFBID0gYS53KmEuaDtcbiAgICAgIGxldCBhcmVhQiA9IGIudypiLmg7XG4gICAgICByZXR1cm4gYXJlYUEgLSBhcmVhQjtcbiAgICB9KTtcbiAgfVxuXG4gIHNwbGl0UmVtYWluaW5nSGVhcChoZWFwQXJlYSxibG9jaykge1xuICAgIGxldCBzcGxpdEEsIHNwbGl0QjtcbiAgICBpZiAoKGhlYXBBcmVhLncgLSBibG9jay53KSA+PSAoaGVhcEFyZWEuaCAtIGJsb2NrLmgpKSB7XG4gICAgICBzcGxpdEEgPSB7XG4gICAgICAgIHg6IGhlYXBBcmVhLnggKyBibG9jay53LFxuICAgICAgICB5OiBoZWFwQXJlYS55LFxuICAgICAgICB3OiBoZWFwQXJlYS53IC0gYmxvY2sudyxcbiAgICAgICAgaDogaGVhcEFyZWEuaFxuICAgICAgfVxuICAgICAgc3BsaXRCID0ge1xuICAgICAgICB4OiBoZWFwQXJlYS54LFxuICAgICAgICB5OiBoZWFwQXJlYS55ICsgYmxvY2suaCxcbiAgICAgICAgdzogYmxvY2sudyxcbiAgICAgICAgaDogaGVhcEFyZWEuaCAtIGJsb2NrLmhcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc3BsaXRBID0ge1xuICAgICAgICB4OiBoZWFwQXJlYS54LFxuICAgICAgICB5OiBoZWFwQXJlYS55ICsgYmxvY2suaCxcbiAgICAgICAgdzogaGVhcEFyZWEudyxcbiAgICAgICAgaDogaGVhcEFyZWEuaCAtIGJsb2NrLmhcbiAgICAgIH1cbiAgICAgIHNwbGl0QiA9IHtcbiAgICAgICAgeDogaGVhcEFyZWEueCArIGJsb2NrLncsXG4gICAgICAgIHk6IGhlYXBBcmVhLnksXG4gICAgICAgIHc6IGhlYXBBcmVhLncgLSBibG9jay53LFxuICAgICAgICBoOiBibG9jay5oXG4gICAgICB9XG4gICAgfVxuXG4gICAgc3BsaXRBLmEgPSBoZWFwQXJlYS5hO1xuICAgIHNwbGl0Qi5hID0gaGVhcEFyZWEuYTtcbiAgICByZXR1cm4gW3NwbGl0QSxzcGxpdEJdO1xuICB9XG5cblxuXG4gIHBhY2tCbG9ja0luQXZhaWxhYmxlQXJlYXMoYmxvY2spIHtcbiAgICBsZXQgYmxvY2tQYWNrZWQgPSBmYWxzZTtcbiAgICAvL3RyeSB0byBmaW5kIGEgaGVhcCBhcmVhIHRoYXQgZml0cyB0aGUgYmxvY2tcbiAgICBsZXQgZml0dGluZ0hlYXBJbmRleCA9IHRoaXMuYXZhaWxhYmxlSGVhcC5maW5kSW5kZXgoKGhlYXBBcmVhKSA9PiB7XG4gICAgICByZXR1cm4gKChoZWFwQXJlYS53ID49IGJsb2NrLncpICYmIChoZWFwQXJlYS5oID49IGJsb2NrLmgpKVxuICAgIH0pO1xuXG4gICAgLy9JZiByb3RhdGlvbiBpcyBhbGxvd2VkIC0gdHJ5IGFnYWluIGxvb2tpbmcgZm9yIHRoZSBoZWFwSW5kZXggLT4gc2luY2UgdGhlIGhlYXAgaXMgc29ydGVkIHNtYWxsZXN0IHRvIGxhcmdlc3QgdGhlbiB0aGUgbG93ZXIgSW5kZXggd2lsbCBiZSB0aGVcbiAgICAvL2JldHRlciBoZWFwIHNsb3QuIChPUiBzcGVjaWZpY2FsbHkgaWYgaXQgZG9lc24ndCBmaXQgcm90YXRlIGl0IGFuZCBnbyBsb29raW5nKVxuICAgIC8vQWx0aG91Z2ggdGhpcyBpcyB3ZWlyZCBzaW5jZSB0aGUgYXJlYSBkb2Vzbid0IGNoYW5nZVxuICAgIC8vaWYgaXQgZGlkbid0IGZpdCAtIHRoZW4gcm90YXRlIGl0IGFuZCBnbyBzZWFyY2hpbmcgYWdhaW4gLSByZWNvcmQgdGhhdCBpdCB3YXMgcm90YXRlZFxuXG4gICAgLy8gY29uc29sZS5sb2coYmxvY2ssZml0dGluZ0hlYXBJbmRleCk7XG4gICAgaWYgKGZpdHRpbmdIZWFwSW5kZXggPiAtMSkge1xuICAgICAgbGV0IGZpdHRpbmdIZWFwID0gdGhpcy5hdmFpbGFibGVIZWFwW2ZpdHRpbmdIZWFwSW5kZXhdO1xuICAgICAgLy9CbG9jayBmaXRzIGluIHRoaXMgaGVhcFxuICAgICAgLy9hc3NpZ24gdGhlIGJsb2NrIGFzIHBhY2tlZCBhbmQgdGhlbiBzcGxpdCByZW1haW5pbmcgYXJlYSBvZiB0aGUgaGVhcFxuICAgICAgbGV0IHBhY2tlZEJsb2NrID0ge1xuICAgICAgICB3OiBibG9jay53LFxuICAgICAgICBoOiBibG9jay5oLFxuICAgICAgICB4OiBmaXR0aW5nSGVhcC54LFxuICAgICAgICB5OiBmaXR0aW5nSGVhcC55LFxuICAgICAgICBhOiBmaXR0aW5nSGVhcC5hLFxuICAgICAgICBpZDogYmxvY2suaWQsXG4gICAgICAgIHJvdGF0ZWQ6IGJsb2NrLnJvdGF0ZWQsXG4gICAgICAgIG1vZGVsOiBibG9jay5tb2RlbFxuICAgICAgfVxuICAgICAgdGhpcy5wYWNrZWRCbG9ja3MucHVzaChwYWNrZWRCbG9jayk7XG5cbiAgICAgIGxldCBoZWFwUmVtYWluaW5nID0gdGhpcy5zcGxpdFJlbWFpbmluZ0hlYXAoZml0dGluZ0hlYXAsYmxvY2spO1xuICAgICAgdGhpcy5hdmFpbGFibGVIZWFwLnNwbGljZShmaXR0aW5nSGVhcEluZGV4LDEsaGVhcFJlbWFpbmluZ1swXSxoZWFwUmVtYWluaW5nWzFdKTtcbiAgICAgIHRoaXMuc29ydEhlYXBGb3JQYWNraW5nKCk7XG4gICAgICBibG9ja1BhY2tlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGJsb2NrUGFja2VkO1xuICB9XG5cblxuXG4gIC8vVE9ETzogdHJpbSBlbXB0eSBwYWNrIGFyZWFzXG5cbiAgLy9UT0RPOiBUcmltIHplcm8gaGVhcCBhcmVhc1xuICB0cmltRW1wdHlQYWNrQXJlYXMoKSB7XG4gICAgdGhpcy5wYWNrQXJlYURlZmluaXRpb25zID0gdGhpcy5wYWNrQXJlYURlZmluaXRpb25zLmZpbHRlcigocGFja0FyZWEpID0+IHtcbiAgICAgIHJldHVybiAodGhpcy5wYWNrZWRCbG9ja3MuZmlsdGVyKChibG9jaykgPT4gKGJsb2NrLmEgPT0gcGFja0FyZWEuYSkpLmxlbmd0aCA+IDApO1xuICAgIH0pO1xuXG4gICAgbGV0IHZhbGlkUGFja0FyZWFzID0gdGhpcy5wYWNrQXJlYURlZmluaXRpb25zLm1hcCgocGFja0FyZWEpID0+IChwYWNrQXJlYS5hKSk7XG4gICAgdGhpcy5hdmFpbGFibGVIZWFwID0gdGhpcy5hdmFpbGFibGVIZWFwLmZpbHRlcigoaGVhcCkgPT4ge1xuICAgICAgcmV0dXJuICB2YWxpZFBhY2tBcmVhcy5pbmNsdWRlcyhoZWFwLmEpO1xuICAgIH0pO1xuICB9XG5cbiAgcGFja0Jsb2NrKGJsb2NrKSB7XG5cbiAgICAvL0Vuc3VyZSBhdGxlYXN0IDEgcGFjayBhcmVhIGV4aXN0c1xuICAgIGlmICh0aGlzLnBhY2tBcmVhRGVmaW5pdGlvbnMubGVuZ3RoIDwgMSkge1xuICAgICAgdGhpcy5hZGRQYWNrQXJlYSgpO1xuICAgIH1cblxuICAgIC8vVHJpbSBhbnkgZW1wdHkgcGFjayBhcmVhcyAtXG4gICAgbGV0IGJsb2NrUGFja2VkID0gdGhpcy5wYWNrQmxvY2tJbkF2YWlsYWJsZUFyZWFzKGJsb2NrKTtcbiAgICAvKlxuICAgICAgVG8gZ3JvdyBwYWNrIGFyZWFzIC1cbiAgICAgICAgMS4gZmluZCB0aGUgaGVhcCBhcmVhcyB0aGF0IGhhdmUgMiBvciBsZXNzIG5laWdoYm91cnMgKGkuZS4gbm90IHN1cnJvdW5kZWQpXG4gICAgICAgIDIuIEZpbmQgd2hpY2ggb2YgdGhlc2UgaXMgdGhlIG5lYXJlc3QgZml0XG4gICAgICAgIDMuIGluY3JlYXNlIHRoZSBzaXplIG9mIHRoZSBoZWFwIGFyZWEgdG8gZml0XG4gICAgICAgIDQuIEluY3JlYXNlIHRoZSBzaXplIG9mIGl0cyBwYXJlbnQgcGFjayBhcmVhIHRvIGFjY291bnQgZm9yIHRoZSBhZGRlZCBzcGFjZS5cbiAgICAgICAgLS0tLS0tLS0tXG4gICAgICAgIG9yIGZpbmQgYSB3YXkgdG8gZ3JvdyBhIHBhY2thcmVhIC0gYW5kIGtub3cgaG93IHRvIGdyb3cgdGhlIGFmZmVjdGVkIGhlYXAgYXJlYXM/IChhbmQgYWRkIGFueSBoZWFwIGFyZWFzIGFzIHJlcXVpcmVkKVxuICAgICAgICAtLSBGaW5kIGhlYXBzIGJsb2NrcyB0aGF0IGVuZGVkIGF0IHRoZSBwcmV2aW91cyBsaW1pdCAoZS5nLiBoLlgraC5XID0gUGFja2FyZWEuVylcbiAgICAgICAgLS0gSW5jcmVhc2UgdGhlIHNpemUgb2YgdGhlIHBhY2sgYXJlYSBkaW1lbnNpb24gKFBhY2thcmVhLlcgKyAxKVxuICAgICAgICAtLSBJbmNyZWFzZSB0aGUgcHJldmlvdXNseSBpZGVudGlmaWVkIGhlYXAgYXJlYXMgYnkgdGhlIGFtb3VudCAoaC53KzEpO1xuICAgICAgICAtLSBSZXBhY2tcbiAgICAqL1xuICAgIC8vR3JvdyB0YWtlcyBwcmVjZWRlbmNlXG4gICAgaWYgKCghYmxvY2tQYWNrZWQpICYmICh0aGlzLmNhbkdyb3dQYWNrQXJlYSkpIHtcbiAgICAgIC8vKzEgYWxsb3dzIGZvciB3ZWlyZCByb3VuZGluZyBpc3N1ZXNcbiAgICAgIC8vIGNvbnNvbGUubG9nKCdSRXF1ZXN0aW5nIEdyb3cgUGFjayBhcmVhIGZvcicsYmxvY2spO1xuICAgICAgdGhpcy5ncm93UGFja0FyZWEoYmxvY2sudysxLGJsb2NrLmgrMSk7XG4gICAgICAvL3RyeSBhZ2FpblxuICAgICAgYmxvY2tQYWNrZWQgPSB0aGlzLnBhY2tCbG9ja0luQXZhaWxhYmxlQXJlYXMoYmxvY2spO1xuICAgICAgLy8gY29uc29sZS5sb2coJ0FmdGVyIEdyb3cgUGFja2VkPycsYmxvY2tQYWNrZWQsYmxvY2spXG4gICAgfVxuICAgIGlmICgoIWJsb2NrUGFja2VkKSAmJiAodGhpcy5jYW5BZGRQYWNrQXJlYXMpKSB7XG4gICAgICAvL0FkZCBhIG5ldyBkZWZhdWx0IHBhY2sgYXJlYSBhbmQgdHJ5IGFnYWluXG4gICAgICB0aGlzLmFkZFBhY2tBcmVhKCk7XG4gICAgICBibG9ja1BhY2tlZCA9IHRoaXMucGFja0Jsb2NrSW5BdmFpbGFibGVBcmVhcyhibG9jayk7XG4gICAgICAvL2Rvbid0IGxvb3AgaWYgaXQgZGlkbnQgZml0IGFmdGVyIGFkZGluZyBvbmUgYXJlYSAtIGl0IHdvbid0IGZpdC5cbiAgICB9XG5cbiAgICBpZiAoIWJsb2NrUGFja2VkKSB7XG4gICAgICAvL1RyaW0gZW1wdHkgcGFjayBhcmVhcyAocmVtb3ZlIHRoZSBvbmUgd2UganN1dCBhZGRlZFxuICAgICAgLy9NYWtlIHN1cmUgYXRsZWFzdCAxIGlzIGxlZnRcbiAgICAgIHRoaXMudHJpbUVtcHR5UGFja0FyZWFzKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGJsb2NrUGFja2VkO1xuICB9XG59XG4iLCJpbXBvcnQgbWFrZXJqcyBmcm9tICdtYWtlcmpzJztcbmltcG9ydCB7IEVtcHR5TW9kZWwgfSBmcm9tICcuL2NvZGVydW5uZXIvZW1wdHltb2RlbC5qcyc7XG5cbmV4cG9ydCBjbGFzcyBNb2RlbFNwbGl0dGVyICB7XG5cbiAgdHJpbU1vZGVsVG9MaW5lKG1vZGVsVG9TbGljZSxsaW5lQXQsa2VlcFBvc2l0aXZlU2lkZSA9IHRydWUsIGFsb25nWEF4aXMgPSB0cnVlLCBvdmVybGFwID0gNSwgaW5jbHVkZUN1dHRpbmdMaW5lSGludCA9IHRydWUsIGFzQ2xvbmUgPSB0cnVlKSB7XG4gICAgY29uc3QgY3V0dGVyUGF0aEV4dGVuc2lvbiA9IDAuMjtcbiAgICBjb25zdCBjdXR0ZXJQYXRoSGludExpbmVFeHRlbnNpb24gPSAzXG4gICAgLy9DbG9uZSBvciBub3QgdGhlIG1vZGVsXG4gICAgaWYgKGFzQ2xvbmUpIHtcbiAgICAgIG1vZGVsVG9TbGljZSA9IG1ha2VyanMubW9kZWwuY2xvbmUobW9kZWxUb1NsaWNlKTtcbiAgICB9XG5cbiAgICBsZXQgbW9kZWxTaXplID0gbWFrZXJqcy5tZWFzdXJlLm1vZGVsRXh0ZW50cyhtb2RlbFRvU2xpY2UpO1xuICAgIGNvbnNvbGUubG9nKCdDdXR0aW5nJyk7XG5cbiAgICAvL0NyZWF0ZSB0aGUgY3V0dGVyIHBpZWNlc1xuICAgIGxldCBjdXR0ZXJQYXRoLCBib3VuZGluZ0JveDtcbiAgICBsZXQgYm91bmRpbmdCb3hXaWR0aCwgYm91bmRpbmdCb3hPZmZzZXRYLCBib3VuZGluZ0JveEhlaWdodCwgYm91bmRpbmdCb3hPZmZzZXRZO1xuXG4gICAgaWYgKGFsb25nWEF4aXMpIHtcbiAgICAgIGN1dHRlclBhdGggPSBuZXcgbWFrZXJqcy5wYXRocy5MaW5lKFxuICAgICAgICBbbW9kZWxTaXplLmxvd1swXStsaW5lQXQrKGtlZXBQb3NpdGl2ZVNpZGU/LW92ZXJsYXA6b3ZlcmxhcCksbW9kZWxTaXplLmxvd1sxXSAtIChtb2RlbFNpemUuaGVpZ2h0KmN1dHRlclBhdGhFeHRlbnNpb24pXSxcbiAgICAgICAgW21vZGVsU2l6ZS5sb3dbMF0rbGluZUF0KyhrZWVwUG9zaXRpdmVTaWRlPy1vdmVybGFwOm92ZXJsYXApLG1vZGVsU2l6ZS5oaWdoWzFdICsgKG1vZGVsU2l6ZS5oZWlnaHQqY3V0dGVyUGF0aEV4dGVuc2lvbildXG4gICAgICApO1xuXG4gICAgICBib3VuZGluZ0JveFdpZHRoID0gKGtlZXBQb3NpdGl2ZVNpZGU/KG1vZGVsU2l6ZS53aWR0aC1saW5lQXQpOihsaW5lQXQpKSArIChvdmVybGFwKjIpO1xuICAgICAgYm91bmRpbmdCb3hPZmZzZXRYID0gKGtlZXBQb3NpdGl2ZVNpZGU/KG1vZGVsU2l6ZS5sb3dbMF0rbGluZUF0LW92ZXJsYXApOihtb2RlbFNpemUubG93WzBdLW92ZXJsYXApKTtcbiAgICAgIGJvdW5kaW5nQm94SGVpZ2h0ID0gbW9kZWxTaXplLmhlaWdodCArIChvdmVybGFwKjIpO1xuICAgICAgYm91bmRpbmdCb3hPZmZzZXRZID0gbW9kZWxTaXplLmxvd1sxXSAtIG92ZXJsYXA7XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1dHRlclBhdGggPSBuZXcgbWFrZXJqcy5wYXRocy5MaW5lKFxuICAgICAgICBbbW9kZWxTaXplLmxvd1swXSAtIChtb2RlbFNpemUud2lkdGgqY3V0dGVyUGF0aEV4dGVuc2lvbiksIG1vZGVsU2l6ZS5sb3dbMV0rbGluZUF0KyhrZWVwUG9zaXRpdmVTaWRlPy1vdmVybGFwOm92ZXJsYXApXSxcbiAgICAgICAgW21vZGVsU2l6ZS5oaWdoWzBdICsgKG1vZGVsU2l6ZS53aWR0aCpjdXR0ZXJQYXRoRXh0ZW5zaW9uKSwgbW9kZWxTaXplLmxvd1sxXStsaW5lQXQrKGtlZXBQb3NpdGl2ZVNpZGU/LW92ZXJsYXA6b3ZlcmxhcCldXG4gICAgICApO1xuXG4gICAgICBib3VuZGluZ0JveFdpZHRoID0gbW9kZWxTaXplLndpZHRoICsgKG92ZXJsYXAqMik7XG4gICAgICBib3VuZGluZ0JveE9mZnNldFggPSBtb2RlbFNpemUubG93WzBdIC0gb3ZlcmxhcDtcbiAgICAgIGJvdW5kaW5nQm94SGVpZ2h0ID0gKGtlZXBQb3NpdGl2ZVNpZGU/KG1vZGVsU2l6ZS5oZWlnaHQtbGluZUF0KToobGluZUF0KSkgKyAob3ZlcmxhcCoyKTtcbiAgICAgIGJvdW5kaW5nQm94T2Zmc2V0WSA9IChrZWVwUG9zaXRpdmVTaWRlPyhtb2RlbFNpemUubG93WzBdK2xpbmVBdC1vdmVybGFwKToobW9kZWxTaXplLmxvd1swXS1vdmVybGFwKSk7XG4gICAgfVxuICAgIGJvdW5kaW5nQm94ID0gbWFrZXJqcy5tb2RlbC5tb3ZlKFxuICAgICAgbmV3IG1ha2VyanMubW9kZWxzLlJlY3RhbmdsZShib3VuZGluZ0JveFdpZHRoLGJvdW5kaW5nQm94SGVpZ2h0KSxcbiAgICAgIFtib3VuZGluZ0JveE9mZnNldFgsYm91bmRpbmdCb3hPZmZzZXRZXVxuICAgICk7XG4gICAgY29uc29sZS5sb2cobW9kZWxTaXplLGJvdW5kaW5nQm94T2Zmc2V0WCxib3VuZGluZ0JveFdpZHRoLGJvdW5kaW5nQm94T2Zmc2V0WSxib3VuZGluZ0JveCxib3VuZGluZ0JveEhlaWdodCk7XG5cbiAgICAvL0pzdXQgYnJlYWsgdGhlIHBhdGhzIGFwYXJ0IHRvIHN0YXJ0IHdpdGhcbiAgICBtYWtlcmpzLm1vZGVsLndhbGsobW9kZWxUb1NsaWNlLHtcbiAgICAgIG9uUGF0aDogKGNvbnRleHQpID0+IHtcbiAgICAgICAgbGV0IHBhdGhJbnRlcnNlY3Rpb24gPSBtYWtlcmpzLnBhdGguaW50ZXJzZWN0aW9uKGNvbnRleHQucGF0aENvbnRleHQsY3V0dGVyUGF0aCk7XG4gICAgICAgIGlmIChwYXRoSW50ZXJzZWN0aW9uKXtcbiAgICAgICAgICBwYXRoSW50ZXJzZWN0aW9uLmludGVyc2VjdGlvblBvaW50cy5mb3JFYWNoKGludGVyc2VjdGlvblBvaW50ID0+IHtcbiAgICAgICAgICAgIGxldCBhZGRQYXRoID0gbWFrZXJqcy5wYXRoLmJyZWFrQXRQb2ludChjb250ZXh0LnBhdGhDb250ZXh0LGludGVyc2VjdGlvblBvaW50KTtcbiAgICAgICAgICAgIG1ha2VyanMubW9kZWwuYWRkUGF0aChjb250ZXh0Lm1vZGVsQ29udGV4dCxhZGRQYXRoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIC8vIC8vTm93IHdhbGsgYWdhaW4gdHJpbW1pbmcgaXRlbXMgdGhhdCBhcmVuJ3QgaW4gdGhlIGJvdW5kaW5nIGJveFxuICAgIG1ha2VyanMubW9kZWwud2Fsayhtb2RlbFRvU2xpY2Use1xuICAgICAgb25QYXRoOiAoY29udGV4dCkgPT4ge1xuICAgICAgICBpZiAoIW1ha2VyanMubW9kZWwuaXNQYXRoSW5zaWRlTW9kZWwoY29udGV4dC5wYXRoQ29udGV4dCxib3VuZGluZ0JveCxjb250ZXh0Lm9mZnNldCkpIHtcbiAgICAgICAgICBkZWxldGUgY29udGV4dC5tb2RlbENvbnRleHQucGF0aHNbY29udGV4dC5wYXRoSWRdXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vQWRkIHRoZSBjdXQgbGluZSBoaW50IGxpbmUgLSBpZ25vcmluZyBvdmVybGFwXG4gICAgaWYgKGluY2x1ZGVDdXR0aW5nTGluZUhpbnQpIHtcbiAgICAgIGxldCBjdXR0aW5nTGluZUhpbnQ7XG4gICAgICBpZiAoYWxvbmdYQXhpcykge1xuICAgICAgICBjdXR0aW5nTGluZUhpbnQgPSBuZXcgbWFrZXJqcy5wYXRocy5MaW5lKFxuICAgICAgICAgIFttb2RlbFNpemUubG93WzBdK2xpbmVBdCxtb2RlbFNpemUubG93WzFdIC0gKGN1dHRlclBhdGhIaW50TGluZUV4dGVuc2lvbildLFxuICAgICAgICAgIFttb2RlbFNpemUubG93WzBdK2xpbmVBdCxtb2RlbFNpemUuaGlnaFsxXSArIChjdXR0ZXJQYXRoSGludExpbmVFeHRlbnNpb24pXVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3V0dGluZ0xpbmVIaW50ID0gbmV3IG1ha2VyanMucGF0aHMuTGluZShcbiAgICAgICAgICBbbW9kZWxTaXplLmxvd1swXSAtIChjdXR0ZXJQYXRoSGludExpbmVFeHRlbnNpb24pLCBtb2RlbFNpemUubG93WzFdK2xpbmVBdF0sXG4gICAgICAgICAgW21vZGVsU2l6ZS5oaWdoWzBdICsgKGN1dHRlclBhdGhIaW50TGluZUV4dGVuc2lvbiksIG1vZGVsU2l6ZS5sb3dbMV0rbGluZUF0XVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgbWFrZXJqcy5wYXRoLmxheWVyKGN1dHRpbmdMaW5lSGludCwncGF0dGVybkpvaW5MaW5lJyk7XG4gICAgICBtYWtlcmpzLm1vZGVsLmFkZFBhdGgobW9kZWxUb1NsaWNlLGN1dHRpbmdMaW5lSGludCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1vZGVsVG9TbGljZVxuICB9XG5cblxuICBzcGxpdE1vZGVsKG1vZGVsVG9TcGxpdCxzcGxpdEF0UGN0ID0gLjUsYWxvbmdYQXhpcyA9IHRydWUpIHtcbiAgICBsZXQgbW9kZWxFeHRlbnRzID0gbWFrZXJqcy5tZWFzdXJlLm1vZGVsRXh0ZW50cyhtb2RlbFRvU3BsaXQpO1xuICAgIGxldCBzcGxpdEF0RGlzdCA9IGFsb25nWEF4aXM/KHNwbGl0QXRQY3QgKiAgbW9kZWxFeHRlbnRzLndpZHRoKTooc3BsaXRBdFBjdCAqICBtb2RlbEV4dGVudHMuaGVpZ2h0KTtcbiAgICAvLyBjb25zb2xlLmxvZygnc3BsaXR0aW5nIGF0JyxzcGxpdEF0RGlzdCk7XG4gICAgbGV0IHBvc2l0aXZlU2lkZSA9IHRoaXMudHJpbU1vZGVsVG9MaW5lKG1vZGVsVG9TcGxpdCxzcGxpdEF0RGlzdCx0cnVlLGFsb25nWEF4aXMpO1xuICAgIGxldCBuZWdhdGl2ZVNpZGUgPSB0aGlzLnRyaW1Nb2RlbFRvTGluZShtb2RlbFRvU3BsaXQsc3BsaXRBdERpc3QsZmFsc2UsYWxvbmdYQXhpcyk7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1vZGVsczoge1xuICAgICAgICBhOiBwb3NpdGl2ZVNpZGUsXG4gICAgICAgIGI6IG5lZ2F0aXZlU2lkZVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG59XG4iLCJpbXBvcnQgSGVhcFBhY2tlciBmcm9tICcuL2hlYXBwYWNrZXIuanMnO1xuaW1wb3J0IG1ha2VyanMgZnJvbSAnbWFrZXJqcyc7XG5pbXBvcnQgeyBNb2RlbFNwbGl0dGVyIH0gZnJvbSAnLi9tb2RlbHNwbGl0dGVyLmpzJztcblxuZXhwb3J0IGNsYXNzIE1vZGVsUGFja2VyIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuXG4gICAgbGV0IHBhY2tpbmdPcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICBwYWdlU2l6ZToge3g6IDEwMDAsIHk6IDEwMDB9LFxuICAgICAgcGFnZVNpemVHcm93TGltaXQ6IHt4OiAtMSwgeTogLTF9LFxuICAgICAgY2FuQWRkUGFnZXM6IHRydWUsXG4gICAgICBjYW5Hcm93UGFnZVNpemU6IGZhbHNlLFxuICAgICAgYWxsb3dSb3RhdGlvbjogdHJ1ZSxcbiAgICAgIGFsbG93U3BsaXR0aW5nOiB0cnVlLFxuICAgICAgbWF4U3BsaXRJdGVyYXRpb25zOiAxLFxuICAgIH0sb3B0aW9ucyk7XG5cbiAgICB0aGlzLnBhZ2VTaXplID0gcGFja2luZ09wdGlvbnMucGFnZVNpemU7XG4gICAgdGhpcy5wYWdlU2l6ZUdyb3dMaW1pdCA9IHBhY2tpbmdPcHRpb25zLnBhZ2VTaXplR3Jvd0xpbWl0O1xuICAgIHRoaXMuY2FuQWRkUGFnZXMgPSBwYWNraW5nT3B0aW9ucy5jYW5BZGRQYWdlcztcbiAgICB0aGlzLmNhbkdyb3dQYWdlU2l6ZSA9IHBhY2tpbmdPcHRpb25zLmNhbkdyb3dQYWdlU2l6ZTtcbiAgICB0aGlzLmFsbG93Um90YXRpb24gPSBwYWNraW5nT3B0aW9ucy5hbGxvd1JvdGF0aW9uO1xuICAgIHRoaXMuYWxsb3dTcGxpdHRpbmcgPSBwYWNraW5nT3B0aW9ucy5hbGxvd1NwbGl0dGluZztcbiAgfVxuXG4gIGNyZWF0ZU1vZGVsQmxvY2sobW9kZWwsYmxvY2tpZCkge1xuICAgIGxldCBtb2RlbEV4dGVudHMgPSBtYWtlcmpzLm1lYXN1cmUubW9kZWxFeHRlbnRzKG1vZGVsKTtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IGJsb2NraWQsXG4gICAgICBtb2RlbDogbW9kZWwsXG4gICAgICB3OiBtb2RlbEV4dGVudHMud2lkdGgsXG4gICAgICBoOiBtb2RlbEV4dGVudHMuaGVpZ2h0LFxuICAgICAgcm90YXRlZDogZmFsc2UsXG4gICAgICBzcGxpdENvdW50OiAwLFxuICAgIH1cbiAgfVxuXG5cbiAgcGFja01vZGVscyhtb2RlbHMpIHtcbiAgICAvL0Fzc2lnbiB0aGUgbW9kZWxzIHRyYWNrYWJsZSBJRHNcbiAgICAvL0NhbGN1bGF0ZSB0aGUgdy9oIHZhbHVlcyBmb3IgdGhlIGJsb2NrICh3aGljaCBpcyB0aGUgb3V0ZXIgd2lkdGgvaGVpZ2h0IG9mIHRoZSBibG9jaylcblxuICAgIC8vVmFsaWRhdGUgdGhlIG1vZGVsIGJsb2Nrc1xuICAgIGxldCBmYWlsaW5nTW9kZWxzID0gW107XG5cbiAgICBsZXQgYmxvY2tzVG9QYWNrID0gbW9kZWxzLnJlZHVjZSgoYWNjdW11bGF0b3IsbW9kZWwsaW5kZXgpID0+IHtcbiAgICAgIGxldCBtb2RlbEJsb2NrID0gdGhpcy5jcmVhdGVNb2RlbEJsb2NrKG1vZGVsLGluZGV4KTtcbiAgICAgIGlmICgoIW1vZGVsQmxvY2sudykgfHwgKCFtb2RlbEJsb2NrLmgpKSB7XG4gICAgICAgIGZhaWxpbmdNb2RlbHMucHVzaChtb2RlbEJsb2NrKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFjY3VtdWxhdG9yLnB1c2gobW9kZWxCbG9jayk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYWNjdW11bGF0b3JcbiAgICB9LFtdKTtcblxuXG5cblxuXG4gICAgLy9Ob3cgdHJ5IGFzc2lnbmluZyB0aGUgbW9kZWxzIHRvIGhlYXBzXG4gICAgbGV0IGhlYXBQYWNrZXIgPSBuZXcgSGVhcFBhY2tlcih7XG4gICAgICBkZWZhdWx0UGFja0FyZWFIZWlnaHQ6IHRoaXMucGFnZVNpemUueSxcbiAgICAgIGRlZmF1bHRQYWNrQXJlYVdpZHRoOiB0aGlzLnBhZ2VTaXplLngsXG4gICAgICBncm93TGltaXRIZWlnaHQ6IHRoaXMucGFnZVNpemVHcm93TGltaXQueSxcbiAgICAgIGdyb3dMaW1pdFdpZHRoOiB0aGlzLnBhZ2VTaXplR3Jvd0xpbWl0LngsXG4gICAgICBjYW5Hcm93UGFja0FyZWE6IHRoaXMuY2FuR3Jvd1BhZ2VTaXplLFxuICAgICAgY2FuQWRkUGFja0FyZWFzOiB0aGlzLmNhbkFkZFBhZ2VzLFxuICAgIH0pO1xuXG4gICAgY29uc29sZS5sb2coJ0hFQVAgUEFDS0VSJyxoZWFwUGFja2VyKVxuICAgIC8vaGFuZHkgZnVuY3Rpb24gZm9yIHJvdGF0aW5nIGJsb2Nrc1xuICAgIGZ1bmN0aW9uIHJvdGF0ZUJsb2NrKGJsb2NrKSB7XG4gICAgICBsZXQgdGVtcFcgPSBibG9jay53O1xuICAgICAgYmxvY2sudyA9IGJsb2NrLmg7XG4gICAgICBibG9jay5oID0gdGVtcFc7XG4gICAgICBibG9jay5yb3RhdGVkID0gIWJsb2NrLnJvdGF0ZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRklSU1QgUEFTUzogSnVzdCB0cnkgdG8gZml0IHRoZSBtb2RlbHMgYXMgaXNcbiAgICAgKi9cbiAgICBsZXQgdW5wYWNrZWRCbG9ja3MgPSBbXTtcbiAgICBsZXQgcGFja2VkQmxvY2tzID0gW107XG4gICAgYmxvY2tzVG9QYWNrLmZvckVhY2goKGJsb2NrKSA9PiB7XG4gICAgICBsZXQgYmxvY2tIYXNQYWNrZWQgPSBoZWFwUGFja2VyLnBhY2tCbG9jayhibG9jayk7XG4gICAgICBpZiAoYmxvY2tIYXNQYWNrZWQpIHtcbiAgICAgICAgcGFja2VkQmxvY2tzLnB1c2goYmxvY2spO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdW5wYWNrZWRCbG9ja3MucHVzaChibG9jayk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgLy9SZXNldCB0aGUgcmVqZWN0cyBpbnRvIHRoZSBibG9ja3MgdG8gcGFjayBiYWcgZm9yIHRoZSBuZXh0IHJ1blxuICAgIGJsb2Nrc1RvUGFjayA9IHVucGFja2VkQmxvY2tzO1xuXG4gICAgaWYgKHRoaXMuYWxsb3dSb3RhdGlvbikge1xuICAgICAgLyoqXG4gICAgICAgKiBST1RBVEUgUEFTUzogVHJ5IHRvIGZpdCB3aG9sZSBtb2RlbHMgd2l0aCByb3RhdGlvblxuICAgICAgICovXG4gICAgICAvL05vdyByb3RhdGUgYW55IG9mIHRoZSByZWplY3RzIGFuZCB0cnkgcGFja2luZyB0aGVtIGFnYWluXG5cbiAgICAgIGJsb2Nrc1RvUGFjay5mb3JFYWNoKChibG9jaykgPT4ge1xuICAgICAgICByb3RhdGVCbG9jayhibG9jayk7XG4gICAgICB9KTtcblxuICAgICAgdW5wYWNrZWRCbG9ja3MgPSBbXTtcbiAgICAgIGJsb2Nrc1RvUGFjay5mb3JFYWNoKChibG9jaykgPT4ge1xuICAgICAgICBsZXQgYmxvY2tIYXNQYWNrZWQgPSBoZWFwUGFja2VyLnBhY2tCbG9jayhibG9jayk7XG4gICAgICAgIGlmIChibG9ja0hhc1BhY2tlZCkge1xuICAgICAgICAgIHBhY2tlZEJsb2Nrcy5wdXNoKGJsb2NrKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB1bnBhY2tlZEJsb2Nrcy5wdXNoKGJsb2NrKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICAvL05vdyB1bnJvdGF0ZSB0aGUgcmVqZWN0cyBmb3IgdGhlIG5leHQgc3RlcFxuICAgICAgYmxvY2tzVG9QYWNrID0gdW5wYWNrZWRCbG9ja3M7XG4gICAgICBibG9ja3NUb1BhY2suZm9yRWFjaCgoYmxvY2spID0+IHtcbiAgICAgICAgYmxvY2sgPSByb3RhdGVCbG9jayhibG9jayk7XG4gICAgICB9KTtcbiAgICB9XG5cblxuICAgIGlmICh0aGlzLmFsbG93U3BsaXR0aW5nKSB7XG4gICAgICAvKipcbiAgICAgICAqIFNQTElUIC0gdGhlbiBUcnkgYWdhaW5cbiAgICAgICAqL1xuICAgICAgLy9Ob3cgc3BsaXQgYW55IGl0ZW1zIHRoYXQgY2FuIGJlIHNwbGl0IGFuZCB0cnkgcGFja2luZyB0aGVzZVxuICAgICAgbGV0IHNraXBTcGxpdHRpbmdCbG9ja3MgPSBbXTtcbiAgICAgIGxldCBtb2RlbFNwbGl0dGVyID0gbmV3IE1vZGVsU3BsaXR0ZXIoKTtcbiAgICAgIC8vVHJhY2sgYSB1bmlxdWUgaW5kZXggZm9yIHRoZSBuZXcgYmxvY2tzIHdlIGFkZC9zcGxpdCBvZmZcbiAgICAgIGxldCBjdXJyZW50QmxvY2tJbmRleCA9IGJsb2Nrc1RvUGFjay5yZWR1Y2UoKGFjY3VtdWxhdG9yLGJsb2NrKSA9PiB7XG4gICAgICAgIHJldHVybiBNYXRoLm1heChhY2N1bXVsYXRvcixibG9jay5pZCk7XG4gICAgICB9LDApICsgMTtcblxuICAgICAgYmxvY2tzVG9QYWNrID0gYmxvY2tzVG9QYWNrLnJlZHVjZSgoYWNjdW11bGF0b3IsYmxvY2spID0+IHtcbiAgICAgICAgbGV0IGJsb2NrQ2FuU3BsaXQgPSB0cnVlOyAvL0RlZmF1bHQgdG8geWVzXG4gICAgICAgIGlmICgoYmxvY2suc3BsaXQpICYmIChibG9jay5zcGxpdC5pZk5lZWRlZCA9PSBmYWxzZSkpIHtibG9ja0NhblNwbGl0ID0gZmFsc2V9O1xuXG4gICAgICAgIGlmIChibG9ja0NhblNwbGl0KSB7XG4gICAgICAgICAgbGV0IHNwbGl0QXRQY3QgPSAuNTtcbiAgICAgICAgICBpZiAoKGJsb2NrLnNwbGl0KSAmJiAoYmxvY2suc3BsaXQuc3BsaXRBdFBjdCkpIHtzcGxpdEF0UGN0ID0gYmxvY2suc3BsaXQuc3BsaXRBdFBjdH07XG4gICAgICAgICAgLy9UT0RPOiBGaXggbGFiZWxsaW5nIGhlcmUgLSBhbG9uZ1hheGlzIGFjdHVhbGx5IG1lYW5zIHB1dCB0aGUgY3V0dGVyIG9uIHRoZSBZIGF4aXMgZm9yIHNvbWUgcmVhc29uIHRvIHRoZSBzcGxpdHRlclxuICAgICAgICAgIGxldCBhbG9uZ1hBeGlzID0gZmFsc2U7XG4gICAgICAgICAgaWYgKChibG9jay5zcGxpdCkgJiYgKGJsb2NrLnNwbGl0LmF4aXMgPT0gJ3knKSkge2Fsb25nWEF4aXMgPSB0cnVlfTtcblxuICAgICAgICAgIGxldCBzcGxpdE1vZGVscyA9IG1vZGVsU3BsaXR0ZXIuc3BsaXRNb2RlbChibG9jay5tb2RlbCxzcGxpdEF0UGN0LGFsb25nWEF4aXMpO1xuICAgICAgICAgIC8vbm93IHJlLXdyYXAgdGhlIG1vZGVsc1xuICAgICAgICAgIGlmIChzcGxpdE1vZGVscykge1xuICAgICAgICAgICAgLy9maW5kIHRoZVxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ1NwbGl0IG1vZGVscycsc3BsaXRNb2RlbHMpO1xuICAgICAgICAgICAgYWNjdW11bGF0b3IucHVzaCh0aGlzLmNyZWF0ZU1vZGVsQmxvY2soc3BsaXRNb2RlbHMubW9kZWxzLmEsY3VycmVudEJsb2NrSW5kZXgrKykpO1xuICAgICAgICAgICAgYWNjdW11bGF0b3IucHVzaCh0aGlzLmNyZWF0ZU1vZGVsQmxvY2soc3BsaXRNb2RlbHMubW9kZWxzLmIsY3VycmVudEJsb2NrSW5kZXgrKykpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvL3NvbWV0aGluZyB3ZW50IHdyb25nIGFuZCB3ZSBjb3VsZG4ndCBzcGxpdCB0aGUgbW9kZWxcbiAgICAgICAgICAgIHNraXBTcGxpdHRpbmdCbG9ja3MucHVzaChibG9jayk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNraXBTcGxpdHRpbmdCbG9ja3MucHVzaChibG9jayk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICAgICAgfSxbXSlcbiAgICAgIC8vTm93IHRyeSBhY3R1YWxseSBwYWNraW5nIHRoZSBzcGxpdCBpdGVtc1xuICAgICAgdW5wYWNrZWRCbG9ja3MgPSBbXTtcbiAgICAgIGJsb2Nrc1RvUGFjay5mb3JFYWNoKChibG9jaykgPT4ge1xuICAgICAgICBsZXQgYmxvY2tIYXNQYWNrZWQgPSBoZWFwUGFja2VyLnBhY2tCbG9jayhibG9jayk7XG4gICAgICAgIGlmIChibG9ja0hhc1BhY2tlZCkge1xuICAgICAgICAgIHBhY2tlZEJsb2Nrcy5wdXNoKGJsb2NrKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB1bnBhY2tlZEJsb2Nrcy5wdXNoKGJsb2NrKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGlmICh0aGlzLmFsbG93Um90YXRpb24pIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZJTkFMIFBBU1M6IFJPVEFURSBTUExJVCBNT0RFTFMgYW5kIHRyeSBhZ2FpblxuICAgICAgICAgKi9cbiAgICAgICAgYmxvY2tzVG9QYWNrID0gdW5wYWNrZWRCbG9ja3M7XG4gICAgICAgIGJsb2Nrc1RvUGFjay5mb3JFYWNoKChibG9jaykgPT4ge1xuICAgICAgICAgcm90YXRlQmxvY2soYmxvY2spO1xuICAgICAgICB9KTtcblxuICAgICAgICB1bnBhY2tlZEJsb2NrcyA9IFtdO1xuICAgICAgICBibG9ja3NUb1BhY2suZm9yRWFjaCgoYmxvY2spID0+IHtcbiAgICAgICAgIGxldCBibG9ja0hhc1BhY2tlZCA9IGhlYXBQYWNrZXIucGFja0Jsb2NrKGJsb2NrKTtcbiAgICAgICAgIGlmIChibG9ja0hhc1BhY2tlZCkge1xuICAgICAgICAgICBwYWNrZWRCbG9ja3MucHVzaChibG9jayk7XG4gICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICB1bnBhY2tlZEJsb2Nrcy5wdXNoKGJsb2NrKTtcbiAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG5cblxuICAgICAgLyoqXG4gICAgICAgKiBGSU5BTCBBQ1RJT046IE1lcmdlIHRoZSB1bnBhY2tlZCBpdGVtcyBhbmQgdGhlIHNraXBwZWQgc3BsaXR0aW5nIGl0ZW1zIHRvZ2V0aGVyIGFzIHRoZSBmaW5hbCBmYWlsZWQgaXRlbXNcbiAgICAgICAqL1xuICAgICAgLy9NZXJnZSB0aGUgcmVtYWluaW5nIHVucGFja2VkIGFuZCB1bnNwbGl0IG1vZGVscyB0b2dldGhlclxuICAgICAgdW5wYWNrZWRCbG9ja3MgPSB1bnBhY2tlZEJsb2Nrcy5jb25jYXQoc2tpcFNwbGl0dGluZ0Jsb2Nrcyk7XG4gICAgICAvL05vdyB0cnkgcm90YXRpbmcgdGhlc2VcbiAgICB9XG5cbiAgICB1bnBhY2tlZEJsb2NrcyA9IHVucGFja2VkQmxvY2tzLmNvbmNhdChmYWlsaW5nTW9kZWxzKTtcblxuICAgIC8vR2l2ZSB1cFxuICAgIC8vQ2FsbCB0aGlzIHRvIHByZXZlbnQgZW1wdHkgcGFnZXMgYmVpbmcgc2VudCB0byB0aGUgUERGIHJlbmRlcmVkIChpdCBtb2FucylcbiAgICBoZWFwUGFja2VyLnRyaW1FbXB0eVBhY2tBcmVhcygpO1xuXG4gICAgbGV0IHBhY2tlZFBhZ2VzID0gaGVhcFBhY2tlci5wYWNrZWRBcmVhcygpO1xuXG4gICAgLy9Db252ZXJ0IHRoZSBoZWFwUGFja2VyJ3MgcGFnZXMgJiBibG9ja3MgYmFjayBpbnRvIGFycmF5cyBvZiBtb2RlbHMgd2l0aCBhcHByb3ByaWF0ZSBvZmZzZXRzXG4gICAgbGV0IHBhZ2VNb2RlbHMgPSBwYWNrZWRQYWdlcy5tYXAoKHBhY2tlZFBhZ2UpID0+IHtcbiAgICAgIC8vU2V0IHRoZSBwYWdlIGFzIGFuIGVtcHR5IHBhcmVudCBtb2RlbFxuICAgICAgbGV0IHBhZ2VNb2RlbCA9IHttb2RlbHM6IHt9LCBwYWdlczoge30sIG9yaWdpbjogWzAsMF19O1xuICAgICAgcGFja2VkUGFnZS5ibG9ja3MuZm9yRWFjaCgocGFnZUJsb2NrTW9kZWwpID0+IHtcblxuICAgICAgICAvLyBtYWtlcmpzLm1vZGVsLm1vdmUoXG4gICAgICAgIC8vICAgcGFnZUJsb2NrTW9kZWwubW9kZWwsXG4gICAgICAgIC8vICAgWy1vZmZzZXRbMF0sLW9mZnNldFsxXV1cbiAgICAgICAgLy8gKVxuXG4gICAgICAgIGlmIChwYWdlQmxvY2tNb2RlbC5yb3RhdGVkKSB7XG4gICAgICAgICAgbWFrZXJqcy5tb2RlbC5yb3RhdGUocGFnZUJsb2NrTW9kZWwubW9kZWwsOTApO1xuICAgICAgICB9XG4gICAgICAgIGxldCBtb2RlbEV4dGVudHMgPSBtYWtlcmpzLm1lYXN1cmUubW9kZWxFeHRlbnRzKHBhZ2VCbG9ja01vZGVsLm1vZGVsKTtcbiAgICAgICAgbGV0IG9mZnNldCA9IG1vZGVsRXh0ZW50cy5sb3c7XG5cbiAgICAgICAgbWFrZXJqcy5tb2RlbC5hZGRNb2RlbChcbiAgICAgICAgICBwYWdlTW9kZWwsXG4gICAgICAgICAgbWFrZXJqcy5tb2RlbC5tb3ZlKFxuICAgICAgICAgICAgcGFnZUJsb2NrTW9kZWwubW9kZWwsXG4gICAgICAgICAgICBtYWtlcmpzLnBvaW50LnN1YnRyYWN0KFtwYWdlQmxvY2tNb2RlbC54LHBhZ2VCbG9ja01vZGVsLnldLG9mZnNldClcbiAgICAgICAgICApXG4gICAgICAgICk7XG5cbiAgICAgICAgLy9DYXB0aW9ucyBuZWVkIHNwZWNpYWwgYXR0ZW50aW9uXG4gICAgICAgIGlmIChwYWdlQmxvY2tNb2RlbC5tb2RlbC5jYXB0aW9uKSB7XG4gICAgICAgICAgbWFrZXJqcy5wYXRoLm1vdmUoXG4gICAgICAgICAgICBwYWdlQmxvY2tNb2RlbC5tb2RlbC5jYXB0aW9uLmFuY2hvcixcbiAgICAgICAgICAgIFtwYWdlQmxvY2tNb2RlbC54LHBhZ2VCbG9ja01vZGVsLnldXG4gICAgICAgICAgKVxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHBhZ2VNb2RlbDtcbiAgICB9KTtcblxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHBhY2tlZFBhZ2VzOiBwYWdlTW9kZWxzLFxuICAgICAgdW5wYWNrZWRNb2RlbHM6IHVucGFja2VkQmxvY2tzLm1hcCgoYmxvY2spID0+IChibG9jay5tb2RlbCkpXG4gICAgfVxuICB9XG5cblxufVxuIiwiaW1wb3J0IHsgcnVuRHJhd0NvZGUgfSBmcm9tICcuL2NvZGVydW5uZXIvY29kZXJ1bm5lci5qcyc7XG5pbXBvcnQgbWFrZXJqcyBmcm9tICdtYWtlcmpzJztcbmltcG9ydCB7IE1vZGVsUGFja2VyIH0gZnJvbSAnLi9tb2RlbHBhY2tlci5qcyc7XG5pbXBvcnQgUERGRG9jdW1lbnQgZnJvbSAncGRma2l0U3RhbmRhbG9uZSc7XG5pbXBvcnQgYmxvYlN0cmVhbSBmcm9tICdibG9iLXN0cmVhbSc7XG5cbmZ1bmN0aW9uIG1tVG9QREZQUEkobW1EaXN0YW5jZSkge1xuICAvL3BpeGVsID0gZHBpICogbW0gLyAyNS40IG1tICgxIGluKVxuICBjb25zdCBQREZQUEkgPSA3MjtcbiAgcmV0dXJuIFBERlBQSSAqIG1tRGlzdGFuY2UgLyAyNS40O1xufVxuXG5cbmZ1bmN0aW9uIGJsb2JUb0Jhc2U2NChibG9iKSB7XG4gIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gIHJlYWRlci5yZWFkQXNEYXRhVVJMKGJsb2IpO1xuICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgcmVhZGVyLm9ubG9hZGVuZCA9ICgpID0+IHtcbiAgICAgIHJlc29sdmUocmVhZGVyLnJlc3VsdCk7XG4gICAgfTtcbiAgfSk7XG59O1xuXG5cbmV4cG9ydCBjbGFzcyBSZW5kZXJFbmdpbmUge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnJlbmRlckluUHJvZ3Jlc3MgPSBmYWxzZTtcblxuICB9XG5cbiAgZ2V0UmVuZGVySW5Qcm9ncmVzcygpIHtcbiAgICByZXR1cm4gdGhpcy5yZW5kZXJJblByb2dyZXNzO1xuICB9XG5cbiAgc2NhbGVNb2RlbFRvUERGUFBJKG1vZGVsKSB7XG4gICAgLy9TVG9sZW4gZnJvbTogaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9tYWtlci5qcy9ibG9iL2IxOGY4YThkL3BhY2thZ2VzL21ha2VyLmpzL3NyYy9jb3JlL3BkZi50cyNMMTFcbiAgICAvL3RyeSB0byBnZXQgdGhlIHVuaXQgc3lzdGVtIGZyb20gdGhlIGl0ZW1Ub0V4cG9ydFxuICAgIHZhciBzY2FsZSA9IDE7XG4gICAgdmFyIGV4cG9ydFVuaXRzID0gJ21tJztcbiAgICBpZiAoZXhwb3J0VW5pdHMpIHtcbiAgICAgICAgLy9jb252ZXJ0IHRvIGluY2hcbiAgICAgICAgc2NhbGUgPSBtYWtlcmpzLnVuaXRzLmNvbnZlcnNpb25TY2FsZShleHBvcnRVbml0cywgbWFrZXJqcy51bml0VHlwZS5JbmNoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvL2Fzc3VtZSBwaXhlbHMsIGNvbnZlcnQgdG8gaW5jaFxuICAgICAgICBzY2FsZSA9IDEgLyAxMDA7XG4gICAgfVxuXG4gICAgLy9mcm9tIGluY2ggdG8gUERGIFBQSVxuICAgIHNjYWxlICo9IDcyO1xuXG4gICAgLy9UT0RPIHNjYWxlIGVhY2ggZWxlbWVudCB3aXRob3V0IGEgd2hvbGUgY2xvbmVcbiAgICB2YXIgc2NhbGVkTW9kZWwgPSBtYWtlcmpzLm1vZGVsLnNjYWxlKG1ha2VyanMubW9kZWwuY2xvbmUobW9kZWwpLCBzY2FsZSk7XG4gICAgcmV0dXJuIHNjYWxlZE1vZGVsO1xuICB9XG5cbiAgcmVuZGVyTW9kZWxUb1NWRyhtb2RlbCxyZW5kZXJPcHRzKXtcbiAgICBsZXQgcmVuZGVyT3B0aW9ucyA9IHtcbiAgICAgIHN0eWxlU2V0OiB7XG4gICAgICAgICAgc3RpdGNoOiB7XG4gICAgICAgICAgICBzdHJva2U6ICdyZWQnLFxuICAgICAgICAgICAgc3Ryb2tlV2lkdGg6ICcxJyxcbiAgICAgICAgICAgIGNzc1N0eWxlOiAnc3Ryb2tlLWRhc2hhcnJheTogNSwgNSdcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNlbnRlcjoge1xuICAgICAgICAgICAgc3Ryb2tlOiAnZ3JlZW4nLFxuICAgICAgICAgICAgc3Ryb2tlV2lkdGg6ICcxJyxcbiAgICAgICAgICAgIGNzc1N0eWxlOiAnc3Ryb2tlLWRhc2hhcnJheTogNSwgNSwgMTIsIDUnXG4gICAgICAgICAgfSxcbiAgICAgICAgICBoaW50OiB7XG4gICAgICAgICAgICBzdHJva2U6ICdibHVlJyxcbiAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAnMScsXG4gICAgICAgICAgICBjc3NTdHlsZTogJ3N0cm9rZS1kYXNoYXJyYXk6IDIsIDgnXG4gICAgICAgICAgfSxcbiAgICAgICAgfVxuICAgIH1cbiAgICBPYmplY3QuYXNzaWduKHJlbmRlck9wdGlvbnMscmVuZGVyT3B0cyk7XG5cblxuICAgIG1vZGVsLnVuaXRzID0gbWFrZXJqcy51bml0VHlwZS5NaWxsaW1ldGVyO1xuICAgIHJldHVybiBtYWtlcmpzLmV4cG9ydGVyLnRvU1ZHKG1vZGVsLCB7XG4gICAgICB1c2VTdmdQYXRoT25seTogZmFsc2UsXG4gICAgICB1bml0czogJ21tJyxcbiAgICAgIGxheWVyT3B0aW9uczogcmVuZGVyT3B0aW9ucy5zdHlsZVNldFxuICAgIH0pO1xuICB9XG5cbiAgcmVuZGVyUGFnZU1vZGVsc1RvU1ZHKHBhZ2VNb2RlbHMscmVuZGVyT3B0aW9ucykge1xuICAgIGxldCBzdmdQYWdlcyA9IHBhZ2VNb2RlbHMubWFwKChwYWNrZWRQYWdlKSA9PiB7XG4gICAgICByZXR1cm4gdGhpcy5yZW5kZXJNb2RlbFRvU1ZHKHBhY2tlZFBhZ2UscmVuZGVyT3B0aW9ucyk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHN2Z1BhZ2VzKTtcbiAgfVxuXG4gIG1vZGVsVG9QREYoZG9jLG1vZGVsLHBhZ2VNYXJnaW5zLGxheWVyU3R5bGVzKSB7XG4gICAgLy9FbnN1cmUgdGhlcmUgaXMgYSBzdHlsZXNldCBhbmQgaXQgaGFzIGEgYmFzZSBzdHlsZXNldCBhcyBtaW5pbXVtIC0gYXMgdGhpcyB3aWxsIGJlIHRoZSBkZWZhdWx0XG4gICAgaWYgKCFsYXllclN0eWxlcykge1xuICAgICAgbGF5ZXJTdHlsZXMgPSB7fTtcbiAgICB9XG4gICAgaWYgKCFsYXllclN0eWxlcy5iYXNlKSB7XG4gICAgICBsYXllclN0eWxlcy5iYXNlID0ge1xuICAgICAgICBzdHJva2VXaWR0aDogMSxcbiAgICAgICAgc3Ryb2tlQ29sb3I6ICcjMDAwJ1xuICAgICAgfVxuICAgIH1cbiAgICAvL05vdCB1c2luZyBQREZNYWtlIGFzIGl0IGRvZXNuJ3QgbGV0IHVzIGNvbnRyb2wgcGFnZXNcbiAgICBsZXQgc2NhbGVkTW9kZWwgPSB0aGlzLnNjYWxlTW9kZWxUb1BERlBQSShtb2RlbCk7XG4gICAgLy9BcHBseSBNYXJnaW5zXG4gICAgLy8gbWFrZXJqcy5tb2RlbC5tb3ZlKHNjYWxlZE1vZGVsLFsxMDAsMTAwXSk7XG4gICAgbGV0IG1vZGVsRXh0ZW50cyA9IG1ha2VyanMubWVhc3VyZS5tb2RlbEV4dGVudHMoc2NhbGVkTW9kZWwpO1xuXG4gICAgbGV0IHN2Z1BhdGhzID0gbWFrZXJqcy5leHBvcnRlci50b1NWR1BhdGhEYXRhKHNjYWxlZE1vZGVsLHtcbiAgICAgIG9yaWdpbjogW21tVG9QREZQUEkocGFnZU1hcmdpbnMubGVmdCksbW9kZWxFeHRlbnRzLmhpZ2hbMV0rbW1Ub1BERlBQSShwYWdlTWFyZ2lucy50b3ApXSxcbiAgICAgIGJ5TGF5ZXJzOiB0cnVlXG4gICAgfSk7XG4gICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoc3ZnUGF0aHMpKSB7XG4gICAgICAvLyBjb21wb25lbnRzID0gY29tcG9uZW50cy5jb25jYXQoZmluZENvbXBvbmVudHNJbk1vZGVsVHJlZXModmFsdWUpKTtcblxuICAgICAgLy9TYXZlIHRoZSBiYXNlIHN0eWxlIHNvIHdlIGNhbiByZXN0b3JlIHRvIGl0IGxhdGVyXG4gICAgICBkb2Muc2F2ZSgpO1xuICAgICAgZG9jLnBhdGgodmFsdWUpO1xuICAgICAgLy9BcHBseSB0aGUgc3R5bGUgaWYgdGhlIGxheWVyIGhhcyBvbmUgaW4gc3R5bGVzZXRcbiAgICAgIGxldCBzdHlsZSA9IGxheWVyU3R5bGVzWygoIWtleSkgfHwgKGtleT09JycpKT8nYmFzZSc6a2V5XTtcbiAgICAgIGlmICghc3R5bGUpIHtzdHlsZSA9IGxheWVyU3R5bGVzLmJhc2V9XG5cbiAgICAgIGlmIChzdHlsZSkge1xuICAgICAgICBpZiAoc3R5bGUuc3Ryb2tlV2lkdGgpIHtkb2MubGluZVdpZHRoKHN0eWxlLnN0cm9rZVdpZHRoKTt9XG4gICAgICAgIGlmIChzdHlsZS5kYXNoZWQpIHtkb2MuZGFzaChzdHlsZS5kYXNoZWRbMF0sc3R5bGUuZGFzaGVkWzFdKTt9IGVsc2Uge2RvYy51bmRhc2goKX1cbiAgICAgICAgaWYgKHN0eWxlLnN0cm9rZUNvbG9yKSB7ZG9jLnN0cm9rZShzdHlsZS5zdHJva2VDb2xvcik7fVxuICAgICAgfVxuXG5cbiAgICAgIC8vUmVzdG9yZSBpZiBhbnkgY2hhbmdlcyB0byB0aGUgc3R5bGVzXG4gICAgICBkb2MucmVzdG9yZSgpO1xuICAgIH1cblxuICAgIG1ha2VyanMubW9kZWwuZ2V0QWxsQ2FwdGlvbnNPZmZzZXQoc2NhbGVkTW9kZWwpLmZvckVhY2goKG1vZGVsQ2FwdGlvbikgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ1Byb2Nlc3NpbmcnLG1vZGVsQ2FwdGlvbik7XG4gICAgICBkb2MudGV4dChcbiAgICAgICAgbW9kZWxDYXB0aW9uLnRleHQsXG4gICAgICAgIG1vZGVsRXh0ZW50cy5sb3dbMF0gKyBtbVRvUERGUFBJKHBhZ2VNYXJnaW5zLmxlZnQpICsgbW9kZWxDYXB0aW9uLmFuY2hvci5vcmlnaW5bMF0sXG4gICAgICAgIChtb2RlbEV4dGVudHMuaGlnaFsxXSArIG1tVG9QREZQUEkocGFnZU1hcmdpbnMudG9wKSkgLSBtb2RlbENhcHRpb24uYW5jaG9yLm9yaWdpblsxXSAtICgobW9kZWxDYXB0aW9uLmFuY2hvci5lbmRbMV0gLSBtb2RlbENhcHRpb24uYW5jaG9yLm9yaWdpblsxXSkvMiksXG4gICAgICAgIHtcbiAgICAgICAgICBiYXNlbGluZTogJ3RvcCdcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICAgIGNvbnNvbGUubG9nKCdQcm9jZXNzaW5nJyxtb2RlbENhcHRpb24sbW9kZWxFeHRlbnRzLCBtbVRvUERGUFBJKHBhZ2VNYXJnaW5zLnRvcCksbW9kZWxFeHRlbnRzLmxvd1swXSArIG1tVG9QREZQUEkocGFnZU1hcmdpbnMubGVmdCkgKyBtb2RlbENhcHRpb24uYW5jaG9yLm9yaWdpblswXSwobW9kZWxFeHRlbnRzLmhpZ2hbMV0gKyBtbVRvUERGUFBJKHBhZ2VNYXJnaW5zLnRvcCkpIC0gbW9kZWxDYXB0aW9uLmFuY2hvci5vcmlnaW5bMV0pO1xuICAgIH0pO1xuXG5cbiAgfVxuXG4gIHJlbmRlclBhZ2VNb2RlbHNUb1BERihwYWdlTW9kZWxzLHJlbmRlck9wdHMpIHtcbiAgICBsZXQgcmVuZGVyT3B0aW9ucyA9IHtcbiAgICAgIHN0eWxlU2V0OiB7XG4gICAgICAgIGJhc2U6IHtcbiAgICAgICAgICBzdHJva2VXaWR0aDogJzEnLFxuICAgICAgICAgIHN0cm9rZUNvbG9yOiAnIzAwMCdcbiAgICAgICAgfSxcbiAgICAgICAgY2VudGVyOiB7XG4gICAgICAgICAgc3Ryb2tlV2lkdGg6ICcxJyxcbiAgICAgICAgICBkYXNoZWQ6IFsxMCwyMF0sXG4gICAgICAgICAgc3Ryb2tlQ29sb3I6ICcjMEYwJ1xuICAgICAgICB9LFxuICAgICAgICBoaW50OiB7XG4gICAgICAgICAgc3Ryb2tlV2lkdGg6ICcxJyxcbiAgICAgICAgICBkYXNoZWQ6IFs1LDVdLFxuICAgICAgICAgIHN0cm9rZUNvbG9yOiAnIzAwRidcbiAgICAgICAgfSxcbiAgICAgICAgc3RpdGNoOiB7XG4gICAgICAgICAgc3Ryb2tlV2lkdGg6ICcxJyxcbiAgICAgICAgICBkYXNoZWQ6IFsyLDEwXSxcbiAgICAgICAgICBzdHJva2VDb2xvcjogJyNGMDAwJ1xuICAgICAgICB9LFxuICAgICAgICBwYXR0ZXJuSm9pbkxpbmU6IHtcbiAgICAgICAgICBzdHJva2VXaWR0aDogJzEnLFxuICAgICAgICAgIGRhc2hlZDogWzIsMTBdLFxuICAgICAgICAgIHN0cm9rZUNvbG9yOiAnI2IyYydcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBwYWdlTWFyZ2luczogNSxcbiAgICAgIHVuaXRzOiAnbW0nLFxuICAgICAgbGF5b3V0OiAncG9ydHJhaXQnLFxuICAgICAgcGFnZVNpemU6ICdBNCcsXG5cbiAgICB9XG5cbiAgICBPYmplY3QuYXNzaWduKHJlbmRlck9wdGlvbnMscmVuZGVyT3B0cyk7XG5cbiAgICAvL0RvIHNvbWUgc2FuaXR5IGNoZWNraW5nXG4gICAgaWYgKCFyZW5kZXJPcHRpb25zLnBhZ2VTaXplKSB7XG4gICAgICB0aHJvdyAnUGFnZSBzaXplIG11c3QgYmUgc3BlY2lmaWVkIGZvciBQREYgcmVuZGVyaW5nLCB0cnkgQTQnXG4gICAgfVxuXG4gICAgaWYgKHJlbmRlck9wdGlvbnMucGFnZU1hcmdpbnMpIHtcbiAgICAgIC8vZm9yY2UgcGFnZU1hcmdpbnMgdG8gYmUgYW4gb2JqZWN0IGZvciBzaW1wbGljaXR5IGxhdGVyYFxuICAgICAgLy9Nb2RlbCBwYWNrZXIgc2hvdWxkIGhhdmUgdGFrZW4gY2FyZSBvZiB0aGlzIGZvciB1c1xuICAgICAgaWYgKHR5cGVvZiByZW5kZXJPcHRpb25zLnBhZ2VNYXJnaW5zICE9IFwib2JqZWN0XCIpIHtcbiAgICAgICAgcmVuZGVyT3B0aW9ucy5wYWdlTWFyZ2lucyA9IHtcbiAgICAgICAgICBsZWZ0OiByZW5kZXJPcHRpb25zLnBhZ2VNYXJnaW5zLFxuICAgICAgICAgIHJpZ2h0OiByZW5kZXJPcHRpb25zLnBhZ2VNYXJnaW5zLFxuICAgICAgICAgIHRvcDogcmVuZGVyT3B0aW9ucy5wYWdlTWFyZ2lucyxcbiAgICAgICAgICBib3R0b206IHJlbmRlck9wdGlvbnMucGFnZU1hcmdpbnNcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vY3Rpb24gY3JlYXRlUGFnZXNBc1BERihwYWdlcyxtYXJnaW5Ub3BMZWZ0ID0gWzAsMF0sc3R5bGVTZXQgPSBudWxsLHBkZkFjdGlvbil7XG4gICAgLy9cbiAgICBsZXQgcGRmUGFnZVNldHRpbmdzID0ge1xuICAgICAgbGF5b3V0OiByZW5kZXJPcHRpb25zLmxheW91dCxcbiAgICAgIC8vaWYgdGhlIHBhZ2VTaXplIGlzIGEgc3RyaW5nIGFzc3VtZSBpdHMgQTQsQTUgb3Igc2ltaWxhciwgb3RoZXJ3aXNlIGFzc3VtZSBpdHMgcGFnZSBkaW1zIG9iamVjdCB3aXRoIHggYW5kIHlcbiAgICAgIHNpemU6ICgodHlwZW9mIHJlbmRlck9wdGlvbnMucGFnZVNpemUgPT0gJ3N0cmluZycpPyhyZW5kZXJPcHRpb25zLnBhZ2VTaXplKTooW21tVG9QREZQUEkocmVuZGVyT3B0aW9ucy5wYWdlU2l6ZS54KSxtbVRvUERGUFBJKHJlbmRlck9wdGlvbnMucGFnZVNpemUueSldKSlcbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZygnUERGIFNldHVwJyxwZGZQYWdlU2V0dGluZ3MpO1xuICAgIGxldCBkb2MgPSBuZXcgUERGRG9jdW1lbnQoe1xuICAgICAgYXV0b0ZpcnN0UGFnZTogZmFsc2UsXG4gICAgfSk7XG5cbiAgICBsZXQgc3RyZWFtID0gZG9jLnBpcGUoYmxvYlN0cmVhbSgpKTtcbiAgICBwYWdlTW9kZWxzLmZvckVhY2gocGFnZSA9PiB7XG4gICAgICBkb2MuYWRkUGFnZShwZGZQYWdlU2V0dGluZ3MpO1xuXG4gICAgICAvLyBtYWtlcmpzLmV4cG9ydGVyLnRvUERGKGRvYyxwYWdlLHBkZkV4cG9ydE9wdGlvbnMpO1xuICAgICAgdGhpcy5tb2RlbFRvUERGKGRvYyxwYWdlLHJlbmRlck9wdGlvbnMucGFnZU1hcmdpbnMscmVuZGVyT3B0aW9ucy5zdHlsZVNldCk7XG4gICAgfSk7XG5cbiAgICAvLyBGaW5hbGl6ZSBQREYgZmlsZVxuICAgIGRvYy5lbmQoKTtcbiAgICAvLyBnZXQgYSBibG9iIHdoZW4geW91J3JlIGRvbmVcblxuXG5cbiAgICBsZXQgcGRmQ29tcGxldGVkID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIHN0cmVhbS5vbignZmluaXNoJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgLy8gZ2V0IGEgYmxvYiB5b3UgY2FuIGRvIHdoYXRldmVyIHlvdSBsaWtlIHdpdGhcbiAgICAgICAgICBjb25zdCBibG9iID0gc3RyZWFtLnRvQmxvYignYXBwbGljYXRpb24vcGRmJyk7XG4gICAgICAgICAgcmVzb2x2ZShibG9iVG9CYXNlNjQoYmxvYikpO1xuICAgICAgICB9KTtcblxuICAgICAgICBzdHJlYW0ub24oJ2Vycm9yJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmVqZWN0KClcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHBkZkNvbXBsZXRlZDtcbiAgfVxuXG4gIHJlbmRlckNvZGUoY29kZSxvcHRpb25zLHJlc3BvbnNlQ2FsbGJhY2spIHtcbiAgICB0aGlzLnJlbmRlckluUHJvZ3Jlc3MgPSB0cnVlO1xuXG4gICAgbGV0IHJlbmRlck9wdGlvbnMgPSB7XG4gICAgICBmb3JtYXQ6ICdTVkcnLFxuICAgICAgcGFnZVNpemU6IHt4OiAxMDAwLCB5OiAxMDAwfSxcbiAgICAgIHBhY2tUb1BhZ2VzOiBmYWxzZSxcbiAgICAgIGNhbkFkZFBhZ2VzOiB0cnVlLFxuICAgICAgY2FuR3Jvd1BhZ2VTaXplOiBmYWxzZSxcbiAgICAgIHBhZ2VNYXJnaW5zOiAxMCxcbiAgICAgIGFsbG93U3BsaXR0aW5nOiB0cnVlLFxuICAgICAgYWxsb3dSb3RhdGlvbjogdHJ1ZVxuICAgIH1cbiAgICBPYmplY3QuYXNzaWduKHJlbmRlck9wdGlvbnMsb3B0aW9ucyk7XG5cbiAgICBpZiAocmVuZGVyT3B0aW9ucy5wYWdlTWFyZ2lucykge1xuICAgICAgLy9mb3JjZSBwYWdlTWFyZ2lucyB0byBiZSBhbiBvYmplY3QgZm9yIHNpbXBsaWNpdHkgbGF0ZXJgXG4gICAgICAvL01vZGVsIHBhY2tlciBzaG91bGQgaGF2ZSB0YWtlbiBjYXJlIG9mIHRoaXMgZm9yIHVzXG4gICAgICBpZiAodHlwZW9mIHJlbmRlck9wdGlvbnMucGFnZU1hcmdpbnMgIT0gXCJvYmplY3RcIikge1xuICAgICAgICByZW5kZXJPcHRpb25zLnBhZ2VNYXJnaW5zID0ge1xuICAgICAgICAgIGxlZnQ6IHJlbmRlck9wdGlvbnMucGFnZU1hcmdpbnMsXG4gICAgICAgICAgcmlnaHQ6IHJlbmRlck9wdGlvbnMucGFnZU1hcmdpbnMsXG4gICAgICAgICAgdG9wOiByZW5kZXJPcHRpb25zLnBhZ2VNYXJnaW5zLFxuICAgICAgICAgIGJvdHRvbTogcmVuZGVyT3B0aW9ucy5wYWdlTWFyZ2luc1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGV0IHVzZXJQYXJhbWV0ZXJzID0gT2JqZWN0LmFzc2lnbih7fSxvcHRpb25zLnVzZXJQYXJhbWV0ZXJzKTtcblxuICAgIGxldCBjb2RlUnVubmVyUmVzdWx0ID0gcnVuRHJhd0NvZGUoY29kZSx1c2VyUGFyYW1ldGVycyk7XG5cbiAgICBsZXQgbW9kZWxzRm9yUGFnZVBhY2tpbmcgPSBjb2RlUnVubmVyUmVzdWx0Lm91dHB1dDtcbiAgICBpZiAoKEFycmF5LmlzQXJyYXkobW9kZWxzRm9yUGFnZVBhY2tpbmcpKSAmJiAobW9kZWxzRm9yUGFnZVBhY2tpbmcubGVuZ3RoID4gMCkpIHtcblxuICAgICAgbGV0IG1vZGVsUGFja2VyID0gbmV3IE1vZGVsUGFja2VyKHtcbiAgICAgICAgcGFnZVNpemU6IHtcbiAgICAgICAgICB4OiBNYXRoLm1heChyZW5kZXJPcHRpb25zLnBhZ2VTaXplLnggLSAocmVuZGVyT3B0aW9ucy5wYWdlTWFyZ2lucy5sZWZ0ICsgcmVuZGVyT3B0aW9ucy5wYWdlTWFyZ2lucy5yaWdodCksMCksXG4gICAgICAgICAgeTogTWF0aC5tYXgocmVuZGVyT3B0aW9ucy5wYWdlU2l6ZS55IC0gKHJlbmRlck9wdGlvbnMucGFnZU1hcmdpbnMudG9wICsgcmVuZGVyT3B0aW9ucy5wYWdlTWFyZ2lucy5ib3R0b20pLDApLFxuICAgICAgICB9LFxuICAgICAgICBwYWdlU2l6ZUdyb3dMaW1pdDoge3g6IC0xLCB5OiAtMX0sXG4gICAgICAgIGNhbkFkZFBhZ2VzOiByZW5kZXJPcHRpb25zLmNhbkFkZFBhZ2VzLFxuICAgICAgICBjYW5Hcm93UGFnZVNpemU6IHJlbmRlck9wdGlvbnMuY2FuR3Jvd1BhZ2VTaXplLFxuICAgICAgICBhbGxvd1JvdGF0aW9uOiByZW5kZXJPcHRpb25zLmFsbG93Um90YXRpb24sXG4gICAgICAgIGFsbG93U3BsaXR0aW5nOiByZW5kZXJPcHRpb25zLmFsbG93U3BsaXR0aW5nXG4gICAgICB9KTtcblxuICAgICAgbGV0IHBhY2tpbmdSZXN1bHQgPSBtb2RlbFBhY2tlci5wYWNrTW9kZWxzKG1vZGVsc0ZvclBhZ2VQYWNraW5nKTtcbiAgICAgIGNvbnNvbGUubG9nKCdQYWNraW5nIFJlc3VsdCcscGFja2luZ1Jlc3VsdCk7XG4gICAgICBsZXQgcmVuZGVyZWRQYWdlcyA9IFtdO1xuICAgICAgaWYgKHJlbmRlck9wdGlvbnMuZm9ybWF0ID09ICdTVkcnKSB7XG4gICAgICAgIHJlbmRlcmVkUGFnZXMgPSB0aGlzLnJlbmRlclBhZ2VNb2RlbHNUb1NWRyhwYWNraW5nUmVzdWx0LnBhY2tlZFBhZ2VzLHJlbmRlck9wdGlvbnMpO1xuICAgICAgfSBlbHNlIGlmKHJlbmRlck9wdGlvbnMuZm9ybWF0ID09ICdQREYnKSB7XG4gICAgICAgIHJlbmRlcmVkUGFnZXMgPSB0aGlzLnJlbmRlclBhZ2VNb2RlbHNUb1BERihwYWNraW5nUmVzdWx0LnBhY2tlZFBhZ2VzLHJlbmRlck9wdGlvbnMpO1xuICAgICAgfVxuXG4gICAgICAvLyBsZXQgcmVuZGVyZWRTVkcgPSB0aGlzLnJlbmRlck1vZGVsc1RvU1ZHKGNvZGVSdW5uZXJSZXN1bHQub3V0cHV0KTtcbiAgICAgIC8vIGNvbnNvbGUubG9nKCdTVkcgUEFnZXMnLHJlbmRlcmVkU1ZHUGFnZXMpO1xuICAgICAgcmVuZGVyZWRQYWdlcy50aGVuKChyZW5kZXJlZERhdGEpID0+IHtcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHJlbmRlcmVkRGF0YSkpIHtyZW5kZXJlZERhdGEgPSBbcmVuZGVyZWREYXRhXX07XG4gICAgICAgIHJlc3BvbnNlQ2FsbGJhY2soe1xuICAgICAgICAgIHR5cGU6ICdyZW5kZXJSZXNwb25zZScsXG4gICAgICAgICAgY29udGVudFR5cGU6IHJlbmRlck9wdGlvbnMuZm9ybWF0LFxuICAgICAgICAgIHJlbmRlckZvcjogb3B0aW9ucy5yZW5kZXJGb3IsXG4gICAgICAgICAgc3VjY2Vzc0NvbnRlbnQ6IHJlbmRlcmVkRGF0YSxcbiAgICAgICAgICBlcnJvckNvbnRlbnQ6IHBhY2tpbmdSZXN1bHQudW5wYWNrZWRNb2RlbHMsXG4gICAgICAgICAgbG9nTWVzc2FnZXM6IFtdLFxuICAgICAgICB9KVxuICAgICAgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzcG9uc2VDYWxsYmFjayh7XG4gICAgICAgIHR5cGU6ICdyZW5kZXJSZXNwb25zZScsXG4gICAgICAgIGNvbnRlbnRUeXBlOiByZW5kZXJPcHRpb25zLmZvcm1hdCxcbiAgICAgICAgcmVuZGVyRm9yOiBvcHRpb25zLnJlbmRlckZvcixcbiAgICAgICAgc3VjY2Vzc0NvbnRlbnQ6IFtdLFxuICAgICAgICBlcnJvckNvbnRlbnQ6IFtdLFxuICAgICAgICBsb2dNZXNzYWdlczogW10sXG4gICAgICB9KVxuICAgIH1cblxuXG5cbiAgICB0aGlzLnJlbmRlckluUHJvZ3Jlc3MgPSBmYWxzZTtcbiAgfVxuXG4gIHJlc2V0KCkge1xuXG4gIH1cbn1cbiIsImltcG9ydCBtYWtlcmpzIGZyb20gJ21ha2VyanMnO1xuaW1wb3J0IHsgQ29kZVJ1bm5lclV0aWxzIH0gZnJvbSAnLi9jb2RlcnVubmVydXRpbHMuanMnO1xuXG5leHBvcnQgZnVuY3Rpb24gcnVuRHJhd0NvZGUoZHJhd0NvZGUsdXNlclBhcmFtZXRlcnMpe1xuICBsZXQgQ29kZVdyYXBwZXJGdW5jdGlvbiA9IG5ldyBGdW5jdGlvbignY29uc29sZScsJ21ha2VyanMnLCdNYWtlckpzJywndXNlclBhcmFtZXRlcnMnLCd1dGlscycsIGRyYXdDb2RlKTtcbiAgQ29kZVdyYXBwZXJGdW5jdGlvbi5wcm90b3R5cGUubW9kZWxzID0ge307XG4gIC8vVE9ETzogV3JhcCB0aGUgY29uc29sZSB3aXRoIGFuIG9iamVjdCB0aGF0IHRha2VzIG92ZXIgYW5kIGZlZWRzIGJhY2sgdG8gdGhlIFVJXG4gIGxldCBjcnUgPSBuZXcgQ29kZVJ1bm5lclV0aWxzKCk7XG4gIGxldCBjb2RlUmVzdWx0ID0gbmV3IENvZGVXcmFwcGVyRnVuY3Rpb24oY29uc29sZSxtYWtlcmpzLG1ha2VyanMsdXNlclBhcmFtZXRlcnMsY3J1KTtcblxuICBsZXQgcmV0dXJuVmFsID0gbnVsbDtcblxuICBpZiAoY29kZVJlc3VsdCkge1xuICAgIHJldHVyblZhbCA9IHt9O1xuXG4gICAgaWYgKGNvZGVSZXN1bHQudXNlclBhcmFtZXRlcnMpIHtcbiAgICAgIHJldHVyblZhbC51c2VyUGFyYW1ldGVycyA9IGNvZGVSZXN1bHQudXNlclBhcmFtZXRlcnM7XG4gICAgfVxuXG4gICAgaWYgKGNvZGVSZXN1bHQuc3R5bGVTZXQpIHtcbiAgICAgIHJldHVyblZhbC5zdHlsZVNldCA9IGNvZGVSZXN1bHQuc3R5bGVTZXQ7XG4gICAgfVxuXG4gICAgaWYgKGNvZGVSZXN1bHQubG9nKSB7XG4gICAgICByZXR1cm5WYWwubG9nID0gY29kZVJlc3VsdC5sb2c7XG4gICAgfVxuXG4gICAgaWYgKChjb2RlUmVzdWx0Lm1vZGVscykgJiYgY29kZVJlc3VsdC5tb2RlbHMgIT0gJ2xlZ2FjeScpIHtcbiAgICAgIC8vVE9ETzogZml4IHRoaXMgc28gdXNlcnMganVzdCBhc3NpZ24gdG8gdGhpcy5tb2RlbHMgYWx3YXlzICh0byBwcmV2ZW50IG5hbWVzcGFjZSBwb2xsdXRpb24gb2YgdXNlciB0aGluZ3MpXG4gICAgICAvL0V4cGVjdCBtb2RlbHMgdG8gYmUgYSBuYW1lZCBvYmplY3RcblxuICAgICAgbGV0IG1vZGVsQXJyYXkgPSBbXTtcbiAgICAgIG1vZGVsQXJyYXkgPSBPYmplY3Qua2V5cyhjb2RlUmVzdWx0Lm1vZGVscykubWFwKChrZXkpID0+IHtcbiAgICAgICAgcmV0dXJuIGNvZGVSZXN1bHQubW9kZWxzW2tleV1cbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm5WYWwub3V0cHV0ID0gbW9kZWxBcnJheTtcbiAgICB9ICBlbHNlIGlmICgoY29kZVJlc3VsdCkgJiYgKE9iamVjdC5rZXlzKGNvZGVSZXN1bHQpLmxlbmd0aCA+IDApKSB7XG4gICAgICAvL09ubHkgaWYgbW9kZWxzIGlzbid0IGFzc2lnbmVkIHNob3VsZCB3ZSBsb29rIHRocm91Z2ggdGhlIHdob2xlIG9iamVjdFxuICAgICAgLy9Bc3N1bWUgZXZlcnl0aGluZyBpbnNpZGUgd2hhdCB3ZSB3ZXJlIGdpdmVuIGlzIGEgbW9kZWwgZXhjZXB0IHRoZSBrZXl3b3JkcyBhYm92ZVxuICAgICAgbGV0IG1vZGVsQXJyYXkgPSBbXTtcbiAgICAgIG1vZGVsQXJyYXkgPSBPYmplY3Qua2V5cyhjb2RlUmVzdWx0KS5maWx0ZXIoa2V5ID0+ICghWyd1c2VyUGFyYW1ldGVycycsJ3N0eWxlU2V0JywnbW9kZWxzJywnbG9nJywnaW5zdHJ1Y3Rpb25zJywnYm9tJywnbm90ZXMnXS5pbmNsdWRlcyhrZXkpKSkubWFwKChrZXkpID0+IHtcbiAgICAgICAgcmV0dXJuIGNvZGVSZXN1bHRba2V5XVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVyblZhbC5vdXRwdXQgPSBtb2RlbEFycmF5O1xuICAgIH1cblxuICB9XG4gIGNvbnNvbGVcbiAgcmV0dXJuIHJldHVyblZhbDtcblxufVxuIiwiaW1wb3J0IHsgUmVuZGVyRW5naW5lIH0gZnJvbSAnLi9yZW5kZXJlbmdpbmUuanMnO1xuLy9SZW5kZXJpbmcgZW5naW5lIHdvcmtlciB0aHJlYWRcbnNlbGYub25tZXNzYWdlID0gKHsgZGF0YSB9KSA9PiB7XG5cbiAgbGV0IGhhbmRsZVJlbmRlclJlc3BvbnNlID0gKHJlc3BvbnNlRGF0YSkgPT4ge1xuICAgIHNlbGYucG9zdE1lc3NhZ2UocmVzcG9uc2VEYXRhKVxuICB9XG5cbiAgbGV0IHJlbmRlckVuZ2luZSA9IG5ldyBSZW5kZXJFbmdpbmU7XG4gIGlmIChkYXRhLnR5cGUgPT0gJ3JlbmRlclJlcXVlc3QnKSB7XG4gICAgcmVuZGVyRW5naW5lLnJlbmRlckNvZGUoXG4gICAgICBkYXRhLmNvZGUsXG4gICAgICBkYXRhLm9wdGlvbnMsXG4gICAgICBoYW5kbGVSZW5kZXJSZXNwb25zZVxuICAgIClcbiAgfVxuXG59O1xuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbi8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBfX3dlYnBhY2tfbW9kdWxlc19fO1xuXG4vLyB0aGUgc3RhcnR1cCBmdW5jdGlvblxuX193ZWJwYWNrX3JlcXVpcmVfXy54ID0gKCkgPT4ge1xuXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcblx0Ly8gVGhpcyBlbnRyeSBtb2R1bGUgZGVwZW5kcyBvbiBvdGhlciBsb2FkZWQgY2h1bmtzIGFuZCBleGVjdXRpb24gbmVlZCB0byBiZSBkZWxheWVkXG5cdHZhciBfX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXy5PKHVuZGVmaW5lZCwgWzhdLCAoKSA9PiAoX193ZWJwYWNrX3JlcXVpcmVfXyg3NDY0KSkpXG5cdF9fd2VicGFja19leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fLk8oX193ZWJwYWNrX2V4cG9ydHNfXyk7XG5cdHJldHVybiBfX3dlYnBhY2tfZXhwb3J0c19fO1xufTtcblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmYgPSB7fTtcbi8vIFRoaXMgZmlsZSBjb250YWlucyBvbmx5IHRoZSBlbnRyeSBjaHVuay5cbi8vIFRoZSBjaHVuayBsb2FkaW5nIGZ1bmN0aW9uIGZvciBhZGRpdGlvbmFsIGNodW5rc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5lID0gKGNodW5rSWQpID0+IHtcblx0cmV0dXJuIFByb21pc2UuYWxsKE9iamVjdC5rZXlzKF9fd2VicGFja19yZXF1aXJlX18uZikucmVkdWNlKChwcm9taXNlcywga2V5KSA9PiB7XG5cdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5mW2tleV0oY2h1bmtJZCwgcHJvbWlzZXMpO1xuXHRcdHJldHVybiBwcm9taXNlcztcblx0fSwgW10pKTtcbn07IiwiLy8gVGhpcyBmdW5jdGlvbiBhbGxvdyB0byByZWZlcmVuY2UgYXN5bmMgY2h1bmtzIGFuZCBzaWJsaW5nIGNodW5rcyBmb3IgdGhlIGVudHJ5cG9pbnRcbl9fd2VicGFja19yZXF1aXJlX18udSA9IChjaHVua0lkKSA9PiB7XG5cdC8vIHJldHVybiB1cmwgZm9yIGZpbGVuYW1lcyBiYXNlZCBvbiB0ZW1wbGF0ZVxuXHRyZXR1cm4gXCJcIiArIGNodW5rSWQgKyBcIi5idW5kbGUuanNcIjtcbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5nID0gKGZ1bmN0aW9uKCkge1xuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm4gZ2xvYmFsVGhpcztcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcyB8fCBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JykgcmV0dXJuIHdpbmRvdztcblx0fVxufSkoKTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwidmFyIHNjcmlwdFVybDtcbmlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLmcuaW1wb3J0U2NyaXB0cykgc2NyaXB0VXJsID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmxvY2F0aW9uICsgXCJcIjtcbnZhciBkb2N1bWVudCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5kb2N1bWVudDtcbmlmICghc2NyaXB0VXJsICYmIGRvY3VtZW50KSB7XG5cdGlmIChkb2N1bWVudC5jdXJyZW50U2NyaXB0KVxuXHRcdHNjcmlwdFVybCA9IGRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjXG5cdGlmICghc2NyaXB0VXJsKSB7XG5cdFx0dmFyIHNjcmlwdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKTtcblx0XHRpZihzY3JpcHRzLmxlbmd0aCkgc2NyaXB0VXJsID0gc2NyaXB0c1tzY3JpcHRzLmxlbmd0aCAtIDFdLnNyY1xuXHR9XG59XG4vLyBXaGVuIHN1cHBvcnRpbmcgYnJvd3NlcnMgd2hlcmUgYW4gYXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCB5b3UgbXVzdCBzcGVjaWZ5IGFuIG91dHB1dC5wdWJsaWNQYXRoIG1hbnVhbGx5IHZpYSBjb25maWd1cmF0aW9uXG4vLyBvciBwYXNzIGFuIGVtcHR5IHN0cmluZyAoXCJcIikgYW5kIHNldCB0aGUgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gdmFyaWFibGUgZnJvbSB5b3VyIGNvZGUgdG8gdXNlIHlvdXIgb3duIGxvZ2ljLlxuaWYgKCFzY3JpcHRVcmwpIHRocm93IG5ldyBFcnJvcihcIkF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyXCIpO1xuc2NyaXB0VXJsID0gc2NyaXB0VXJsLnJlcGxhY2UoLyMuKiQvLCBcIlwiKS5yZXBsYWNlKC9cXD8uKiQvLCBcIlwiKS5yZXBsYWNlKC9cXC9bXlxcL10rJC8sIFwiL1wiKTtcbl9fd2VicGFja19yZXF1aXJlX18ucCA9IHNjcmlwdFVybDsiLCIvLyBubyBiYXNlVVJJXG5cbi8vIG9iamVjdCB0byBzdG9yZSBsb2FkZWQgY2h1bmtzXG4vLyBcIjFcIiBtZWFucyBcImFscmVhZHkgbG9hZGVkXCJcbnZhciBpbnN0YWxsZWRDaHVua3MgPSB7XG5cdDgyNTogMVxufTtcblxuLy8gaW1wb3J0U2NyaXB0cyBjaHVuayBsb2FkaW5nXG52YXIgaW5zdGFsbENodW5rID0gKGRhdGEpID0+IHtcblx0dmFyIFtjaHVua0lkcywgbW9yZU1vZHVsZXMsIHJ1bnRpbWVdID0gZGF0YTtcblx0Zm9yKHZhciBtb2R1bGVJZCBpbiBtb3JlTW9kdWxlcykge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhtb3JlTW9kdWxlcywgbW9kdWxlSWQpKSB7XG5cdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLm1bbW9kdWxlSWRdID0gbW9yZU1vZHVsZXNbbW9kdWxlSWRdO1xuXHRcdH1cblx0fVxuXHRpZihydW50aW1lKSBydW50aW1lKF9fd2VicGFja19yZXF1aXJlX18pO1xuXHR3aGlsZShjaHVua0lkcy5sZW5ndGgpXG5cdFx0aW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRzLnBvcCgpXSA9IDE7XG5cdHBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uKGRhdGEpO1xufTtcbl9fd2VicGFja19yZXF1aXJlX18uZi5pID0gKGNodW5rSWQsIHByb21pc2VzKSA9PiB7XG5cdC8vIFwiMVwiIGlzIHRoZSBzaWduYWwgZm9yIFwiYWxyZWFkeSBsb2FkZWRcIlxuXHRpZighaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdKSB7XG5cdFx0aWYodHJ1ZSkgeyAvLyBhbGwgY2h1bmtzIGhhdmUgSlNcblx0XHRcdGltcG9ydFNjcmlwdHMoX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgX193ZWJwYWNrX3JlcXVpcmVfXy51KGNodW5rSWQpKTtcblx0XHR9XG5cdH1cbn07XG5cbnZhciBjaHVua0xvYWRpbmdHbG9iYWwgPSBzZWxmW1wid2VicGFja0NodW5rXCJdID0gc2VsZltcIndlYnBhY2tDaHVua1wiXSB8fCBbXTtcbnZhciBwYXJlbnRDaHVua0xvYWRpbmdGdW5jdGlvbiA9IGNodW5rTG9hZGluZ0dsb2JhbC5wdXNoLmJpbmQoY2h1bmtMb2FkaW5nR2xvYmFsKTtcbmNodW5rTG9hZGluZ0dsb2JhbC5wdXNoID0gaW5zdGFsbENodW5rO1xuXG4vLyBubyBITVJcblxuLy8gbm8gSE1SIG1hbmlmZXN0IiwiLy8gcnVuIHN0YXJ0dXBcbnZhciBfX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXy54KCk7XG4iXSwibmFtZXMiOlsiZGVmZXJyZWQiLCJuZXh0IiwiRW1wdHlNb2RlbCIsImNvbnN0cnVjdG9yIiwidGhpcyIsInBhdGhzIiwibW9kZWxzIiwidW5pdHMiLCJGaWxsZXRlZFBhdGhNb2RlbCIsInBhdGhQb2ludHMiLCJmaWxsZXRSYWRpaSIsImNsb3NlZCIsInN1cGVyIiwicGF0aFBhaXJzIiwicHVzaCIsImkiLCJsZW5ndGgiLCJtYXAiLCJwYXRoUGFpciIsImFyY3MiLCJmb3JFYWNoIiwiZmlsbGV0UmFkaXVzIiwiaW5kZXgiLCJjb25jYXQiLCJhZGRQYXRoIiwiT2Zmc2V0TGluZXNBdEludGVydmFscyIsImJhc2VMaW5lU3RhcnQiLCJiYXNlTGluZUVuZCIsImludGVydmFscyIsInJlbGF0aXZlSW50ZXJ2YWxzIiwibGluZUxheWVyIiwiZmxpcFBvc2l0aXZlRGlyZWN0aW9uIiwiZXh0ZW5zaW9uTGluZUFuZ2xlIiwiY3VtdWxhdGl2ZUV4dGVuc2lvbiIsIkFycmF5IiwiaXNBcnJheSIsImludGVydmFsRGlzdCIsIm9mZnNldExpbmUiLCJkaXN0UG9pbnQiLCJDb2RlUnVubmVyVXRpbHMiLCJsaW5lRnJvbVBvaW50QXRBbmdsZSIsImZyb21Qb2ludCIsImFuZ2xlSW5EZWdyZWVzIiwiYW5nbGVJblJhZGlhbnMiLCJ0b1BvaW50IiwiZW5hYmxlU3BsaXR0aW5nIiwibW9kZWxUb1NldCIsInNwbGl0IiwiaWZOZWVkZWQiLCJheGlzIiwiYXV0b0NhcHRpb25Nb2RlbCIsIm1vZGVsVG9DYXB0aW9uIiwiY2FwdGlvbiIsInRleHRIZWlnaHQiLCJsb2NhdGlvbiIsIm1vZGVsRXh0ZW50cyIsImxvdyIsImhpZ2giLCJjbG9uZUFuZE9mZnNldCIsIm1vZGVsVG9DbG9uZSIsIm9mZnNldCIsInBvaW50RnJvbVBvaW50QXRBbmdsZSIsInBvaW50RnJvbVBvaW50TGluZUF0QW5nbGUiLCJwMSIsInAyIiwiZGlzdGFuY2UiLCJwYXJhbXMiLCJPYmplY3QiLCJhc3NpZ24iLCJjbG9ja3dpc2UiLCJhbmdsZSIsImluc2V0IiwicG9pbnRBbmdsZSIsInIiLCJNYXRoIiwic2luIiwiUEkiLCJ0YWJQb2ludHNGcm9tUG9pbnRMaW5lIiwiYmFzZUluc2V0IiwiYmFzZUluc2V0MiIsImFuZ2xlMiIsInBpMSIsInNsaWNlIiwicGkyIiwidGFiUDEiLCJ0YWJQMiIsInJlc3VsdCIsInJlbGF0aXZlUG9pbnRMaXN0VG9BYnNvbHV0ZSIsInBvaW50cyIsImxhc3RQb2ludCIsInRoaXNQb2ludCIsImFic1BvaW50IiwiZHJhd0VuZ2xpc2hQb2ludCIsImZyb20iLCJ0byIsIm9wdGlvbnMiLCJyaXNlclBDVCIsInJpc2VySGVpZ2h0IiwibGluZUFuZ2xlIiwib3JpZ2luRnJvbSIsIm9yaWdpblRvIiwibWlkUG9pbnQiLCJjaXJjbGVGcm9tIiwiY2lyY2xlVG8iLCJpbnRlcnNlY3Rpb24iLCJpbnRlcnNlY3Rpb25EaXN0YW5jZSIsImludGVyc2VjdGlvblBvaW50cyIsIm1pZFBvaW50VGlwIiwibWlkUG9pbnRBbmdsZUZyb20iLCJtaWRQb2ludEFuZ2xlVG8iLCJlbmdsaXNoUG9pbnQiLCJhZGRUYWJBdFBvaW50TGluZUF0TGluZUluZGV4IiwicG9pbnRMaW5lIiwiYXV0b1dyYXAiLCJwMkluZGV4IiwidGFiUG9pbnRzIiwic3BsaWNlIiwiZGV0ZXJtaW5lQmVuZEFsbG93YW5jZSIsIm1hdGVyaWFsVGhpY2tuZXNzIiwiaW5uZXJSYWRpdXMiLCJrIiwic2luZ2xlU2lkZWQiLCJtYXgiLCJiZW5kQWxsb3dhbmNlIiwiY2hvcmRhbFRyYXBlem9pZFBvaW50TGluZSIsInJhZGl1c0RlbHRhIiwiaW5uZXJDaG9yZExlbmd0aCIsIm91dGVyQ2hvcmRMZW5ndGgiLCJvdXRlclJhZGl1cyIsImNhcmRTbG90UG9pbnRMaW5lIiwib3V0ZXJXaWR0aCIsIm91dGVySGVpZ2h0IiwidFNsb3QiLCJiYXNlV2lkdGhQQ1QiLCJiYXNlV2lkdGgiLCJzdGl0Y2hBbGxvd2FuY2UiLCJzaWRlSW5zZXQiLCJjYXJkU3RpY2tPdXRQQ1QiLCJjYXJkU3RpY2tPdXQiLCJzbG90UmlzZUFtb3VudFBDVCIsInNsb3RSaXNlQW1vdW50IiwidG9wTGluZVNsb3BlUENUIiwidG9wTGluZVNsb3BlUmlzZSIsInRvcExpbmVQb2ludHMiLCJwYW5lbEhlaWdodCIsInBhbmVsV2lkdGgiLCJIZWFwUGFja2VyIiwiYXBwbGllZE9wdGlvbnMiLCJkZWZhdWx0UGFja0FyZWFIZWlnaHQiLCJkZWZhdWx0UGFja0FyZWFXaWR0aCIsImdyb3dMaW1pdEhlaWdodCIsImdyb3dMaW1pdFdpZHRoIiwiY2FuR3Jvd1BhY2tBcmVhIiwiY2FuQWRkUGFja0FyZWFzIiwiYXZhaWxhYmxlSGVhcCIsInBhY2tBcmVhRGVmaW5pdGlvbnMiLCJwYWNrQXJlYU1heEluZGV4IiwicGFja2VkQmxvY2tzIiwiYWRkUGFja0FyZWEiLCJwYWNrZWRBcmVhcyIsInBhY2tBcmVhIiwiaWQiLCJhIiwiaCIsInciLCJibG9ja3MiLCJmaWx0ZXIiLCJibG9jayIsImFkZFBhY2tBcmVhV2lkdGgiLCJhZGRQYWNrQXJlYUhlaWdodCIsIm5ld1BhY2tBcmVhIiwieCIsInkiLCJncm93UGFja0FyZWEiLCJncm93VG9GaXRXaWR0aCIsImdyb3dUb0ZpdEhlaWdodCIsInBhY2tBcmVhSWQiLCJlZGl0aW5nUGFja0FyZWEiLCJmaW5kIiwiZ3Jvd09uV2lkdGgiLCJhY3R1YWxGaW5hbFdpZHRoIiwiYWN0dWFsRmluYWxIZWlnaHQiLCJwYWNrQXJlYUhlYXBzIiwiaGVhcCIsInJpZ2h0U2lkZURlbHRhIiwiYm90dG9tU2lkZURlbHRhIiwicyIsImUiLCJzb3J0QmxvY2tzRm9yUGFja2luZyIsImJsb2Nrc1RvUGFjayIsInNvcnQiLCJiIiwic29ydEhlYXBGb3JQYWNraW5nIiwic3BsaXRSZW1haW5pbmdIZWFwIiwiaGVhcEFyZWEiLCJzcGxpdEEiLCJzcGxpdEIiLCJwYWNrQmxvY2tJbkF2YWlsYWJsZUFyZWFzIiwiYmxvY2tQYWNrZWQiLCJmaXR0aW5nSGVhcEluZGV4IiwiZmluZEluZGV4IiwiZml0dGluZ0hlYXAiLCJwYWNrZWRCbG9jayIsInJvdGF0ZWQiLCJtb2RlbCIsImhlYXBSZW1haW5pbmciLCJ0cmltRW1wdHlQYWNrQXJlYXMiLCJ2YWxpZFBhY2tBcmVhcyIsImluY2x1ZGVzIiwicGFja0Jsb2NrIiwiTW9kZWxTcGxpdHRlciIsInRyaW1Nb2RlbFRvTGluZSIsIm1vZGVsVG9TbGljZSIsImxpbmVBdCIsImtlZXBQb3NpdGl2ZVNpZGUiLCJhbG9uZ1hBeGlzIiwib3ZlcmxhcCIsImluY2x1ZGVDdXR0aW5nTGluZUhpbnQiLCJhc0Nsb25lIiwiY3V0dGVyUGF0aEV4dGVuc2lvbiIsImN1dHRlclBhdGgiLCJib3VuZGluZ0JveCIsImJvdW5kaW5nQm94V2lkdGgiLCJib3VuZGluZ0JveE9mZnNldFgiLCJib3VuZGluZ0JveEhlaWdodCIsImJvdW5kaW5nQm94T2Zmc2V0WSIsIm1vZGVsU2l6ZSIsImNvbnNvbGUiLCJsb2ciLCJoZWlnaHQiLCJ3aWR0aCIsIm9uUGF0aCIsImNvbnRleHQiLCJwYXRoSW50ZXJzZWN0aW9uIiwicGF0aENvbnRleHQiLCJpbnRlcnNlY3Rpb25Qb2ludCIsIm1vZGVsQ29udGV4dCIsInBhdGhJZCIsImN1dHRpbmdMaW5lSGludCIsInNwbGl0TW9kZWwiLCJtb2RlbFRvU3BsaXQiLCJzcGxpdEF0UGN0Iiwic3BsaXRBdERpc3QiLCJNb2RlbFBhY2tlciIsInBhY2tpbmdPcHRpb25zIiwicGFnZVNpemUiLCJwYWdlU2l6ZUdyb3dMaW1pdCIsImNhbkFkZFBhZ2VzIiwiY2FuR3Jvd1BhZ2VTaXplIiwiYWxsb3dSb3RhdGlvbiIsImFsbG93U3BsaXR0aW5nIiwibWF4U3BsaXRJdGVyYXRpb25zIiwiY3JlYXRlTW9kZWxCbG9jayIsImJsb2NraWQiLCJzcGxpdENvdW50IiwicGFja01vZGVscyIsImZhaWxpbmdNb2RlbHMiLCJyZWR1Y2UiLCJhY2N1bXVsYXRvciIsIm1vZGVsQmxvY2siLCJoZWFwUGFja2VyIiwicm90YXRlQmxvY2siLCJ0ZW1wVyIsInVucGFja2VkQmxvY2tzIiwic2tpcFNwbGl0dGluZ0Jsb2NrcyIsIm1vZGVsU3BsaXR0ZXIiLCJjdXJyZW50QmxvY2tJbmRleCIsImJsb2NrQ2FuU3BsaXQiLCJzcGxpdE1vZGVscyIsInBhY2tlZFBhZ2VzIiwicGFja2VkUGFnZSIsInBhZ2VNb2RlbCIsInBhZ2VzIiwib3JpZ2luIiwicGFnZUJsb2NrTW9kZWwiLCJhbmNob3IiLCJ1bnBhY2tlZE1vZGVscyIsIm1tVG9QREZQUEkiLCJtbURpc3RhbmNlIiwiUmVuZGVyRW5naW5lIiwicmVuZGVySW5Qcm9ncmVzcyIsImdldFJlbmRlckluUHJvZ3Jlc3MiLCJzY2FsZU1vZGVsVG9QREZQUEkiLCJzY2FsZSIsInJlbmRlck1vZGVsVG9TVkciLCJyZW5kZXJPcHRzIiwicmVuZGVyT3B0aW9ucyIsInN0eWxlU2V0Iiwic3RpdGNoIiwic3Ryb2tlIiwic3Ryb2tlV2lkdGgiLCJjc3NTdHlsZSIsImNlbnRlciIsImhpbnQiLCJ1c2VTdmdQYXRoT25seSIsImxheWVyT3B0aW9ucyIsInJlbmRlclBhZ2VNb2RlbHNUb1NWRyIsInBhZ2VNb2RlbHMiLCJzdmdQYWdlcyIsIlByb21pc2UiLCJyZXNvbHZlIiwibW9kZWxUb1BERiIsImRvYyIsInBhZ2VNYXJnaW5zIiwibGF5ZXJTdHlsZXMiLCJiYXNlIiwic3Ryb2tlQ29sb3IiLCJzY2FsZWRNb2RlbCIsInN2Z1BhdGhzIiwibGVmdCIsInRvcCIsImJ5TGF5ZXJzIiwia2V5IiwidmFsdWUiLCJlbnRyaWVzIiwic2F2ZSIsInBhdGgiLCJzdHlsZSIsImxpbmVXaWR0aCIsImRhc2hlZCIsImRhc2giLCJ1bmRhc2giLCJyZXN0b3JlIiwibW9kZWxDYXB0aW9uIiwidGV4dCIsImVuZCIsImJhc2VsaW5lIiwicmVuZGVyUGFnZU1vZGVsc1RvUERGIiwicGF0dGVybkpvaW5MaW5lIiwibGF5b3V0IiwicmlnaHQiLCJib3R0b20iLCJwZGZQYWdlU2V0dGluZ3MiLCJzaXplIiwiYXV0b0ZpcnN0UGFnZSIsInN0cmVhbSIsInBpcGUiLCJwYWdlIiwiYWRkUGFnZSIsInJlamVjdCIsIm9uIiwiYmxvYiIsInRvQmxvYiIsInJlYWRlciIsIkZpbGVSZWFkZXIiLCJyZWFkQXNEYXRhVVJMIiwib25sb2FkZW5kIiwiYmxvYlRvQmFzZTY0IiwicmVuZGVyQ29kZSIsImNvZGUiLCJyZXNwb25zZUNhbGxiYWNrIiwiZm9ybWF0IiwicGFja1RvUGFnZXMiLCJtb2RlbHNGb3JQYWdlUGFja2luZyIsImRyYXdDb2RlIiwidXNlclBhcmFtZXRlcnMiLCJDb2RlV3JhcHBlckZ1bmN0aW9uIiwiRnVuY3Rpb24iLCJwcm90b3R5cGUiLCJjcnUiLCJjb2RlUmVzdWx0IiwicmV0dXJuVmFsIiwibW9kZWxBcnJheSIsImtleXMiLCJvdXRwdXQiLCJydW5EcmF3Q29kZSIsInBhY2tpbmdSZXN1bHQiLCJyZW5kZXJlZFBhZ2VzIiwidGhlbiIsInJlbmRlcmVkRGF0YSIsInR5cGUiLCJjb250ZW50VHlwZSIsInJlbmRlckZvciIsInN1Y2Nlc3NDb250ZW50IiwiZXJyb3JDb250ZW50IiwibG9nTWVzc2FnZXMiLCJyZXNldCIsInNlbGYiLCJvbm1lc3NhZ2UiLCJkYXRhIiwicmVuZGVyRW5naW5lIiwicmVzcG9uc2VEYXRhIiwicG9zdE1lc3NhZ2UiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJleHBvcnRzIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsIm0iLCJfX3dlYnBhY2tfZXhwb3J0c19fIiwiTyIsImNodW5rSWRzIiwiZm4iLCJwcmlvcml0eSIsIm5vdEZ1bGZpbGxlZCIsIkluZmluaXR5IiwiZnVsZmlsbGVkIiwiaiIsImV2ZXJ5IiwibiIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkIiwiZGVmaW5pdGlvbiIsIm8iLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJmIiwiY2h1bmtJZCIsImFsbCIsInByb21pc2VzIiwidSIsImciLCJnbG9iYWxUaGlzIiwid2luZG93Iiwib2JqIiwicHJvcCIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwic2NyaXB0VXJsIiwiaW1wb3J0U2NyaXB0cyIsImRvY3VtZW50IiwiY3VycmVudFNjcmlwdCIsInNyYyIsInNjcmlwdHMiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsIkVycm9yIiwicmVwbGFjZSIsInAiLCJpbnN0YWxsZWRDaHVua3MiLCJjaHVua0xvYWRpbmdHbG9iYWwiLCJwYXJlbnRDaHVua0xvYWRpbmdGdW5jdGlvbiIsImJpbmQiLCJtb3JlTW9kdWxlcyIsInJ1bnRpbWUiLCJwb3AiXSwic291cmNlUm9vdCI6IiJ9